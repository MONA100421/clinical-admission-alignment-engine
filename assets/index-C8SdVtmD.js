var VR=Object.defineProperty;var Px=n=>{throw TypeError(n)};var WR=(n,e,t)=>e in n?VR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ne=(n,e,t)=>WR(n,typeof e!="symbol"?e+"":e,t),_v=(n,e,t)=>e.has(n)||Px("Cannot "+t);var l=(n,e,t)=>(_v(n,e,"read from private field"),t?t.call(n):e.get(n)),A=(n,e,t)=>e.has(n)?Px("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),y=(n,e,t,r)=>(_v(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),S=(n,e,t)=>(_v(n,e,"access private method"),t);var ft=(n,e,t,r)=>({set _(s){y(n,e,s,t)},get _(){return l(n,e,r)}});function GR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function rE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sE={exports:{}},Lm={},iE={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=Symbol.for("react.element"),XR=Symbol.for("react.portal"),YR=Symbol.for("react.fragment"),qR=Symbol.for("react.strict_mode"),KR=Symbol.for("react.profiler"),QR=Symbol.for("react.provider"),ZR=Symbol.for("react.context"),JR=Symbol.for("react.forward_ref"),ek=Symbol.for("react.suspense"),tk=Symbol.for("react.memo"),nk=Symbol.for("react.lazy"),Rx=Symbol.iterator;function rk(n){return n===null||typeof n!="object"?null:(n=Rx&&n[Rx]||n["@@iterator"],typeof n=="function"?n:null)}var oE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aE=Object.assign,lE={};function $u(n,e,t){this.props=n,this.context=e,this.refs=lE,this.updater=t||oE}$u.prototype.isReactComponent={};$u.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};$u.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function cE(){}cE.prototype=$u.prototype;function Bw(n,e,t){this.props=n,this.context=e,this.refs=lE,this.updater=t||oE}var Hw=Bw.prototype=new cE;Hw.constructor=Bw;aE(Hw,$u.prototype);Hw.isPureReactComponent=!0;var kx=Array.isArray,uE=Object.prototype.hasOwnProperty,Uw={current:null},dE={key:!0,ref:!0,__self:!0,__source:!0};function hE(n,e,t){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)uE.call(e,r)&&!dE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hf,type:n,key:i,ref:o,props:s,_owner:Uw.current}}function sk(n,e){return{$$typeof:Hf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Vw(n){return typeof n=="object"&&n!==null&&n.$$typeof===Hf}function ik(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Mx=/\/+/g;function Tv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?ik(""+n.key):e.toString(36)}function kp(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Hf:case XR:o=!0}}if(o)return o=n,s=s(o),n=r===""?"."+Tv(o,0):r,kx(s)?(t="",n!=null&&(t=n.replace(Mx,"$&/")+"/"),kp(s,e,t,"",function(u){return u})):s!=null&&(Vw(s)&&(s=sk(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Mx,"$&/")+"/")+n)),e.push(s)),1;if(o=0,r=r===""?".":r+":",kx(n))for(var a=0;a<n.length;a++){i=n[a];var c=r+Tv(i,a);o+=kp(i,e,t,c,s)}else if(c=rk(n),typeof c=="function")for(n=c.call(n),a=0;!(i=n.next()).done;)i=i.value,c=r+Tv(i,a++),o+=kp(i,e,t,c,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rp(n,e,t){if(n==null)return n;var r=[],s=0;return kp(n,r,"","",function(i){return e.call(t,i,s++)}),r}function ok(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var on={current:null},Mp={transition:null},ak={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Mp,ReactCurrentOwner:Uw};function fE(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:rp,forEach:function(n,e,t){rp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return rp(n,function(){e++}),e},toArray:function(n){return rp(n,function(e){return e})||[]},only:function(n){if(!Vw(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};pe.Component=$u;pe.Fragment=YR;pe.Profiler=KR;pe.PureComponent=Bw;pe.StrictMode=qR;pe.Suspense=ek;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ak;pe.act=fE;pe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=aE({},n.props),s=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Uw.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)uE.call(e,c)&&!dE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hf,type:n.type,key:s,ref:i,props:r,_owner:o}};pe.createContext=function(n){return n={$$typeof:ZR,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:QR,_context:n},n.Consumer=n};pe.createElement=hE;pe.createFactory=function(n){var e=hE.bind(null,n);return e.type=n,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(n){return{$$typeof:JR,render:n}};pe.isValidElement=Vw;pe.lazy=function(n){return{$$typeof:nk,_payload:{_status:-1,_result:n},_init:ok}};pe.memo=function(n,e){return{$$typeof:tk,type:n,compare:e===void 0?null:e}};pe.startTransition=function(n){var e=Mp.transition;Mp.transition={};try{n()}finally{Mp.transition=e}};pe.unstable_act=fE;pe.useCallback=function(n,e){return on.current.useCallback(n,e)};pe.useContext=function(n){return on.current.useContext(n)};pe.useDebugValue=function(){};pe.useDeferredValue=function(n){return on.current.useDeferredValue(n)};pe.useEffect=function(n,e){return on.current.useEffect(n,e)};pe.useId=function(){return on.current.useId()};pe.useImperativeHandle=function(n,e,t){return on.current.useImperativeHandle(n,e,t)};pe.useInsertionEffect=function(n,e){return on.current.useInsertionEffect(n,e)};pe.useLayoutEffect=function(n,e){return on.current.useLayoutEffect(n,e)};pe.useMemo=function(n,e){return on.current.useMemo(n,e)};pe.useReducer=function(n,e,t){return on.current.useReducer(n,e,t)};pe.useRef=function(n){return on.current.useRef(n)};pe.useState=function(n){return on.current.useState(n)};pe.useSyncExternalStore=function(n,e,t){return on.current.useSyncExternalStore(n,e,t)};pe.useTransition=function(){return on.current.useTransition()};pe.version="18.3.1";iE.exports=pe;var C=iE.exports;const B=rE(C),Im=GR({__proto__:null,default:B},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=C,ck=Symbol.for("react.element"),uk=Symbol.for("react.fragment"),dk=Object.prototype.hasOwnProperty,hk=lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fk={key:!0,ref:!0,__self:!0,__source:!0};function pE(n,e,t){var r,s={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dk.call(e,r)&&!fk.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ck,type:n,key:i,ref:o,props:s,_owner:hk.current}}Lm.Fragment=uk;Lm.jsx=pE;Lm.jsxs=pE;sE.exports=Lm;var _=sE.exports,gE={exports:{}},Wn={},mE={exports:{}},vE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,D){var H=N.length;N.push(D);e:for(;0<H;){var J=H-1>>>1,V=N[J];if(0<s(V,D))N[J]=D,N[H]=V,H=J;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],H=N.pop();if(H!==D){N[0]=H;e:for(var J=0,V=N.length,Z=V>>>1;J<Z;){var ie=2*(J+1)-1,ke=N[ie],be=ie+1,ee=N[be];if(0>s(ke,H))be<V&&0>s(ee,ke)?(N[J]=ee,N[be]=H,J=be):(N[J]=ke,N[ie]=H,J=ie);else if(be<V&&0>s(ee,H))N[J]=ee,N[be]=H,J=be;else break e}}return D}function s(N,D){var H=N.sortIndex-D.sortIndex;return H!==0?H:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var D=t(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=N)r(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=t(u)}}function E(N){if(g=!1,x(N),!m)if(t(c)!==null)m=!0,I(T);else{var D=t(u);D!==null&&j(E,D.startTime-N)}}function T(N,D){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var H=f;try{for(x(D),h=t(c);h!==null&&(!(h.expirationTime>D)||N&&!O());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var V=J(h.expirationTime<=D);D=n.unstable_now(),typeof V=="function"?h.callback=V:h===t(c)&&r(c),x(D)}else r(c);h=t(c)}if(h!==null)var Z=!0;else{var ie=t(u);ie!==null&&j(E,ie.startTime-D),Z=!1}return Z}finally{h=null,f=H,p=!1}}var P=!1,R=null,k=-1,M=5,L=-1;function O(){return!(n.unstable_now()-L<M)}function $(){if(R!==null){var N=n.unstable_now();L=N;var D=!0;try{D=R(!0,N)}finally{D?q():(P=!1,R=null)}}else P=!1}var q;if(typeof w=="function")q=function(){w($)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,te=F.port2;F.port1.onmessage=$,q=function(){te.postMessage(null)}}else q=function(){b($,0)};function I(N){R=N,P||(P=!0,q())}function j(N,D){k=b(function(){N(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,I(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(N){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var H=f;f=D;try{return N()}finally{f=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=f;f=N;try{return D()}finally{f=H}},n.unstable_scheduleCallback=function(N,D,H){var J=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,N){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,N={id:d++,callback:D,priorityLevel:N,startTime:H,expirationTime:V,sortIndex:-1},H>J?(N.sortIndex=H,e(u,N),t(c)===null&&N===t(u)&&(g?(v(k),k=-1):g=!0,j(E,H-J))):(N.sortIndex=V,e(c,N),m||p||(m=!0,I(T))),N},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(N){var D=f;return function(){var H=f;f=D;try{return N.apply(this,arguments)}finally{f=H}}}})(vE);mE.exports=vE;var pk=mE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk=C,Vn=pk;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yE=new Set,Hd={};function Tl(n,e){ku(n,e),ku(n+"Capture",e)}function ku(n,e){for(Hd[n]=e,n=0;n<e.length;n++)yE.add(e[n])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fy=Object.prototype.hasOwnProperty,mk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nx={},Lx={};function vk(n){return fy.call(Lx,n)?!0:fy.call(Nx,n)?!1:mk.test(n)?Lx[n]=!0:(Nx[n]=!0,!1)}function yk(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function wk(n,e,t,r){if(e===null||typeof e>"u"||yk(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(n,e,t,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Nt[n]=new an(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Nt[e]=new an(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Nt[n]=new an(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Nt[n]=new an(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Nt[n]=new an(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Nt[n]=new an(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Nt[n]=new an(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Nt[n]=new an(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Nt[n]=new an(n,5,!1,n.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function Gw(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Ww,Gw);Nt[e]=new an(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Ww,Gw);Nt[e]=new an(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Ww,Gw);Nt[e]=new an(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Nt[n]=new an(n,1,!1,n.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Nt[n]=new an(n,1,!1,n.toLowerCase(),null,!0,!0)});function Xw(n,e,t,r){var s=Nt.hasOwnProperty(e)?Nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wk(e,t,s,r)&&(t=null),r||s===null?vk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ei=gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sp=Symbol.for("react.element"),Gl=Symbol.for("react.portal"),Xl=Symbol.for("react.fragment"),Yw=Symbol.for("react.strict_mode"),py=Symbol.for("react.profiler"),wE=Symbol.for("react.provider"),bE=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),my=Symbol.for("react.suspense_list"),Kw=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),xE=Symbol.for("react.offscreen"),Ix=Symbol.iterator;function Yu(n){return n===null||typeof n!="object"?null:(n=Ix&&n[Ix]||n["@@iterator"],typeof n=="function"?n:null)}var Ye=Object.assign,Pv;function ld(n){if(Pv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Pv=e&&e[1]||""}return`
`+Pv+n}var Rv=!1;function kv(n,e){if(!n||Rv)return"";Rv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{Rv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ld(n):""}function bk(n){switch(n.tag){case 5:return ld(n.type);case 16:return ld("Lazy");case 13:return ld("Suspense");case 19:return ld("SuspenseList");case 0:case 2:case 15:return n=kv(n.type,!1),n;case 11:return n=kv(n.type.render,!1),n;case 1:return n=kv(n.type,!0),n;default:return""}}function vy(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Xl:return"Fragment";case Gl:return"Portal";case py:return"Profiler";case Yw:return"StrictMode";case gy:return"Suspense";case my:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case bE:return(n.displayName||"Context")+".Consumer";case wE:return(n._context.displayName||"Context")+".Provider";case qw:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Kw:return e=n.displayName||null,e!==null?e:vy(n.type)||"Memo";case Di:e=n._payload,n=n._init;try{return vy(n(e))}catch{}}return null}function xk(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vy(e);case 8:return e===Yw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Do(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function AE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ak(n){var e=AE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ip(n){n._valueTracker||(n._valueTracker=Ak(n))}function SE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=AE(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Eg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function yy(n,e){var t=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Dx(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Do(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EE(n,e){e=e.checked,e!=null&&Xw(n,"checked",e,!1)}function wy(n,e){EE(n,e);var t=Do(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?by(n,e.type,t):e.hasOwnProperty("defaultValue")&&by(n,e.type,Do(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Ox(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function by(n,e,t){(e!=="number"||Eg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var cd=Array.isArray;function oc(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Do(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function xy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Fx(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(cd(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Do(t)}}function CE(n,e){var t=Do(e.value),r=Do(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function jx(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function _E(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ay(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?_E(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var op,TE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(op=op||document.createElement("div"),op.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=op.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ud(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sk=["Webkit","ms","Moz","O"];Object.keys(kd).forEach(function(n){Sk.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),kd[e]=kd[n]})});function PE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||kd.hasOwnProperty(n)&&kd[n]?(""+e).trim():e+"px"}function RE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=PE(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var Ek=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sy(n,e){if(e){if(Ek[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ey(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cy=null;function Qw(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _y=null,ac=null,lc=null;function zx(n){if(n=Wf(n)){if(typeof _y!="function")throw Error(z(280));var e=n.stateNode;e&&(e=zm(e),_y(n.stateNode,n.type,e))}}function kE(n){ac?lc?lc.push(n):lc=[n]:ac=n}function ME(){if(ac){var n=ac,e=lc;if(lc=ac=null,zx(n),e)for(n=0;n<e.length;n++)zx(e[n])}}function NE(n,e){return n(e)}function LE(){}var Mv=!1;function IE(n,e,t){if(Mv)return n(e,t);Mv=!0;try{return NE(n,e,t)}finally{Mv=!1,(ac!==null||lc!==null)&&(LE(),ME())}}function Vd(n,e){var t=n.stateNode;if(t===null)return null;var r=zm(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var Ty=!1;if(mi)try{var qu={};Object.defineProperty(qu,"passive",{get:function(){Ty=!0}}),window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{Ty=!1}function Ck(n,e,t,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Md=!1,Cg=null,_g=!1,Py=null,_k={onError:function(n){Md=!0,Cg=n}};function Tk(n,e,t,r,s,i,o,a,c){Md=!1,Cg=null,Ck.apply(_k,arguments)}function Pk(n,e,t,r,s,i,o,a,c){if(Tk.apply(this,arguments),Md){if(Md){var u=Cg;Md=!1,Cg=null}else throw Error(z(198));_g||(_g=!0,Py=u)}}function Pl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function DE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function $x(n){if(Pl(n)!==n)throw Error(z(188))}function Rk(n){var e=n.alternate;if(!e){if(e=Pl(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return $x(s),n;if(i===r)return $x(s),e;i=i.sibling}throw Error(z(188))}if(t.return!==r.return)t=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(t.alternate!==r)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function OE(n){return n=Rk(n),n!==null?FE(n):null}function FE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=FE(n);if(e!==null)return e;n=n.sibling}return null}var jE=Vn.unstable_scheduleCallback,Bx=Vn.unstable_cancelCallback,kk=Vn.unstable_shouldYield,Mk=Vn.unstable_requestPaint,et=Vn.unstable_now,Nk=Vn.unstable_getCurrentPriorityLevel,Zw=Vn.unstable_ImmediatePriority,zE=Vn.unstable_UserBlockingPriority,Tg=Vn.unstable_NormalPriority,Lk=Vn.unstable_LowPriority,$E=Vn.unstable_IdlePriority,Dm=null,bs=null;function Ik(n){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Dm,n,void 0,(n.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:Fk,Dk=Math.log,Ok=Math.LN2;function Fk(n){return n>>>=0,n===0?32:31-(Dk(n)/Ok|0)|0}var ap=64,lp=4194304;function ud(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pg(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?r=ud(a):(i&=o,i!==0&&(r=ud(i)))}else o=t&~s,o!==0?r=ud(o):i!==0&&(r=ud(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-$r(e),s=1<<t,r|=n[t],e&=~s;return r}function jk(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zk(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-$r(i),a=1<<o,c=s[o];c===-1?(!(a&t)||a&r)&&(s[o]=jk(a,e)):c<=e&&(n.expiredLanes|=a),i&=~a}}function Ry(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function BE(){var n=ap;return ap<<=1,!(ap&4194240)&&(ap=64),n}function Nv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Uf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-$r(e),n[e]=t}function $k(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-$r(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function Jw(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-$r(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var Ce=0;function HE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var UE,eb,VE,WE,GE,ky=!1,cp=[],_o=null,To=null,Po=null,Wd=new Map,Gd=new Map,Fi=[],Bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hx(n,e){switch(n){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Wd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gd.delete(e.pointerId)}}function Ku(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wf(e),e!==null&&eb(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function Hk(n,e,t,r,s){switch(e){case"focusin":return _o=Ku(_o,n,e,t,r,s),!0;case"dragenter":return To=Ku(To,n,e,t,r,s),!0;case"mouseover":return Po=Ku(Po,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return Wd.set(i,Ku(Wd.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gd.set(i,Ku(Gd.get(i)||null,n,e,t,r,s)),!0}return!1}function XE(n){var e=na(n.target);if(e!==null){var t=Pl(e);if(t!==null){if(e=t.tag,e===13){if(e=DE(t),e!==null){n.blockedOn=e,GE(n.priority,function(){VE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Np(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=My(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Cy=r,t.target.dispatchEvent(r),Cy=null}else return e=Wf(t),e!==null&&eb(e),n.blockedOn=t,!1;e.shift()}return!0}function Ux(n,e,t){Np(n)&&t.delete(e)}function Uk(){ky=!1,_o!==null&&Np(_o)&&(_o=null),To!==null&&Np(To)&&(To=null),Po!==null&&Np(Po)&&(Po=null),Wd.forEach(Ux),Gd.forEach(Ux)}function Qu(n,e){n.blockedOn===e&&(n.blockedOn=null,ky||(ky=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,Uk)))}function Xd(n){function e(s){return Qu(s,n)}if(0<cp.length){Qu(cp[0],n);for(var t=1;t<cp.length;t++){var r=cp[t];r.blockedOn===n&&(r.blockedOn=null)}}for(_o!==null&&Qu(_o,n),To!==null&&Qu(To,n),Po!==null&&Qu(Po,n),Wd.forEach(e),Gd.forEach(e),t=0;t<Fi.length;t++)r=Fi[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Fi.length&&(t=Fi[0],t.blockedOn===null);)XE(t),t.blockedOn===null&&Fi.shift()}var cc=Ei.ReactCurrentBatchConfig,Rg=!0;function Vk(n,e,t,r){var s=Ce,i=cc.transition;cc.transition=null;try{Ce=1,tb(n,e,t,r)}finally{Ce=s,cc.transition=i}}function Wk(n,e,t,r){var s=Ce,i=cc.transition;cc.transition=null;try{Ce=4,tb(n,e,t,r)}finally{Ce=s,cc.transition=i}}function tb(n,e,t,r){if(Rg){var s=My(n,e,t,r);if(s===null)Hv(n,e,r,kg,t),Hx(n,r);else if(Hk(s,n,e,t,r))r.stopPropagation();else if(Hx(n,r),e&4&&-1<Bk.indexOf(n)){for(;s!==null;){var i=Wf(s);if(i!==null&&UE(i),i=My(n,e,t,r),i===null&&Hv(n,e,r,kg,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hv(n,e,r,null,t)}}var kg=null;function My(n,e,t,r){if(kg=null,n=Qw(r),n=na(n),n!==null)if(e=Pl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=DE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return kg=n,null}function YE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nk()){case Zw:return 1;case zE:return 4;case Tg:case Lk:return 16;case $E:return 536870912;default:return 16}default:return 16}}var So=null,nb=null,Lp=null;function qE(){if(Lp)return Lp;var n,e=nb,t=e.length,r,s="value"in So?So.value:So.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===s[i-r];r++);return Lp=s.slice(n,1<r?1-r:void 0)}function Ip(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function up(){return!0}function Vx(){return!1}function Gn(n){function e(t,r,s,i,o){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?up:Vx,this.isPropagationStopped=Vx,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=up)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=up)},persist:function(){},isPersistent:up}),e}var Bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rb=Gn(Bu),Vf=Ye({},Bu,{view:0,detail:0}),Gk=Gn(Vf),Lv,Iv,Zu,Om=Ye({},Vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sb,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Zu&&(Zu&&n.type==="mousemove"?(Lv=n.screenX-Zu.screenX,Iv=n.screenY-Zu.screenY):Iv=Lv=0,Zu=n),Lv)},movementY:function(n){return"movementY"in n?n.movementY:Iv}}),Wx=Gn(Om),Xk=Ye({},Om,{dataTransfer:0}),Yk=Gn(Xk),qk=Ye({},Vf,{relatedTarget:0}),Dv=Gn(qk),Kk=Ye({},Bu,{animationName:0,elapsedTime:0,pseudoElement:0}),Qk=Gn(Kk),Zk=Ye({},Bu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jk=Gn(Zk),eM=Ye({},Bu,{data:0}),Gx=Gn(eM),tM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sM(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=rM[n])?!!e[n]:!1}function sb(){return sM}var iM=Ye({},Vf,{key:function(n){if(n.key){var e=tM[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ip(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sb,charCode:function(n){return n.type==="keypress"?Ip(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ip(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),oM=Gn(iM),aM=Ye({},Om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xx=Gn(aM),lM=Ye({},Vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sb}),cM=Gn(lM),uM=Ye({},Bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),dM=Gn(uM),hM=Ye({},Om,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fM=Gn(hM),pM=[9,13,27,32],ib=mi&&"CompositionEvent"in window,Nd=null;mi&&"documentMode"in document&&(Nd=document.documentMode);var gM=mi&&"TextEvent"in window&&!Nd,KE=mi&&(!ib||Nd&&8<Nd&&11>=Nd),Yx=" ",qx=!1;function QE(n,e){switch(n){case"keyup":return pM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yl=!1;function mM(n,e){switch(n){case"compositionend":return ZE(e);case"keypress":return e.which!==32?null:(qx=!0,Yx);case"textInput":return n=e.data,n===Yx&&qx?null:n;default:return null}}function vM(n,e){if(Yl)return n==="compositionend"||!ib&&QE(n,e)?(n=qE(),Lp=nb=So=null,Yl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KE&&e.locale!=="ko"?null:e.data;default:return null}}var yM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!yM[n.type]:e==="textarea"}function JE(n,e,t,r){kE(r),e=Mg(e,"onChange"),0<e.length&&(t=new rb("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Ld=null,Yd=null;function wM(n){u1(n,0)}function Fm(n){var e=Ql(n);if(SE(e))return n}function bM(n,e){if(n==="change")return e}var e1=!1;if(mi){var Ov;if(mi){var Fv="oninput"in document;if(!Fv){var Qx=document.createElement("div");Qx.setAttribute("oninput","return;"),Fv=typeof Qx.oninput=="function"}Ov=Fv}else Ov=!1;e1=Ov&&(!document.documentMode||9<document.documentMode)}function Zx(){Ld&&(Ld.detachEvent("onpropertychange",t1),Yd=Ld=null)}function t1(n){if(n.propertyName==="value"&&Fm(Yd)){var e=[];JE(e,Yd,n,Qw(n)),IE(wM,e)}}function xM(n,e,t){n==="focusin"?(Zx(),Ld=e,Yd=t,Ld.attachEvent("onpropertychange",t1)):n==="focusout"&&Zx()}function AM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fm(Yd)}function SM(n,e){if(n==="click")return Fm(e)}function EM(n,e){if(n==="input"||n==="change")return Fm(e)}function CM(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Hr=typeof Object.is=="function"?Object.is:CM;function qd(n,e){if(Hr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!fy.call(e,s)||!Hr(n[s],e[s]))return!1}return!0}function Jx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function eA(n,e){var t=Jx(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Jx(t)}}function n1(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?n1(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function r1(){for(var n=window,e=Eg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Eg(n.document)}return e}function ob(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function _M(n){var e=r1(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&n1(t.ownerDocument.documentElement,t)){if(r!==null&&ob(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=eA(t,i);var o=eA(t,r);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var TM=mi&&"documentMode"in document&&11>=document.documentMode,ql=null,Ny=null,Id=null,Ly=!1;function tA(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ly||ql==null||ql!==Eg(r)||(r=ql,"selectionStart"in r&&ob(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Id&&qd(Id,r)||(Id=r,r=Mg(Ny,"onSelect"),0<r.length&&(e=new rb("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ql)))}function dp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Kl={animationend:dp("Animation","AnimationEnd"),animationiteration:dp("Animation","AnimationIteration"),animationstart:dp("Animation","AnimationStart"),transitionend:dp("Transition","TransitionEnd")},jv={},s1={};mi&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function jm(n){if(jv[n])return jv[n];if(!Kl[n])return n;var e=Kl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in s1)return jv[n]=e[t];return n}var i1=jm("animationend"),o1=jm("animationiteration"),a1=jm("animationstart"),l1=jm("transitionend"),c1=new Map,nA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(n,e){c1.set(n,e),Tl(e,[n])}for(var zv=0;zv<nA.length;zv++){var $v=nA[zv],PM=$v.toLowerCase(),RM=$v[0].toUpperCase()+$v.slice(1);Ho(PM,"on"+RM)}Ho(i1,"onAnimationEnd");Ho(o1,"onAnimationIteration");Ho(a1,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(l1,"onTransitionEnd");ku("onMouseEnter",["mouseout","mouseover"]);ku("onMouseLeave",["mouseout","mouseover"]);ku("onPointerEnter",["pointerout","pointerover"]);ku("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kM=new Set("cancel close invalid load scroll toggle".split(" ").concat(dd));function rA(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Pk(r,e,void 0,n),n.currentTarget=null}function u1(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;rA(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;rA(s,a,u),i=c}}}if(_g)throw n=Py,_g=!1,Py=null,n}function Ie(n,e){var t=e[jy];t===void 0&&(t=e[jy]=new Set);var r=n+"__bubble";t.has(r)||(d1(e,n,2,!1),t.add(r))}function Bv(n,e,t){var r=0;e&&(r|=4),d1(t,n,r,e)}var hp="_reactListening"+Math.random().toString(36).slice(2);function Kd(n){if(!n[hp]){n[hp]=!0,yE.forEach(function(t){t!=="selectionchange"&&(kM.has(t)||Bv(t,!1,n),Bv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[hp]||(e[hp]=!0,Bv("selectionchange",!1,e))}}function d1(n,e,t,r){switch(YE(e)){case 1:var s=Vk;break;case 4:s=Wk;break;default:s=tb}t=s.bind(null,e,t,n),s=void 0,!Ty||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Hv(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=na(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}IE(function(){var u=i,d=Qw(t),h=[];e:{var f=c1.get(n);if(f!==void 0){var p=rb,m=n;switch(n){case"keypress":if(Ip(t)===0)break e;case"keydown":case"keyup":p=oM;break;case"focusin":m="focus",p=Dv;break;case"focusout":m="blur",p=Dv;break;case"beforeblur":case"afterblur":p=Dv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Yk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cM;break;case i1:case o1:case a1:p=Qk;break;case l1:p=dM;break;case"scroll":p=Gk;break;case"wheel":p=fM;break;case"copy":case"cut":case"paste":p=Jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xx}var g=(e&4)!==0,b=!g&&n==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var w=u,x;w!==null;){x=w;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,v!==null&&(E=Vd(w,v),E!=null&&g.push(Qd(w,E,x)))),b)break;w=w.return}0<g.length&&(f=new p(f,m,null,t,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Cy&&(m=t.relatedTarget||t.fromElement)&&(na(m)||m[vi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=u,m=m?na(m):null,m!==null&&(b=Pl(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=Wx,E="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(g=Xx,E="onPointerLeave",v="onPointerEnter",w="pointer"),b=p==null?f:Ql(p),x=m==null?f:Ql(m),f=new g(E,w+"leave",p,t,d),f.target=b,f.relatedTarget=x,E=null,na(d)===u&&(g=new g(v,w+"enter",m,t,d),g.target=x,g.relatedTarget=b,E=g),b=E,p&&m)t:{for(g=p,v=m,w=0,x=g;x;x=Fl(x))w++;for(x=0,E=v;E;E=Fl(E))x++;for(;0<w-x;)g=Fl(g),w--;for(;0<x-w;)v=Fl(v),x--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=Fl(g),v=Fl(v)}g=null}else g=null;p!==null&&sA(h,f,p,g,!1),m!==null&&b!==null&&sA(h,b,m,g,!0)}}e:{if(f=u?Ql(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=bM;else if(Kx(f))if(e1)T=EM;else{T=AM;var P=xM}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=SM);if(T&&(T=T(n,u))){JE(h,T,t,d);break e}P&&P(n,f,u),n==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&by(f,"number",f.value)}switch(P=u?Ql(u):window,n){case"focusin":(Kx(P)||P.contentEditable==="true")&&(ql=P,Ny=u,Id=null);break;case"focusout":Id=Ny=ql=null;break;case"mousedown":Ly=!0;break;case"contextmenu":case"mouseup":case"dragend":Ly=!1,tA(h,t,d);break;case"selectionchange":if(TM)break;case"keydown":case"keyup":tA(h,t,d)}var R;if(ib)e:{switch(n){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Yl?QE(n,t)&&(k="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(KE&&t.locale!=="ko"&&(Yl||k!=="onCompositionStart"?k==="onCompositionEnd"&&Yl&&(R=qE()):(So=d,nb="value"in So?So.value:So.textContent,Yl=!0)),P=Mg(u,k),0<P.length&&(k=new Gx(k,n,null,t,d),h.push({event:k,listeners:P}),R?k.data=R:(R=ZE(t),R!==null&&(k.data=R)))),(R=gM?mM(n,t):vM(n,t))&&(u=Mg(u,"onBeforeInput"),0<u.length&&(d=new Gx("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=R))}u1(h,e)})}function Qd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Mg(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vd(n,t),i!=null&&r.unshift(Qd(n,i,s)),i=Vd(n,e),i!=null&&r.push(Qd(n,i,s))),n=n.return}return r}function Fl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function sA(n,e,t,r,s){for(var i=e._reactName,o=[];t!==null&&t!==r;){var a=t,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Vd(t,i),c!=null&&o.unshift(Qd(t,c,a))):s||(c=Vd(t,i),c!=null&&o.push(Qd(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var MM=/\r\n?/g,NM=/\u0000|\uFFFD/g;function iA(n){return(typeof n=="string"?n:""+n).replace(MM,`
`).replace(NM,"")}function fp(n,e,t){if(e=iA(e),iA(n)!==e&&t)throw Error(z(425))}function Ng(){}var Iy=null,Dy=null;function Oy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fy=typeof setTimeout=="function"?setTimeout:void 0,LM=typeof clearTimeout=="function"?clearTimeout:void 0,oA=typeof Promise=="function"?Promise:void 0,IM=typeof queueMicrotask=="function"?queueMicrotask:typeof oA<"u"?function(n){return oA.resolve(null).then(n).catch(DM)}:Fy;function DM(n){setTimeout(function(){throw n})}function Uv(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),Xd(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Xd(e)}function Ro(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function aA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Hu=Math.random().toString(36).slice(2),ys="__reactFiber$"+Hu,Zd="__reactProps$"+Hu,vi="__reactContainer$"+Hu,jy="__reactEvents$"+Hu,OM="__reactListeners$"+Hu,FM="__reactHandles$"+Hu;function na(n){var e=n[ys];if(e)return e;for(var t=n.parentNode;t;){if(e=t[vi]||t[ys]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=aA(n);n!==null;){if(t=n[ys])return t;n=aA(n)}return e}n=t,t=n.parentNode}return null}function Wf(n){return n=n[ys]||n[vi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ql(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function zm(n){return n[Zd]||null}var zy=[],Zl=-1;function Uo(n){return{current:n}}function Oe(n){0>Zl||(n.current=zy[Zl],zy[Zl]=null,Zl--)}function Ne(n,e){Zl++,zy[Zl]=n.current,n.current=e}var Oo={},Xt=Uo(Oo),yn=Uo(!1),vl=Oo;function Mu(n,e){var t=n.type.contextTypes;if(!t)return Oo;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function wn(n){return n=n.childContextTypes,n!=null}function Lg(){Oe(yn),Oe(Xt)}function lA(n,e,t){if(Xt.current!==Oo)throw Error(z(168));Ne(Xt,e),Ne(yn,t)}function h1(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,xk(n)||"Unknown",s));return Ye({},t,r)}function Ig(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Oo,vl=Xt.current,Ne(Xt,n),Ne(yn,yn.current),!0}function cA(n,e,t){var r=n.stateNode;if(!r)throw Error(z(169));t?(n=h1(n,e,vl),r.__reactInternalMemoizedMergedChildContext=n,Oe(yn),Oe(Xt),Ne(Xt,n)):Oe(yn),Ne(yn,t)}var Fs=null,$m=!1,Vv=!1;function f1(n){Fs===null?Fs=[n]:Fs.push(n)}function jM(n){$m=!0,f1(n)}function Vo(){if(!Vv&&Fs!==null){Vv=!0;var n=0,e=Ce;try{var t=Fs;for(Ce=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Fs=null,$m=!1}catch(s){throw Fs!==null&&(Fs=Fs.slice(n+1)),jE(Zw,Vo),s}finally{Ce=e,Vv=!1}}return null}var Jl=[],ec=0,Dg=null,Og=0,rr=[],sr=0,yl=null,di=1,hi="";function qo(n,e){Jl[ec++]=Og,Jl[ec++]=Dg,Dg=n,Og=e}function p1(n,e,t){rr[sr++]=di,rr[sr++]=hi,rr[sr++]=yl,yl=n;var r=di;n=hi;var s=32-$r(r)-1;r&=~(1<<s),t+=1;var i=32-$r(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,di=1<<32-$r(e)+s|t<<s|r,hi=i+n}else di=1<<i|t<<s|r,hi=n}function ab(n){n.return!==null&&(qo(n,1),p1(n,1,0))}function lb(n){for(;n===Dg;)Dg=Jl[--ec],Jl[ec]=null,Og=Jl[--ec],Jl[ec]=null;for(;n===yl;)yl=rr[--sr],rr[sr]=null,hi=rr[--sr],rr[sr]=null,di=rr[--sr],rr[sr]=null}var Bn=null,$n=null,He=!1,jr=null;function g1(n,e){var t=ar(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function uA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Bn=n,$n=Ro(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Bn=n,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=yl!==null?{id:di,overflow:hi}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ar(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Bn=n,$n=null,!0):!1;default:return!1}}function $y(n){return(n.mode&1)!==0&&(n.flags&128)===0}function By(n){if(He){var e=$n;if(e){var t=e;if(!uA(n,e)){if($y(n))throw Error(z(418));e=Ro(t.nextSibling);var r=Bn;e&&uA(n,e)?g1(r,t):(n.flags=n.flags&-4097|2,He=!1,Bn=n)}}else{if($y(n))throw Error(z(418));n.flags=n.flags&-4097|2,He=!1,Bn=n}}}function dA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Bn=n}function pp(n){if(n!==Bn)return!1;if(!He)return dA(n),He=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Oy(n.type,n.memoizedProps)),e&&(e=$n)){if($y(n))throw m1(),Error(z(418));for(;e;)g1(n,e),e=Ro(e.nextSibling)}if(dA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){$n=Ro(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}$n=null}}else $n=Bn?Ro(n.stateNode.nextSibling):null;return!0}function m1(){for(var n=$n;n;)n=Ro(n.nextSibling)}function Nu(){$n=Bn=null,He=!1}function cb(n){jr===null?jr=[n]:jr.push(n)}var zM=Ei.ReactCurrentBatchConfig;function Ju(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var r=t.stateNode}if(!r)throw Error(z(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function gp(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function hA(n){var e=n._init;return e(n._payload)}function v1(n){function e(v,w){if(n){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function t(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Lo(v,w),v.index=0,v.sibling=null,v}function i(v,w,x){return v.index=x,n?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,w,x,E){return w===null||w.tag!==6?(w=Qv(x,v.mode,E),w.return=v,w):(w=s(w,x),w.return=v,w)}function c(v,w,x,E){var T=x.type;return T===Xl?d(v,w,x.props.children,E,x.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Di&&hA(T)===w.type)?(E=s(w,x.props),E.ref=Ju(v,w,x),E.return=v,E):(E=Bp(x.type,x.key,x.props,null,v.mode,E),E.ref=Ju(v,w,x),E.return=v,E)}function u(v,w,x,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Zv(x,v.mode,E),w.return=v,w):(w=s(w,x.children||[]),w.return=v,w)}function d(v,w,x,E,T){return w===null||w.tag!==7?(w=ml(x,v.mode,E,T),w.return=v,w):(w=s(w,x),w.return=v,w)}function h(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Qv(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sp:return x=Bp(w.type,w.key,w.props,null,v.mode,x),x.ref=Ju(v,null,w),x.return=v,x;case Gl:return w=Zv(w,v.mode,x),w.return=v,w;case Di:var E=w._init;return h(v,E(w._payload),x)}if(cd(w)||Yu(w))return w=ml(w,v.mode,x,null),w.return=v,w;gp(v,w)}return null}function f(v,w,x,E){var T=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:a(v,w,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sp:return x.key===T?c(v,w,x,E):null;case Gl:return x.key===T?u(v,w,x,E):null;case Di:return T=x._init,f(v,w,T(x._payload),E)}if(cd(x)||Yu(x))return T!==null?null:d(v,w,x,E,null);gp(v,x)}return null}function p(v,w,x,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(x)||null,a(w,v,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case sp:return v=v.get(E.key===null?x:E.key)||null,c(w,v,E,T);case Gl:return v=v.get(E.key===null?x:E.key)||null,u(w,v,E,T);case Di:var P=E._init;return p(v,w,x,P(E._payload),T)}if(cd(E)||Yu(E))return v=v.get(x)||null,d(w,v,E,T,null);gp(w,E)}return null}function m(v,w,x,E){for(var T=null,P=null,R=w,k=w=0,M=null;R!==null&&k<x.length;k++){R.index>k?(M=R,R=null):M=R.sibling;var L=f(v,R,x[k],E);if(L===null){R===null&&(R=M);break}n&&R&&L.alternate===null&&e(v,R),w=i(L,w,k),P===null?T=L:P.sibling=L,P=L,R=M}if(k===x.length)return t(v,R),He&&qo(v,k),T;if(R===null){for(;k<x.length;k++)R=h(v,x[k],E),R!==null&&(w=i(R,w,k),P===null?T=R:P.sibling=R,P=R);return He&&qo(v,k),T}for(R=r(v,R);k<x.length;k++)M=p(R,v,k,x[k],E),M!==null&&(n&&M.alternate!==null&&R.delete(M.key===null?k:M.key),w=i(M,w,k),P===null?T=M:P.sibling=M,P=M);return n&&R.forEach(function(O){return e(v,O)}),He&&qo(v,k),T}function g(v,w,x,E){var T=Yu(x);if(typeof T!="function")throw Error(z(150));if(x=T.call(x),x==null)throw Error(z(151));for(var P=T=null,R=w,k=w=0,M=null,L=x.next();R!==null&&!L.done;k++,L=x.next()){R.index>k?(M=R,R=null):M=R.sibling;var O=f(v,R,L.value,E);if(O===null){R===null&&(R=M);break}n&&R&&O.alternate===null&&e(v,R),w=i(O,w,k),P===null?T=O:P.sibling=O,P=O,R=M}if(L.done)return t(v,R),He&&qo(v,k),T;if(R===null){for(;!L.done;k++,L=x.next())L=h(v,L.value,E),L!==null&&(w=i(L,w,k),P===null?T=L:P.sibling=L,P=L);return He&&qo(v,k),T}for(R=r(v,R);!L.done;k++,L=x.next())L=p(R,v,k,L.value,E),L!==null&&(n&&L.alternate!==null&&R.delete(L.key===null?k:L.key),w=i(L,w,k),P===null?T=L:P.sibling=L,P=L);return n&&R.forEach(function($){return e(v,$)}),He&&qo(v,k),T}function b(v,w,x,E){if(typeof x=="object"&&x!==null&&x.type===Xl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sp:e:{for(var T=x.key,P=w;P!==null;){if(P.key===T){if(T=x.type,T===Xl){if(P.tag===7){t(v,P.sibling),w=s(P,x.props.children),w.return=v,v=w;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Di&&hA(T)===P.type){t(v,P.sibling),w=s(P,x.props),w.ref=Ju(v,P,x),w.return=v,v=w;break e}t(v,P);break}else e(v,P);P=P.sibling}x.type===Xl?(w=ml(x.props.children,v.mode,E,x.key),w.return=v,v=w):(E=Bp(x.type,x.key,x.props,null,v.mode,E),E.ref=Ju(v,w,x),E.return=v,v=E)}return o(v);case Gl:e:{for(P=x.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){t(v,w.sibling),w=s(w,x.children||[]),w.return=v,v=w;break e}else{t(v,w);break}else e(v,w);w=w.sibling}w=Zv(x,v.mode,E),w.return=v,v=w}return o(v);case Di:return P=x._init,b(v,w,P(x._payload),E)}if(cd(x))return m(v,w,x,E);if(Yu(x))return g(v,w,x,E);gp(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(t(v,w.sibling),w=s(w,x),w.return=v,v=w):(t(v,w),w=Qv(x,v.mode,E),w.return=v,v=w),o(v)):t(v,w)}return b}var Lu=v1(!0),y1=v1(!1),Fg=Uo(null),jg=null,tc=null,ub=null;function db(){ub=tc=jg=null}function hb(n){var e=Fg.current;Oe(Fg),n._currentValue=e}function Hy(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function uc(n,e){jg=n,ub=tc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(vn=!0),n.firstContext=null)}function ur(n){var e=n._currentValue;if(ub!==n)if(n={context:n,memoizedValue:e,next:null},tc===null){if(jg===null)throw Error(z(308));tc=n,jg.dependencies={lanes:0,firstContext:n}}else tc=tc.next=n;return e}var ra=null;function fb(n){ra===null?ra=[n]:ra.push(n)}function w1(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,fb(e)):(t.next=s.next,s.next=t),e.interleaved=t,yi(n,r)}function yi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Oi=!1;function pb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b1(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function fi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ko(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,yi(n,t)}return s=r.interleaved,s===null?(e.next=e,fb(r)):(e.next=s.next,s.next=e),r.interleaved=e,yi(n,t)}function Dp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Jw(n,t)}}function fA(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function zg(n,e,t,r){var s=n.updateQueue;Oi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(f=e,p=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Ye({},h,f);break e;case 2:Oi=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);bl|=o,n.lanes=o,n.memoizedState=h}}function pA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Gf={},xs=Uo(Gf),Jd=Uo(Gf),eh=Uo(Gf);function sa(n){if(n===Gf)throw Error(z(174));return n}function gb(n,e){switch(Ne(eh,e),Ne(Jd,n),Ne(xs,Gf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ay(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ay(e,n)}Oe(xs),Ne(xs,e)}function Iu(){Oe(xs),Oe(Jd),Oe(eh)}function x1(n){sa(eh.current);var e=sa(xs.current),t=Ay(e,n.type);e!==t&&(Ne(Jd,n),Ne(xs,t))}function mb(n){Jd.current===n&&(Oe(xs),Oe(Jd))}var We=Uo(0);function $g(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wv=[];function vb(){for(var n=0;n<Wv.length;n++)Wv[n]._workInProgressVersionPrimary=null;Wv.length=0}var Op=Ei.ReactCurrentDispatcher,Gv=Ei.ReactCurrentBatchConfig,wl=0,Xe=null,ut=null,xt=null,Bg=!1,Dd=!1,th=0,$M=0;function Lt(){throw Error(z(321))}function yb(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Hr(n[t],e[t]))return!1;return!0}function wb(n,e,t,r,s,i){if(wl=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Op.current=n===null||n.memoizedState===null?VM:WM,n=t(r,s),Dd){i=0;do{if(Dd=!1,th=0,25<=i)throw Error(z(301));i+=1,xt=ut=null,e.updateQueue=null,Op.current=GM,n=t(r,s)}while(Dd)}if(Op.current=Hg,e=ut!==null&&ut.next!==null,wl=0,xt=ut=Xe=null,Bg=!1,e)throw Error(z(300));return n}function bb(){var n=th!==0;return th=0,n}function Qr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Xe.memoizedState=xt=n:xt=xt.next=n,xt}function dr(){if(ut===null){var n=Xe.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var e=xt===null?Xe.memoizedState:xt.next;if(e!==null)xt=e,ut=n;else{if(n===null)throw Error(z(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},xt===null?Xe.memoizedState=xt=n:xt=xt.next=n}return xt}function nh(n,e){return typeof e=="function"?e(n):e}function Xv(n){var e=dr(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=ut,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((wl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,Xe.lanes|=d,bl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Hr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,Xe.lanes|=i,bl|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Yv(n){var e=dr(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do i=n(i,o.action),o=o.next;while(o!==s);Hr(i,e.memoizedState)||(vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function A1(){}function S1(n,e){var t=Xe,r=dr(),s=e(),i=!Hr(r.memoizedState,s);if(i&&(r.memoizedState=s,vn=!0),r=r.queue,xb(_1.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||xt!==null&&xt.memoizedState.tag&1){if(t.flags|=2048,rh(9,C1.bind(null,t,r,s,e),void 0,null),At===null)throw Error(z(349));wl&30||E1(t,e,s)}return s}function E1(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function C1(n,e,t,r){e.value=t,e.getSnapshot=r,T1(e)&&P1(n)}function _1(n,e,t){return t(function(){T1(e)&&P1(n)})}function T1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Hr(n,t)}catch{return!0}}function P1(n){var e=yi(n,1);e!==null&&Br(e,n,1,-1)}function gA(n){var e=Qr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:n},e.queue=n,n=n.dispatch=UM.bind(null,Xe,n),[e.memoizedState,n]}function rh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function R1(){return dr().memoizedState}function Fp(n,e,t,r){var s=Qr();Xe.flags|=n,s.memoizedState=rh(1|e,t,void 0,r===void 0?null:r)}function Bm(n,e,t,r){var s=dr();r=r===void 0?null:r;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,r!==null&&yb(r,o.deps)){s.memoizedState=rh(e,t,i,r);return}}Xe.flags|=n,s.memoizedState=rh(1|e,t,i,r)}function mA(n,e){return Fp(8390656,8,n,e)}function xb(n,e){return Bm(2048,8,n,e)}function k1(n,e){return Bm(4,2,n,e)}function M1(n,e){return Bm(4,4,n,e)}function N1(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function L1(n,e,t){return t=t!=null?t.concat([n]):null,Bm(4,4,N1.bind(null,e,n),t)}function Ab(){}function I1(n,e){var t=dr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function D1(n,e){var t=dr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function O1(n,e,t){return wl&21?(Hr(t,e)||(t=BE(),Xe.lanes|=t,bl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,vn=!0),n.memoizedState=t)}function BM(n,e){var t=Ce;Ce=t!==0&&4>t?t:4,n(!0);var r=Gv.transition;Gv.transition={};try{n(!1),e()}finally{Ce=t,Gv.transition=r}}function F1(){return dr().memoizedState}function HM(n,e,t){var r=No(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},j1(n))z1(e,t);else if(t=w1(n,e,t,r),t!==null){var s=tn();Br(t,n,r,s),$1(t,e,r)}}function UM(n,e,t){var r=No(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(j1(n))z1(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(s.hasEagerState=!0,s.eagerState=a,Hr(a,o)){var c=e.interleaved;c===null?(s.next=s,fb(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}t=w1(n,e,s,r),t!==null&&(s=tn(),Br(t,n,r,s),$1(t,e,r))}}function j1(n){var e=n.alternate;return n===Xe||e!==null&&e===Xe}function z1(n,e){Dd=Bg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function $1(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Jw(n,t)}}var Hg={readContext:ur,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},VM={readContext:ur,useCallback:function(n,e){return Qr().memoizedState=[n,e===void 0?null:e],n},useContext:ur,useEffect:mA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Fp(4194308,4,N1.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Fp(4194308,4,n,e)},useInsertionEffect:function(n,e){return Fp(4,2,n,e)},useMemo:function(n,e){var t=Qr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Qr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=HM.bind(null,Xe,n),[r.memoizedState,n]},useRef:function(n){var e=Qr();return n={current:n},e.memoizedState=n},useState:gA,useDebugValue:Ab,useDeferredValue:function(n){return Qr().memoizedState=n},useTransition:function(){var n=gA(!1),e=n[0];return n=BM.bind(null,n[1]),Qr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Xe,s=Qr();if(He){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),At===null)throw Error(z(349));wl&30||E1(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,mA(_1.bind(null,r,i,n),[n]),r.flags|=2048,rh(9,C1.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Qr(),e=At.identifierPrefix;if(He){var t=hi,r=di;t=(r&~(1<<32-$r(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=th++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=$M++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},WM={readContext:ur,useCallback:I1,useContext:ur,useEffect:xb,useImperativeHandle:L1,useInsertionEffect:k1,useLayoutEffect:M1,useMemo:D1,useReducer:Xv,useRef:R1,useState:function(){return Xv(nh)},useDebugValue:Ab,useDeferredValue:function(n){var e=dr();return O1(e,ut.memoizedState,n)},useTransition:function(){var n=Xv(nh)[0],e=dr().memoizedState;return[n,e]},useMutableSource:A1,useSyncExternalStore:S1,useId:F1,unstable_isNewReconciler:!1},GM={readContext:ur,useCallback:I1,useContext:ur,useEffect:xb,useImperativeHandle:L1,useInsertionEffect:k1,useLayoutEffect:M1,useMemo:D1,useReducer:Yv,useRef:R1,useState:function(){return Yv(nh)},useDebugValue:Ab,useDeferredValue:function(n){var e=dr();return ut===null?e.memoizedState=n:O1(e,ut.memoizedState,n)},useTransition:function(){var n=Yv(nh)[0],e=dr().memoizedState;return[n,e]},useMutableSource:A1,useSyncExternalStore:S1,useId:F1,unstable_isNewReconciler:!1};function br(n,e){if(n&&n.defaultProps){e=Ye({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Uy(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ye({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Hm={isMounted:function(n){return(n=n._reactInternals)?Pl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=tn(),s=No(n),i=fi(r,s);i.payload=e,t!=null&&(i.callback=t),e=ko(n,i,s),e!==null&&(Br(e,n,s,r),Dp(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=tn(),s=No(n),i=fi(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=ko(n,i,s),e!==null&&(Br(e,n,s,r),Dp(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=tn(),r=No(n),s=fi(t,r);s.tag=2,e!=null&&(s.callback=e),e=ko(n,s,r),e!==null&&(Br(e,n,r,t),Dp(e,n,r))}};function vA(n,e,t,r,s,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!qd(t,r)||!qd(s,i):!0}function B1(n,e,t){var r=!1,s=Oo,i=e.contextType;return typeof i=="object"&&i!==null?i=ur(i):(s=wn(e)?vl:Xt.current,r=e.contextTypes,i=(r=r!=null)?Mu(n,s):Oo),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hm,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function yA(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Hm.enqueueReplaceState(e,e.state,null)}function Vy(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},pb(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ur(i):(i=wn(e)?vl:Xt.current,s.context=Mu(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Uy(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hm.enqueueReplaceState(s,s.state,null),zg(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Du(n,e){try{var t="",r=e;do t+=bk(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function qv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Wy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var XM=typeof WeakMap=="function"?WeakMap:Map;function H1(n,e,t){t=fi(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Vg||(Vg=!0,t0=r),Wy(n,e)},t}function U1(n,e,t){t=fi(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){Wy(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Wy(n,e),typeof r!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function wA(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new XM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=aN.bind(null,n,e,t),e.then(n,n))}function bA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function xA(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=fi(-1,1),e.tag=2,ko(t,e,1))),t.lanes|=1),n)}var YM=Ei.ReactCurrentOwner,vn=!1;function Jt(n,e,t,r){e.child=n===null?y1(e,null,t,r):Lu(e,n.child,t,r)}function AA(n,e,t,r,s){t=t.render;var i=e.ref;return uc(e,s),r=wb(n,e,t,r,i,s),t=bb(),n!==null&&!vn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,wi(n,e,s)):(He&&t&&ab(e),e.flags|=1,Jt(n,e,r,s),e.child)}function SA(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!kb(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,V1(n,e,i,r,s)):(n=Bp(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:qd,t(o,r)&&n.ref===e.ref)return wi(n,e,s)}return e.flags|=1,n=Lo(i,r),n.ref=e.ref,n.return=e,e.child=n}function V1(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(qd(i,r)&&n.ref===e.ref)if(vn=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(vn=!0);else return e.lanes=n.lanes,wi(n,e,s)}return Gy(n,e,t,r,s)}function W1(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(rc,On),On|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ne(rc,On),On|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Ne(rc,On),On|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Ne(rc,On),On|=r;return Jt(n,e,s,t),e.child}function G1(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Gy(n,e,t,r,s){var i=wn(t)?vl:Xt.current;return i=Mu(e,i),uc(e,s),t=wb(n,e,t,r,i,s),r=bb(),n!==null&&!vn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,wi(n,e,s)):(He&&r&&ab(e),e.flags|=1,Jt(n,e,t,s),e.child)}function EA(n,e,t,r,s){if(wn(t)){var i=!0;Ig(e)}else i=!1;if(uc(e,s),e.stateNode===null)jp(n,e),B1(e,t,r),Vy(e,t,r,s),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=ur(u):(u=wn(t)?vl:Xt.current,u=Mu(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&yA(e,o,r,u),Oi=!1;var f=e.memoizedState;o.state=f,zg(e,r,o,s),c=e.memoizedState,a!==r||f!==c||yn.current||Oi?(typeof d=="function"&&(Uy(e,t,d,r),c=e.memoizedState),(a=Oi||vA(e,t,a,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,b1(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:br(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=ur(c):(c=wn(t)?vl:Xt.current,c=Mu(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&yA(e,o,r,c),Oi=!1,f=e.memoizedState,o.state=f,zg(e,r,o,s);var m=e.memoizedState;a!==h||f!==m||yn.current||Oi?(typeof p=="function"&&(Uy(e,t,p,r),m=e.memoizedState),(u=Oi||vA(e,t,u,r,f,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return Xy(n,e,t,r,i,s)}function Xy(n,e,t,r,s,i){G1(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&cA(e,t,!1),wi(n,e,i);r=e.stateNode,YM.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Lu(e,n.child,null,i),e.child=Lu(e,null,a,i)):Jt(n,e,a,i),e.memoizedState=r.state,s&&cA(e,t,!0),e.child}function X1(n){var e=n.stateNode;e.pendingContext?lA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&lA(n,e.context,!1),gb(n,e.containerInfo)}function CA(n,e,t,r,s){return Nu(),cb(s),e.flags|=256,Jt(n,e,t,r),e.child}var Yy={dehydrated:null,treeContext:null,retryLane:0};function qy(n){return{baseLanes:n,cachePool:null,transitions:null}}function Y1(n,e,t){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Ne(We,s&1),n===null)return By(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wm(o,r,0,null),n=ml(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=qy(t),e.memoizedState=Yy,n):Sb(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qM(n,e,o,r,a,s,t);if(i){i=r.fallback,o=e.mode,s=n.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Lo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Lo(a,i):(i=ml(i,o,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=n.child.memoizedState,o=o===null?qy(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=Yy,r}return i=n.child,n=i.sibling,r=Lo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Sb(n,e){return e=Wm({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function mp(n,e,t,r){return r!==null&&cb(r),Lu(e,n.child,null,t),n=Sb(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function qM(n,e,t,r,s,i,o){if(t)return e.flags&256?(e.flags&=-257,r=qv(Error(z(422))),mp(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Wm({mode:"visible",children:r.children},s,0,null),i=ml(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Lu(e,n.child,null,o),e.child.memoizedState=qy(o),e.memoizedState=Yy,i);if(!(e.mode&1))return mp(n,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=qv(i,r,void 0),mp(n,e,o,r)}if(a=(o&n.childLanes)!==0,vn||a){if(r=At,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yi(n,s),Br(r,n,s,-1))}return Rb(),r=qv(Error(z(421))),mp(n,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=lN.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,$n=Ro(s.nextSibling),Bn=e,He=!0,jr=null,n!==null&&(rr[sr++]=di,rr[sr++]=hi,rr[sr++]=yl,di=n.id,hi=n.overflow,yl=e),e=Sb(e,r.children),e.flags|=4096,e)}function _A(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Hy(n.return,e,t)}function Kv(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function q1(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(n,e,r.children,t),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_A(n,t,e);else if(n.tag===19)_A(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ne(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&$g(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Kv(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&$g(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Kv(e,!0,t,null,i);break;case"together":Kv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function wi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),bl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=Lo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Lo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function KM(n,e,t){switch(e.tag){case 3:X1(e),Nu();break;case 5:x1(e);break;case 1:wn(e.type)&&Ig(e);break;case 4:gb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ne(Fg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(We,We.current&1),e.flags|=128,null):t&e.child.childLanes?Y1(n,e,t):(Ne(We,We.current&1),n=wi(n,e,t),n!==null?n.sibling:null);Ne(We,We.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return q1(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,W1(n,e,t)}return wi(n,e,t)}var K1,Ky,Q1,Z1;K1=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ky=function(){};Q1=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,sa(xs.current);var i=null;switch(t){case"input":s=yy(n,s),r=yy(n,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=xy(n,s),r=xy(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ng)}Sy(t,r);var o;t=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(i||(i=[]),i.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",n),i||a===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Z1=function(n,e,t,r){t!==r&&(e.flags|=4)};function ed(n,e){if(!He)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function It(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function QM(n,e,t){var r=e.pendingProps;switch(lb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return wn(e.type)&&Lg(),It(e),null;case 3:return r=e.stateNode,Iu(),Oe(yn),Oe(Xt),vb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(pp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&(s0(jr),jr=null))),Ky(n,e),It(e),null;case 5:mb(e);var s=sa(eh.current);if(t=e.type,n!==null&&e.stateNode!=null)Q1(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return It(e),null}if(n=sa(xs.current),pp(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[ys]=e,r[Zd]=i,n=(e.mode&1)!==0,t){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<dd.length;s++)Ie(dd[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Dx(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":Fx(r,i),Ie("invalid",r)}Sy(t,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&fp(r.textContent,a,n),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&fp(r.textContent,a,n),s=["children",""+a]):Hd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(t){case"input":ip(r),Ox(r,i,!0);break;case"textarea":ip(r),jx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ng)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=_E(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[ys]=e,n[Zd]=r,K1(n,e,!1,!1),e.stateNode=n;e:{switch(o=Ey(t,r),t){case"dialog":Ie("cancel",n),Ie("close",n),s=r;break;case"iframe":case"object":case"embed":Ie("load",n),s=r;break;case"video":case"audio":for(s=0;s<dd.length;s++)Ie(dd[s],n);s=r;break;case"source":Ie("error",n),s=r;break;case"img":case"image":case"link":Ie("error",n),Ie("load",n),s=r;break;case"details":Ie("toggle",n),s=r;break;case"input":Dx(n,r),s=yy(n,r),Ie("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),Ie("invalid",n);break;case"textarea":Fx(n,r),s=xy(n,r),Ie("invalid",n);break;default:s=r}Sy(t,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?RE(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&TE(n,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Ud(n,c):typeof c=="number"&&Ud(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",n):c!=null&&Xw(n,i,c,o))}switch(t){case"input":ip(n),Ox(n,r,!1);break;case"textarea":ip(n),jx(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Do(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?oc(n,!!r.multiple,i,!1):r.defaultValue!=null&&oc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Ng)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(n&&e.stateNode!=null)Z1(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=sa(eh.current),sa(xs.current),pp(e)){if(r=e.stateNode,t=e.memoizedProps,r[ys]=e,(i=r.nodeValue!==t)&&(n=Bn,n!==null))switch(n.tag){case 3:fp(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fp(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ys]=e,e.stateNode=r}return It(e),null;case 13:if(Oe(We),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(He&&$n!==null&&e.mode&1&&!(e.flags&128))m1(),Nu(),e.flags|=98560,i=!1;else if(i=pp(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[ys]=e}else Nu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),i=!1}else jr!==null&&(s0(jr),jr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||We.current&1?dt===0&&(dt=3):Rb())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return Iu(),Ky(n,e),n===null&&Kd(e.stateNode.containerInfo),It(e),null;case 10:return hb(e.type._context),It(e),null;case 17:return wn(e.type)&&Lg(),It(e),null;case 19:if(Oe(We),i=e.memoizedState,i===null)return It(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ed(i,!1);else{if(dt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=$g(n),o!==null){for(e.flags|=128,ed(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ne(We,We.current&1|2),e.child}n=n.sibling}i.tail!==null&&et()>Ou&&(e.flags|=128,r=!0,ed(i,!1),e.lanes=4194304)}else{if(!r)if(n=$g(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ed(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return It(e),null}else 2*et()-i.renderingStartTime>Ou&&t!==1073741824&&(e.flags|=128,r=!0,ed(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=et(),e.sibling=null,t=We.current,Ne(We,r?t&1|2:t&1),e):(It(e),null);case 22:case 23:return Pb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function ZM(n,e){switch(lb(e),e.tag){case 1:return wn(e.type)&&Lg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Iu(),Oe(yn),Oe(Xt),vb(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return mb(e),null;case 13:if(Oe(We),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Nu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Oe(We),null;case 4:return Iu(),null;case 10:return hb(e.type._context),null;case 22:case 23:return Pb(),null;case 24:return null;default:return null}}var vp=!1,Vt=!1,JM=typeof WeakSet=="function"?WeakSet:Set,X=null;function nc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Qe(n,e,r)}else t.current=null}function Qy(n,e,t){try{t()}catch(r){Qe(n,e,r)}}var TA=!1;function eN(n,e){if(Iy=Rg,n=r1(),ob(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===s&&(a=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Dy={focusedElem:n,selectionRange:t},Rg=!1,X=e;X!==null;)if(e=X,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,X=n;else for(;X!==null;){e=X;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:br(e.type,g),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(E){Qe(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}return m=TA,TA=!1,m}function Od(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qy(e,t,i)}s=s.next}while(s!==r)}}function Um(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Zy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function J1(n){var e=n.alternate;e!==null&&(n.alternate=null,J1(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ys],delete e[Zd],delete e[jy],delete e[OM],delete e[FM])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function eC(n){return n.tag===5||n.tag===3||n.tag===4}function PA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||eC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jy(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ng));else if(r!==4&&(n=n.child,n!==null))for(Jy(n,e,t),n=n.sibling;n!==null;)Jy(n,e,t),n=n.sibling}function e0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(e0(n,e,t),n=n.sibling;n!==null;)e0(n,e,t),n=n.sibling}var Rt=null,Fr=!1;function ki(n,e,t){for(t=t.child;t!==null;)tC(n,e,t),t=t.sibling}function tC(n,e,t){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Dm,t)}catch{}switch(t.tag){case 5:Vt||nc(t,e);case 6:var r=Rt,s=Fr;Rt=null,ki(n,e,t),Rt=r,Fr=s,Rt!==null&&(Fr?(n=Rt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Rt.removeChild(t.stateNode));break;case 18:Rt!==null&&(Fr?(n=Rt,t=t.stateNode,n.nodeType===8?Uv(n.parentNode,t):n.nodeType===1&&Uv(n,t),Xd(n)):Uv(Rt,t.stateNode));break;case 4:r=Rt,s=Fr,Rt=t.stateNode.containerInfo,Fr=!0,ki(n,e,t),Rt=r,Fr=s;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qy(t,e,o),s=s.next}while(s!==r)}ki(n,e,t);break;case 1:if(!Vt&&(nc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Qe(t,e,a)}ki(n,e,t);break;case 21:ki(n,e,t);break;case 22:t.mode&1?(Vt=(r=Vt)||t.memoizedState!==null,ki(n,e,t),Vt=r):ki(n,e,t);break;default:ki(n,e,t)}}function RA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new JM),e.forEach(function(r){var s=cN.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function vr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rt=a.stateNode,Fr=!1;break e;case 3:Rt=a.stateNode.containerInfo,Fr=!0;break e;case 4:Rt=a.stateNode.containerInfo,Fr=!0;break e}a=a.return}if(Rt===null)throw Error(z(160));tC(i,o,s),Rt=null,Fr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nC(e,n),e=e.sibling}function nC(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(vr(e,n),Xr(n),r&4){try{Od(3,n,n.return),Um(3,n)}catch(g){Qe(n,n.return,g)}try{Od(5,n,n.return)}catch(g){Qe(n,n.return,g)}}break;case 1:vr(e,n),Xr(n),r&512&&t!==null&&nc(t,t.return);break;case 5:if(vr(e,n),Xr(n),r&512&&t!==null&&nc(t,t.return),n.flags&32){var s=n.stateNode;try{Ud(s,"")}catch(g){Qe(n,n.return,g)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&EE(s,i),Ey(a,o);var u=Ey(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?RE(s,h):d==="dangerouslySetInnerHTML"?TE(s,h):d==="children"?Ud(s,h):Xw(s,d,h,u)}switch(a){case"input":wy(s,i);break;case"textarea":CE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?oc(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?oc(s,!!i.multiple,i.defaultValue,!0):oc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zd]=i}catch(g){Qe(n,n.return,g)}}break;case 6:if(vr(e,n),Xr(n),r&4){if(n.stateNode===null)throw Error(z(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(g){Qe(n,n.return,g)}}break;case 3:if(vr(e,n),Xr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Xd(e.containerInfo)}catch(g){Qe(n,n.return,g)}break;case 4:vr(e,n),Xr(n);break;case 13:vr(e,n),Xr(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_b=et())),r&4&&RA(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Vt=(u=Vt)||d,vr(e,n),Vt=u):vr(e,n),Xr(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(X=n,d=n.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,p=f.child,f.tag){case 0:case 11:case 14:case 15:Od(4,f,f.return);break;case 1:nc(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Qe(r,t,g)}}break;case 5:nc(f,f.return);break;case 22:if(f.memoizedState!==null){MA(h);continue}}p!==null?(p.return=f,X=p):MA(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=PE("display",o))}catch(g){Qe(n,n.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Qe(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vr(e,n),Xr(n),r&4&&RA(n);break;case 21:break;default:vr(e,n),Xr(n)}}function Xr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(eC(t)){var r=t;break e}t=t.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ud(s,""),r.flags&=-33);var i=PA(n);e0(n,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=PA(n);Jy(n,a,o);break;default:throw Error(z(161))}}catch(c){Qe(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function tN(n,e,t){X=n,rC(n)}function rC(n,e,t){for(var r=(n.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vp;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Vt;a=vp;var u=Vt;if(vp=o,(Vt=c)&&!u)for(X=s;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?NA(s):c!==null?(c.return=o,X=c):NA(s);for(;i!==null;)X=i,rC(i),i=i.sibling;X=s,vp=a,Vt=u}kA(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):kA(n)}}function kA(n){for(;X!==null;){var e=X;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Um(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:br(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&pA(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}pA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Vt||e.flags&512&&Zy(e)}catch(f){Qe(e,e.return,f)}}if(e===n){X=null;break}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}}function MA(n){for(;X!==null;){var e=X;if(e===n){X=null;break}var t=e.sibling;if(t!==null){t.return=e.return,X=t;break}X=e.return}}function NA(n){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Um(4,e)}catch(c){Qe(e,t,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Qe(e,s,c)}}var i=e.return;try{Zy(e)}catch(c){Qe(e,i,c)}break;case 5:var o=e.return;try{Zy(e)}catch(c){Qe(e,o,c)}}}catch(c){Qe(e,e.return,c)}if(e===n){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var nN=Math.ceil,Ug=Ei.ReactCurrentDispatcher,Eb=Ei.ReactCurrentOwner,lr=Ei.ReactCurrentBatchConfig,ve=0,At=null,rt=null,Mt=0,On=0,rc=Uo(0),dt=0,sh=null,bl=0,Vm=0,Cb=0,Fd=null,mn=null,_b=0,Ou=1/0,Is=null,Vg=!1,t0=null,Mo=null,yp=!1,Eo=null,Wg=0,jd=0,n0=null,zp=-1,$p=0;function tn(){return ve&6?et():zp!==-1?zp:zp=et()}function No(n){return n.mode&1?ve&2&&Mt!==0?Mt&-Mt:zM.transition!==null?($p===0&&($p=BE()),$p):(n=Ce,n!==0||(n=window.event,n=n===void 0?16:YE(n.type)),n):1}function Br(n,e,t,r){if(50<jd)throw jd=0,n0=null,Error(z(185));Uf(n,t,r),(!(ve&2)||n!==At)&&(n===At&&(!(ve&2)&&(Vm|=t),dt===4&&ji(n,Mt)),bn(n,r),t===1&&ve===0&&!(e.mode&1)&&(Ou=et()+500,$m&&Vo()))}function bn(n,e){var t=n.callbackNode;zk(n,e);var r=Pg(n,n===At?Mt:0);if(r===0)t!==null&&Bx(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Bx(t),e===1)n.tag===0?jM(LA.bind(null,n)):f1(LA.bind(null,n)),IM(function(){!(ve&6)&&Vo()}),t=null;else{switch(HE(r)){case 1:t=Zw;break;case 4:t=zE;break;case 16:t=Tg;break;case 536870912:t=$E;break;default:t=Tg}t=dC(t,sC.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function sC(n,e){if(zp=-1,$p=0,ve&6)throw Error(z(327));var t=n.callbackNode;if(dc()&&n.callbackNode!==t)return null;var r=Pg(n,n===At?Mt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Gg(n,r);else{e=r;var s=ve;ve|=2;var i=oC();(At!==n||Mt!==e)&&(Is=null,Ou=et()+500,gl(n,e));do try{iN();break}catch(a){iC(n,a)}while(!0);db(),Ug.current=i,ve=s,rt!==null?e=0:(At=null,Mt=0,e=dt)}if(e!==0){if(e===2&&(s=Ry(n),s!==0&&(r=s,e=r0(n,s))),e===1)throw t=sh,gl(n,0),ji(n,r),bn(n,et()),t;if(e===6)ji(n,r);else{if(s=n.current.alternate,!(r&30)&&!rN(s)&&(e=Gg(n,r),e===2&&(i=Ry(n),i!==0&&(r=i,e=r0(n,i))),e===1))throw t=sh,gl(n,0),ji(n,r),bn(n,et()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ko(n,mn,Is);break;case 3:if(ji(n,r),(r&130023424)===r&&(e=_b+500-et(),10<e)){if(Pg(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){tn(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=Fy(Ko.bind(null,n,mn,Is),e);break}Ko(n,mn,Is);break;case 4:if(ji(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var o=31-$r(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nN(r/1960))-r,10<r){n.timeoutHandle=Fy(Ko.bind(null,n,mn,Is),r);break}Ko(n,mn,Is);break;case 5:Ko(n,mn,Is);break;default:throw Error(z(329))}}}return bn(n,et()),n.callbackNode===t?sC.bind(null,n):null}function r0(n,e){var t=Fd;return n.current.memoizedState.isDehydrated&&(gl(n,e).flags|=256),n=Gg(n,e),n!==2&&(e=mn,mn=t,e!==null&&s0(e)),n}function s0(n){mn===null?mn=n:mn.push.apply(mn,n)}function rN(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!Hr(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ji(n,e){for(e&=~Cb,e&=~Vm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-$r(e),r=1<<t;n[t]=-1,e&=~r}}function LA(n){if(ve&6)throw Error(z(327));dc();var e=Pg(n,0);if(!(e&1))return bn(n,et()),null;var t=Gg(n,e);if(n.tag!==0&&t===2){var r=Ry(n);r!==0&&(e=r,t=r0(n,r))}if(t===1)throw t=sh,gl(n,0),ji(n,e),bn(n,et()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ko(n,mn,Is),bn(n,et()),null}function Tb(n,e){var t=ve;ve|=1;try{return n(e)}finally{ve=t,ve===0&&(Ou=et()+500,$m&&Vo())}}function xl(n){Eo!==null&&Eo.tag===0&&!(ve&6)&&dc();var e=ve;ve|=1;var t=lr.transition,r=Ce;try{if(lr.transition=null,Ce=1,n)return n()}finally{Ce=r,lr.transition=t,ve=e,!(ve&6)&&Vo()}}function Pb(){On=rc.current,Oe(rc)}function gl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,LM(t)),rt!==null)for(t=rt.return;t!==null;){var r=t;switch(lb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lg();break;case 3:Iu(),Oe(yn),Oe(Xt),vb();break;case 5:mb(r);break;case 4:Iu();break;case 13:Oe(We);break;case 19:Oe(We);break;case 10:hb(r.type._context);break;case 22:case 23:Pb()}t=t.return}if(At=n,rt=n=Lo(n.current,null),Mt=On=e,dt=0,sh=null,Cb=Vm=bl=0,mn=Fd=null,ra!==null){for(e=0;e<ra.length;e++)if(t=ra[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}t.pending=r}ra=null}return n}function iC(n,e){do{var t=rt;try{if(db(),Op.current=Hg,Bg){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bg=!1}if(wl=0,xt=ut=Xe=null,Dd=!1,th=0,Eb.current=null,t===null||t.return===null){dt=1,sh=e,rt=null;break}e:{var i=n,o=t.return,a=t,c=e;if(e=Mt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=bA(o);if(p!==null){p.flags&=-257,xA(p,o,a,i,e),p.mode&1&&wA(i,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break e}else{if(!(e&1)){wA(i,u,e),Rb();break e}c=Error(z(426))}}else if(He&&a.mode&1){var b=bA(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),xA(b,o,a,i,e),cb(Du(c,a));break e}}i=c=Du(c,a),dt!==4&&(dt=2),Fd===null?Fd=[i]:Fd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=H1(i,c,e);fA(i,v);break e;case 1:a=c;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Mo===null||!Mo.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=U1(i,a,e);fA(i,E);break e}}i=i.return}while(i!==null)}lC(t)}catch(T){e=T,rt===t&&t!==null&&(rt=t=t.return);continue}break}while(!0)}function oC(){var n=Ug.current;return Ug.current=Hg,n===null?Hg:n}function Rb(){(dt===0||dt===3||dt===2)&&(dt=4),At===null||!(bl&268435455)&&!(Vm&268435455)||ji(At,Mt)}function Gg(n,e){var t=ve;ve|=2;var r=oC();(At!==n||Mt!==e)&&(Is=null,gl(n,e));do try{sN();break}catch(s){iC(n,s)}while(!0);if(db(),ve=t,Ug.current=r,rt!==null)throw Error(z(261));return At=null,Mt=0,dt}function sN(){for(;rt!==null;)aC(rt)}function iN(){for(;rt!==null&&!kk();)aC(rt)}function aC(n){var e=uC(n.alternate,n,On);n.memoizedProps=n.pendingProps,e===null?lC(n):rt=e,Eb.current=null}function lC(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ZM(t,e),t!==null){t.flags&=32767,rt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{dt=6,rt=null;return}}else if(t=QM(t,e,On),t!==null){rt=t;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=n}while(e!==null);dt===0&&(dt=5)}function Ko(n,e,t){var r=Ce,s=lr.transition;try{lr.transition=null,Ce=1,oN(n,e,t,r)}finally{lr.transition=s,Ce=r}return null}function oN(n,e,t,r){do dc();while(Eo!==null);if(ve&6)throw Error(z(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if($k(n,i),n===At&&(rt=At=null,Mt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||yp||(yp=!0,dC(Tg,function(){return dc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=lr.transition,lr.transition=null;var o=Ce;Ce=1;var a=ve;ve|=4,Eb.current=null,eN(n,t),nC(t,n),_M(Dy),Rg=!!Iy,Dy=Iy=null,n.current=t,tN(t),Mk(),ve=a,Ce=o,lr.transition=i}else n.current=t;if(yp&&(yp=!1,Eo=n,Wg=s),i=n.pendingLanes,i===0&&(Mo=null),Ik(t.stateNode),bn(n,et()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vg)throw Vg=!1,n=t0,t0=null,n;return Wg&1&&n.tag!==0&&dc(),i=n.pendingLanes,i&1?n===n0?jd++:(jd=0,n0=n):jd=0,Vo(),null}function dc(){if(Eo!==null){var n=HE(Wg),e=lr.transition,t=Ce;try{if(lr.transition=null,Ce=16>n?16:n,Eo===null)var r=!1;else{if(n=Eo,Eo=null,Wg=0,ve&6)throw Error(z(331));var s=ve;for(ve|=4,X=n.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Od(8,d,i)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,p=d.return;if(J1(d),d===u){X=null;break}if(f!==null){f.return=p,X=f;break}X=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Od(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,X=v;break e}X=i.return}}var w=n.current;for(X=w;X!==null;){o=X;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,X=x;else e:for(o=w;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Um(9,a)}}catch(T){Qe(a,a.return,T)}if(a===o){X=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,X=E;break e}X=a.return}}if(ve=s,Vo(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Dm,n)}catch{}r=!0}return r}finally{Ce=t,lr.transition=e}}return!1}function IA(n,e,t){e=Du(t,e),e=H1(n,e,1),n=ko(n,e,1),e=tn(),n!==null&&(Uf(n,1,e),bn(n,e))}function Qe(n,e,t){if(n.tag===3)IA(n,n,t);else for(;e!==null;){if(e.tag===3){IA(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mo===null||!Mo.has(r))){n=Du(t,n),n=U1(e,n,1),e=ko(e,n,1),n=tn(),e!==null&&(Uf(e,1,n),bn(e,n));break}}e=e.return}}function aN(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=tn(),n.pingedLanes|=n.suspendedLanes&t,At===n&&(Mt&t)===t&&(dt===4||dt===3&&(Mt&130023424)===Mt&&500>et()-_b?gl(n,0):Cb|=t),bn(n,e)}function cC(n,e){e===0&&(n.mode&1?(e=lp,lp<<=1,!(lp&130023424)&&(lp=4194304)):e=1);var t=tn();n=yi(n,e),n!==null&&(Uf(n,e,t),bn(n,t))}function lN(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),cC(n,t)}function cN(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),cC(n,t)}var uC;uC=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||yn.current)vn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return vn=!1,KM(n,e,t);vn=!!(n.flags&131072)}else vn=!1,He&&e.flags&1048576&&p1(e,Og,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jp(n,e),n=e.pendingProps;var s=Mu(e,Xt.current);uc(e,t),s=wb(null,e,r,n,s,t);var i=bb();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(i=!0,Ig(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pb(e),s.updater=Hm,e.stateNode=s,s._reactInternals=e,Vy(e,r,n,t),e=Xy(null,e,r,!0,i,t)):(e.tag=0,He&&i&&ab(e),Jt(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(jp(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=dN(r),n=br(r,n),s){case 0:e=Gy(null,e,r,n,t);break e;case 1:e=EA(null,e,r,n,t);break e;case 11:e=AA(null,e,r,n,t);break e;case 14:e=SA(null,e,r,br(r.type,n),t);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:br(r,s),Gy(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:br(r,s),EA(n,e,r,s,t);case 3:e:{if(X1(e),n===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,b1(n,e),zg(e,r,null,t);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Du(Error(z(423)),e),e=CA(n,e,r,t,s);break e}else if(r!==s){s=Du(Error(z(424)),e),e=CA(n,e,r,t,s);break e}else for($n=Ro(e.stateNode.containerInfo.firstChild),Bn=e,He=!0,jr=null,t=y1(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Nu(),r===s){e=wi(n,e,t);break e}Jt(n,e,r,t)}e=e.child}return e;case 5:return x1(e),n===null&&By(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,o=s.children,Oy(r,s)?o=null:i!==null&&Oy(r,i)&&(e.flags|=32),G1(n,e),Jt(n,e,o,t),e.child;case 6:return n===null&&By(e),null;case 13:return Y1(n,e,t);case 4:return gb(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Lu(e,null,r,t):Jt(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:br(r,s),AA(n,e,r,s,t);case 7:return Jt(n,e,e.pendingProps,t),e.child;case 8:return Jt(n,e,e.pendingProps.children,t),e.child;case 12:return Jt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ne(Fg,r._currentValue),r._currentValue=o,i!==null)if(Hr(i.value,o)){if(i.children===s.children&&!yn.current){e=wi(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=fi(-1,t&-t),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),Hy(i.return,t,e),a.lanes|=t;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Hy(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,uc(e,t),s=ur(s),r=r(s),e.flags|=1,Jt(n,e,r,t),e.child;case 14:return r=e.type,s=br(r,e.pendingProps),s=br(r.type,s),SA(n,e,r,s,t);case 15:return V1(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:br(r,s),jp(n,e),e.tag=1,wn(r)?(n=!0,Ig(e)):n=!1,uc(e,t),B1(e,r,s),Vy(e,r,s,t),Xy(null,e,r,!0,n,t);case 19:return q1(n,e,t);case 22:return W1(n,e,t)}throw Error(z(156,e.tag))};function dC(n,e){return jE(n,e)}function uN(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(n,e,t,r){return new uN(n,e,t,r)}function kb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dN(n){if(typeof n=="function")return kb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===qw)return 11;if(n===Kw)return 14}return 2}function Lo(n,e){var t=n.alternate;return t===null?(t=ar(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Bp(n,e,t,r,s,i){var o=2;if(r=n,typeof n=="function")kb(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Xl:return ml(t.children,s,i,e);case Yw:o=8,s|=8;break;case py:return n=ar(12,t,e,s|2),n.elementType=py,n.lanes=i,n;case gy:return n=ar(13,t,e,s),n.elementType=gy,n.lanes=i,n;case my:return n=ar(19,t,e,s),n.elementType=my,n.lanes=i,n;case xE:return Wm(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case wE:o=10;break e;case bE:o=9;break e;case qw:o=11;break e;case Kw:o=14;break e;case Di:o=16,r=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=ar(o,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function ml(n,e,t,r){return n=ar(7,n,r,e),n.lanes=t,n}function Wm(n,e,t,r){return n=ar(22,n,r,e),n.elementType=xE,n.lanes=t,n.stateNode={isHidden:!1},n}function Qv(n,e,t){return n=ar(6,n,null,e),n.lanes=t,n}function Zv(n,e,t){return e=ar(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function hN(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nv(0),this.expirationTimes=Nv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mb(n,e,t,r,s,i,o,a,c){return n=new hN(n,e,t,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ar(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},pb(i),n}function fN(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gl,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function hC(n){if(!n)return Oo;n=n._reactInternals;e:{if(Pl(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(wn(t))return h1(n,t,e)}return e}function fC(n,e,t,r,s,i,o,a,c){return n=Mb(t,r,!0,n,s,i,o,a,c),n.context=hC(null),t=n.current,r=tn(),s=No(t),i=fi(r,s),i.callback=e??null,ko(t,i,s),n.current.lanes=s,Uf(n,s,r),bn(n,r),n}function Gm(n,e,t,r){var s=e.current,i=tn(),o=No(s);return t=hC(t),e.context===null?e.context=t:e.pendingContext=t,e=fi(i,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ko(s,e,o),n!==null&&(Br(n,s,o,i),Dp(n,s,o)),o}function Xg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function DA(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Nb(n,e){DA(n,e),(n=n.alternate)&&DA(n,e)}function pN(){return null}var pC=typeof reportError=="function"?reportError:function(n){console.error(n)};function Lb(n){this._internalRoot=n}Xm.prototype.render=Lb.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));Gm(n,e,null,null)};Xm.prototype.unmount=Lb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;xl(function(){Gm(null,n,null,null)}),e[vi]=null}};function Xm(n){this._internalRoot=n}Xm.prototype.unstable_scheduleHydration=function(n){if(n){var e=WE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Fi.length&&e!==0&&e<Fi[t].priority;t++);Fi.splice(t,0,n),t===0&&XE(n)}};function Ib(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ym(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function OA(){}function gN(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Xg(o);i.call(u)}}var o=fC(e,r,n,0,null,!1,!1,"",OA);return n._reactRootContainer=o,n[vi]=o.current,Kd(n.nodeType===8?n.parentNode:n),xl(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Xg(c);a.call(u)}}var c=Mb(n,0,!1,null,null,!1,!1,"",OA);return n._reactRootContainer=c,n[vi]=c.current,Kd(n.nodeType===8?n.parentNode:n),xl(function(){Gm(e,c,t,r)}),c}function qm(n,e,t,r,s){var i=t._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Xg(o);a.call(c)}}Gm(e,o,n,s)}else o=gN(t,e,n,s,r);return Xg(o)}UE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ud(e.pendingLanes);t!==0&&(Jw(e,t|1),bn(e,et()),!(ve&6)&&(Ou=et()+500,Vo()))}break;case 13:xl(function(){var r=yi(n,1);if(r!==null){var s=tn();Br(r,n,1,s)}}),Nb(n,1)}};eb=function(n){if(n.tag===13){var e=yi(n,134217728);if(e!==null){var t=tn();Br(e,n,134217728,t)}Nb(n,134217728)}};VE=function(n){if(n.tag===13){var e=No(n),t=yi(n,e);if(t!==null){var r=tn();Br(t,n,e,r)}Nb(n,e)}};WE=function(){return Ce};GE=function(n,e){var t=Ce;try{return Ce=n,e()}finally{Ce=t}};_y=function(n,e,t){switch(e){case"input":if(wy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=zm(r);if(!s)throw Error(z(90));SE(r),wy(r,s)}}}break;case"textarea":CE(n,t);break;case"select":e=t.value,e!=null&&oc(n,!!t.multiple,e,!1)}};NE=Tb;LE=xl;var mN={usingClientEntryPoint:!1,Events:[Wf,Ql,zm,kE,ME,Tb]},td={findFiberByHostInstance:na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vN={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=OE(n),n===null?null:n.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||pN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{Dm=wp.inject(vN),bs=wp}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mN;Wn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ib(e))throw Error(z(200));return fN(n,e,null,t)};Wn.createRoot=function(n,e){if(!Ib(n))throw Error(z(299));var t=!1,r="",s=pC;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Mb(n,1,!1,null,null,t,!1,r,s),n[vi]=e.current,Kd(n.nodeType===8?n.parentNode:n),new Lb(e)};Wn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=OE(e),n=n===null?null:n.stateNode,n};Wn.flushSync=function(n){return xl(n)};Wn.hydrate=function(n,e,t){if(!Ym(e))throw Error(z(200));return qm(null,n,e,!0,t)};Wn.hydrateRoot=function(n,e,t){if(!Ib(n))throw Error(z(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",o=pC;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=fC(e,null,n,1,t??null,s,!1,i,o),n[vi]=e.current,Kd(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Xm(e)};Wn.render=function(n,e,t){if(!Ym(e))throw Error(z(200));return qm(null,n,e,!1,t)};Wn.unmountComponentAtNode=function(n){if(!Ym(n))throw Error(z(40));return n._reactRootContainer?(xl(function(){qm(null,null,n,!1,function(){n._reactRootContainer=null,n[vi]=null})}),!0):!1};Wn.unstable_batchedUpdates=Tb;Wn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Ym(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return qm(n,e,t,!1,r)};Wn.version="18.3.1-next-f1338f8080-20240426";function gC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gC)}catch(n){console.error(n)}}gC(),gE.exports=Wn;var Xf=gE.exports;const mC=rE(Xf);var vC,FA=Xf;vC=FA.createRoot,FA.hydrateRoot;const yN=1,wN=1e6;let Jv=0;function bN(){return Jv=(Jv+1)%Number.MAX_SAFE_INTEGER,Jv.toString()}const ey=new Map,jA=n=>{if(ey.has(n))return;const e=setTimeout(()=>{ey.delete(n),zd({type:"REMOVE_TOAST",toastId:n})},wN);ey.set(n,e)},xN=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,yN)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?jA(t):n.toasts.forEach(r=>{jA(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Hp=[];let Up={toasts:[]};function zd(n){Up=xN(Up,n),Hp.forEach(e=>{e(Up)})}function jl({...n}){const e=bN(),t=s=>zd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>zd({type:"DISMISS_TOAST",toastId:e});return zd({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function AN(){const[n,e]=C.useState(Up);return C.useEffect(()=>(Hp.push(e),()=>{const t=Hp.indexOf(e);t>-1&&Hp.splice(t,1)}),[n]),{...n,toast:jl,dismiss:t=>zd({type:"DISMISS_TOAST",toastId:t})}}function me(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function zA(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Km(...n){return e=>{let t=!1;const r=n.map(s=>{const i=zA(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():zA(n[s],null)}}}}function St(...n){return C.useCallback(Km(...n),n)}function Rl(n,e=[]){let t=[];function r(i,o){const a=C.createContext(o),c=t.length;t=[...t,o];const u=h=>{var v;const{scope:f,children:p,...m}=h,g=((v=f==null?void 0:f[n])==null?void 0:v[c])||a,b=C.useMemo(()=>m,Object.values(m));return _.jsx(g.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[n])==null?void 0:g[c])||a,m=C.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=t.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[n])||i;return C.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return s.scopeName=n,[r,SN(s,...e)]}function SN(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...a,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function $A(n){const e=EN(n),t=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),c=a.find(_N);if(c){const u=c.props.children,d=a.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return _.jsx(e,{...o,ref:s,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}function EN(n){const e=C.forwardRef((t,r)=>{const{children:s,...i}=t;if(C.isValidElement(s)){const o=PN(s),a=TN(i,s.props);return s.type!==C.Fragment&&(a.ref=r?Km(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var CN=Symbol("radix.slottable");function _N(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===CN}function TN(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function PN(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function yC(n){const e=n+"CollectionProvider",[t,r]=Rl(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:v}=g,w=B.useRef(null),x=B.useRef(new Map).current;return _.jsx(s,{scope:b,itemMap:x,collectionRef:w,children:v})};o.displayName=e;const a=n+"CollectionSlot",c=$A(a),u=B.forwardRef((g,b)=>{const{scope:v,children:w}=g,x=i(a,v),E=St(b,x.collectionRef);return _.jsx(c,{ref:E,children:w})});u.displayName=a;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=$A(d),p=B.forwardRef((g,b)=>{const{scope:v,children:w,...x}=g,E=B.useRef(null),T=St(b,E),P=i(d,v);return B.useEffect(()=>(P.itemMap.set(E,{ref:E,...x}),()=>void P.itemMap.delete(E))),_.jsx(f,{[h]:"",ref:T,children:w})});p.displayName=d;function m(g){const b=i(n+"CollectionConsumer",g);return B.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((P,R)=>x.indexOf(P.ref.current)-x.indexOf(R.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},m,r]}function RN(n){const e=kN(n),t=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),c=a.find(NN);if(c){const u=c.props.children,d=a.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return _.jsx(e,{...o,ref:s,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}function kN(n){const e=C.forwardRef((t,r)=>{const{children:s,...i}=t;if(C.isValidElement(s)){const o=IN(s),a=LN(i,s.props);return s.type!==C.Fragment&&(a.ref=r?Km(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var MN=Symbol("radix.slottable");function NN(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===MN}function LN(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function IN(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var DN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=DN.reduce((n,e)=>{const t=RN(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function wC(n,e){n&&Xf.flushSync(()=>n.dispatchEvent(e))}function Wt(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function ON(n,e=globalThis==null?void 0:globalThis.document){const t=Wt(n);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var FN="DismissableLayer",i0="dismissableLayer.update",jN="dismissableLayer.pointerDownOutside",zN="dismissableLayer.focusOutside",BA,bC=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Db=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=n,u=C.useContext(bC),[d,h]=C.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),m=St(e,R=>h(R)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),w=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,E=w>=v,T=BN(R=>{const k=R.target,M=[...u.branches].some(L=>L.contains(k));!E||M||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},f),P=HN(R=>{const k=R.target;[...u.branches].some(L=>L.contains(k))||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},f);return ON(R=>{w===u.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},f),C.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(BA=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),HA(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=BA)}},[d,f,t,u]),C.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),HA())},[d,u]),C.useEffect(()=>{const R=()=>p({});return document.addEventListener(i0,R),()=>document.removeEventListener(i0,R)},[]),_.jsx(Fe.div,{...c,ref:m,style:{pointerEvents:x?E?"auto":"none":void 0,...n.style},onFocusCapture:me(n.onFocusCapture,P.onFocusCapture),onBlurCapture:me(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:me(n.onPointerDownCapture,T.onPointerDownCapture)})});Db.displayName=FN;var $N="DismissableLayerBranch",xC=C.forwardRef((n,e)=>{const t=C.useContext(bC),r=C.useRef(null),s=St(e,r);return C.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),_.jsx(Fe.div,{...n,ref:s})});xC.displayName=$N;function BN(n,e=globalThis==null?void 0:globalThis.document){const t=Wt(n),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){AC(jN,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function HN(n,e=globalThis==null?void 0:globalThis.document){const t=Wt(n),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&AC(zN,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HA(){const n=new CustomEvent(i0);document.dispatchEvent(n)}function AC(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?wC(s,i):s.dispatchEvent(i)}var UN=Db,VN=xC,Ss=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},WN="Portal",SC=C.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[s,i]=C.useState(!1);Ss(()=>i(!0),[]);const o=t||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mC.createPortal(_.jsx(Fe.div,{...r,ref:e}),o):null});SC.displayName=WN;function GN(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var Wo=n=>{const{present:e,children:t}=n,r=XN(e),s=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),i=St(r.ref,YN(s));return typeof t=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};Wo.displayName="Presence";function XN(n){const[e,t]=C.useState(),r=C.useRef(null),s=C.useRef(n),i=C.useRef("none"),o=n?"mounted":"unmounted",[a,c]=GN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=bp(r.current);i.current=a==="mounted"?u:"none"},[a]),Ss(()=>{const u=r.current,d=s.current;if(d!==n){const f=i.current,p=bp(u);n?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,c]),Ss(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const g=bp(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=p=>{p.target===e&&(i.current=bp(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,t(u)},[])}}function bp(n){return(n==null?void 0:n.animationName)||"none"}function YN(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var qN=Im[" useInsertionEffect ".trim().toString()]||Ss;function Ob({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,o]=KN({defaultProp:e,onChange:t}),a=n!==void 0,c=a?n:s;{const d=C.useRef(n!==void 0);C.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=C.useCallback(d=>{var h;if(a){const f=QN(d)?d(n):d;f!==n&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,n,i,o]);return[c,u]}function KN({defaultProp:n,onChange:e}){const[t,r]=C.useState(n),s=C.useRef(t),i=C.useRef(e);return qN(()=>{i.current=e},[e]),C.useEffect(()=>{var o;s.current!==t&&((o=i.current)==null||o.call(i,t),s.current=t)},[t,s]),[t,r,i]}function QN(n){return typeof n=="function"}var ZN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JN="VisuallyHidden",Qm=C.forwardRef((n,e)=>_.jsx(Fe.span,{...n,ref:e,style:{...ZN,...n.style}}));Qm.displayName=JN;var eL=Qm,Fb="ToastProvider",[jb,tL,nL]=yC("Toast"),[EC]=Rl("Toast",[nL]),[rL,Zm]=EC(Fb),CC=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=n,[a,c]=C.useState(null),[u,d]=C.useState(0),h=C.useRef(!1),f=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Fb}\`. Expected non-empty \`string\`.`),_.jsx(jb.Provider,{scope:e,children:_.jsx(rL,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:C.useCallback(()=>d(p=>p+1),[]),onToastRemove:C.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};CC.displayName=Fb;var _C="ToastViewport",sL=["F8"],o0="toast.viewportPause",a0="toast.viewportResume",TC=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=sL,label:s="Notifications ({hotkey})",...i}=n,o=Zm(_C,t),a=tL(t),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),h=C.useRef(null),f=St(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;C.useEffect(()=>{const b=v=>{var x;r.length!==0&&r.every(E=>v[E]||v.code===E)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),C.useEffect(()=>{const b=c.current,v=h.current;if(m&&b&&v){const w=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(o0);v.dispatchEvent(P),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(a0);v.dispatchEvent(P),o.isClosePausedRef.current=!1}},E=P=>{!b.contains(P.relatedTarget)&&x()},T=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",w),b.addEventListener("focusout",E),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",E),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[m,o.isClosePausedRef]);const g=C.useCallback(({tabbingDirection:b})=>{const w=a().map(x=>{const E=x.ref.current,T=[E,...vL(E)];return b==="forwards"?T:T.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return C.useEffect(()=>{const b=h.current;if(b){const v=w=>{var T,P,R;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const k=document.activeElement,M=w.shiftKey;if(w.target===b&&M){(T=u.current)==null||T.focus();return}const $=g({tabbingDirection:M?"backwards":"forwards"}),q=$.findIndex(F=>F===k);ty($.slice(q+1))?w.preventDefault():M?(P=u.current)==null||P.focus():(R=d.current)==null||R.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[a,g]),_.jsxs(VN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&_.jsx(l0,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});ty(b)}}),_.jsx(jb.Slot,{scope:t,children:_.jsx(Fe.ol,{tabIndex:-1,...i,ref:f})}),m&&_.jsx(l0,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});ty(b)}})]})});TC.displayName=_C;var PC="ToastFocusProxy",l0=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=Zm(PC,t);return _.jsx(Qm,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});l0.displayName=PC;var Yf="Toast",iL="toast.swipeStart",oL="toast.swipeMove",aL="toast.swipeCancel",lL="toast.swipeEnd",RC=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...o}=n,[a,c]=Ob({prop:r,defaultProp:s??!0,onChange:i,caller:Yf});return _.jsx(Wo,{present:t||a,children:_.jsx(dL,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Wt(n.onPause),onResume:Wt(n.onResume),onSwipeStart:me(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:me(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});RC.displayName=Yf;var[cL,uL]=EC(Yf,{onClose(){}}),dL=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...m}=n,g=Zm(Yf,t),[b,v]=C.useState(null),w=St(e,F=>v(F)),x=C.useRef(null),E=C.useRef(null),T=s||g.duration,P=C.useRef(0),R=C.useRef(T),k=C.useRef(0),{onToastAdd:M,onToastRemove:L}=g,O=Wt(()=>{var te;(b==null?void 0:b.contains(document.activeElement))&&((te=g.viewport)==null||te.focus()),o()}),$=C.useCallback(F=>{!F||F===1/0||(window.clearTimeout(k.current),P.current=new Date().getTime(),k.current=window.setTimeout(O,F))},[O]);C.useEffect(()=>{const F=g.viewport;if(F){const te=()=>{$(R.current),u==null||u()},I=()=>{const j=new Date().getTime()-P.current;R.current=R.current-j,window.clearTimeout(k.current),c==null||c()};return F.addEventListener(o0,I),F.addEventListener(a0,te),()=>{F.removeEventListener(o0,I),F.removeEventListener(a0,te)}}},[g.viewport,T,c,u,$]),C.useEffect(()=>{i&&!g.isClosePausedRef.current&&$(T)},[i,T,g.isClosePausedRef,$]),C.useEffect(()=>(M(),()=>L()),[M,L]);const q=C.useMemo(()=>b?OC(b):null,[b]);return g.viewport?_.jsxs(_.Fragment,{children:[q&&_.jsx(hL,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:q}),_.jsx(cL,{scope:t,onClose:O,children:Xf.createPortal(_.jsx(jb.ItemSlot,{scope:t,children:_.jsx(UN,{asChild:!0,onEscapeKeyDown:me(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:_.jsx(Fe.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:me(n.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:me(n.onPointerDown,F=>{F.button===0&&(x.current={x:F.clientX,y:F.clientY})}),onPointerMove:me(n.onPointerMove,F=>{if(!x.current)return;const te=F.clientX-x.current.x,I=F.clientY-x.current.y,j=!!E.current,N=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=N?D(0,te):0,J=N?0:D(0,I),V=F.pointerType==="touch"?10:2,Z={x:H,y:J},ie={originalEvent:F,delta:Z};j?(E.current=Z,xp(oL,h,ie,{discrete:!1})):UA(Z,g.swipeDirection,V)?(E.current=Z,xp(iL,d,ie,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(te)>V||Math.abs(I)>V)&&(x.current=null)}),onPointerUp:me(n.onPointerUp,F=>{const te=E.current,I=F.target;if(I.hasPointerCapture(F.pointerId)&&I.releasePointerCapture(F.pointerId),E.current=null,x.current=null,te){const j=F.currentTarget,N={originalEvent:F,delta:te};UA(te,g.swipeDirection,g.swipeThreshold)?xp(lL,p,N,{discrete:!0}):xp(aL,f,N,{discrete:!0}),j.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),hL=n=>{const{__scopeToast:e,children:t,...r}=n,s=Zm(Yf,e),[i,o]=C.useState(!1),[a,c]=C.useState(!1);return gL(()=>o(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:_.jsx(SC,{asChild:!0,children:_.jsx(Qm,{...r,children:i&&_.jsxs(_.Fragment,{children:[s.label," ",t]})})})},fL="ToastTitle",kC=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return _.jsx(Fe.div,{...r,ref:e})});kC.displayName=fL;var pL="ToastDescription",MC=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return _.jsx(Fe.div,{...r,ref:e})});MC.displayName=pL;var NC="ToastAction",LC=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?_.jsx(DC,{altText:t,asChild:!0,children:_.jsx(zb,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${NC}\`. Expected non-empty \`string\`.`),null)});LC.displayName=NC;var IC="ToastClose",zb=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=uL(IC,t);return _.jsx(DC,{asChild:!0,children:_.jsx(Fe.button,{type:"button",...r,ref:e,onClick:me(n.onClick,s.onClose)})})});zb.displayName=IC;var DC=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return _.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function OC(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),mL(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...OC(r))}}),e}function xp(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?wC(s,i):s.dispatchEvent(i)}var UA=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function gL(n=()=>{}){const e=Wt(n);Ss(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function mL(n){return n.nodeType===n.ELEMENT_NODE}function vL(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ty(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var yL=CC,FC=TC,jC=RC,zC=kC,$C=MC,BC=LC,HC=zb;function UC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=UC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function VC(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=UC(n))&&(r&&(r+=" "),r+=e);return r}const VA=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,WA=VC,Jm=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return WA(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=t==null?void 0:t[u],h=i==null?void 0:i[u];if(d===null)return null;const f=VA(d)||VA(h);return s[u][f]}),a=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(m=>{let[g,b]=m;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...u,h,f]:u},[]);return WA(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WC=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>C.createElement("svg",{ref:c,...bL,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:WC("lucide",s),...a},[...o.map(([u,d])=>C.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=(n,e)=>{const t=C.forwardRef(({className:r,...s},i)=>C.createElement(xL,{ref:i,iconNode:e,className:WC(`lucide-${wL(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=kl("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=kl("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=kl("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=kl("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=kl("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=kl("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=kl("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$b="-",PL=n=>{const e=kL(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split($b);return a[0]===""&&a.length!==1&&a.shift(),XC(a,e)||RL(o)},getConflictingClassGroupIds:(o,a)=>{const c=t[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},XC=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?XC(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join($b);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},GA=/^\[(.+)\]$/,RL=n=>{if(GA.test(n)){const e=GA.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},kL=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return NL(Object.entries(n.classGroups),t).forEach(([i,o])=>{c0(o,r,i,e)}),r},c0=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:XA(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(ML(s)){c0(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,o])=>{c0(o,XA(e,i),t,r)})})},XA=(n,e)=>{let t=n;return e.split($b).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},ML=n=>n.isThemeGetter,NL=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,s]}):n,LL=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){t.has(i)?t.set(i,o):s(i,o)}}},YC="!",IL=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,h;for(let b=0;b<a.length;b++){let v=a[b];if(u===0){if(v===s&&(r||a.slice(b,b+i)===e)){c.push(a.slice(d,b)),d=b+i;continue}if(v==="/"){h=b;continue}}v==="["?u++:v==="]"&&u--}const f=c.length===0?a:a.substring(d),p=f.startsWith(YC),m=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return t?a=>t({className:a,parseClassName:o}):o},DL=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},OL=n=>({cache:LL(n.cacheSize),parseClassName:IL(n),...PL(n)}),FL=/\s+/,jL=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=n.trim().split(FL);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let m=!!p,g=r(m?f.substring(0,p):f);if(!g){if(!m){a=u+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=u+(a.length>0?" "+a:a);continue}m=!1}const b=DL(d).join(":"),v=h?b+YC:b,w=v+g;if(i.includes(w))continue;i.push(w);const x=s(g,m);for(let E=0;E<x.length;++E){const T=x[E];i.push(v+T)}a=u+(a.length>0?" "+a:a)}return a};function zL(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=qC(e))&&(r&&(r+=" "),r+=t);return r}const qC=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=qC(n[r]))&&(t&&(t+=" "),t+=e);return t};function $L(n,...e){let t,r,s,i=o;function o(c){const u=e.reduce((d,h)=>h(d),n());return t=OL(u),r=t.cache.get,s=t.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=jL(c,t);return s(c,d),d}return function(){return i(zL.apply(null,arguments))}}const Le=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},KC=/^\[(?:([a-z-]+):)?(.+)\]$/i,BL=/^\d+\/\d+$/,HL=new Set(["px","full","screen"]),UL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=n=>hc(n)||HL.has(n)||BL.test(n),Mi=n=>Uu(n,"length",tI),hc=n=>!!n&&!Number.isNaN(Number(n)),ny=n=>Uu(n,"number",hc),nd=n=>!!n&&Number.isInteger(Number(n)),YL=n=>n.endsWith("%")&&hc(n.slice(0,-1)),le=n=>KC.test(n),Ni=n=>UL.test(n),qL=new Set(["length","size","percentage"]),KL=n=>Uu(n,qL,QC),QL=n=>Uu(n,"position",QC),ZL=new Set(["image","url"]),JL=n=>Uu(n,ZL,rI),eI=n=>Uu(n,"",nI),rd=()=>!0,Uu=(n,e,t)=>{const r=KC.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},tI=n=>VL.test(n)&&!WL.test(n),QC=()=>!1,nI=n=>GL.test(n),rI=n=>XL.test(n),sI=()=>{const n=Le("colors"),e=Le("spacing"),t=Le("blur"),r=Le("brightness"),s=Le("borderColor"),i=Le("borderRadius"),o=Le("borderSpacing"),a=Le("borderWidth"),c=Le("contrast"),u=Le("grayscale"),d=Le("hueRotate"),h=Le("invert"),f=Le("gap"),p=Le("gradientColorStops"),m=Le("gradientColorStopPositions"),g=Le("inset"),b=Le("margin"),v=Le("opacity"),w=Le("padding"),x=Le("saturate"),E=Le("scale"),T=Le("sepia"),P=Le("skew"),R=Le("space"),k=Le("translate"),M=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",le,e],$=()=>[le,e],q=()=>["",Rs,Mi],F=()=>["auto",hc,le],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",le],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[hc,le];return{cacheSize:500,separator:":",theme:{colors:[rd],spacing:[Rs,Mi],blur:["none","",Ni,le],brightness:J(),borderColor:[n],borderRadius:["none","","full",Ni,le],borderSpacing:$(),borderWidth:q(),contrast:J(),grayscale:D(),hueRotate:J(),invert:D(),gap:$(),gradientColorStops:[n],gradientColorStopPositions:[YL,Mi],inset:O(),margin:O(),opacity:J(),padding:$(),saturate:J(),scale:J(),sepia:D(),skew:J(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Ni]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),le]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nd,le]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",nd,le]}],"grid-cols":[{"grid-cols":[rd]}],"col-start-end":[{col:["auto",{span:["full",nd,le]},le]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[rd]}],"row-start-end":[{row:["auto",{span:[nd,le]},le]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,e]}],"min-w":[{"min-w":[le,e,"min","max","fit"]}],"max-w":[{"max-w":[le,e,"none","full","min","max","fit","prose",{screen:[Ni]},Ni]}],h:[{h:[le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ni,Mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ny]}],"font-family":[{font:[rd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",hc,ny]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rs,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rs,Mi]}],"underline-offset":[{"underline-offset":["auto",Rs,le]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),QL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JL]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Rs,le]}],"outline-w":[{outline:[Rs,Mi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Rs,Mi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ni,eI]}],"shadow-color":[{shadow:[rd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ni,le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[nd,le]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Rs,Mi,ny]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iI=$L(sI);function Ae(...n){return iI(VC(n))}const oI=yL,ZC=C.forwardRef(({className:n,...e},t)=>_.jsx(FC,{ref:t,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));ZC.displayName=FC.displayName;const aI=Jm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),JC=C.forwardRef(({className:n,variant:e,...t},r)=>_.jsx(jC,{ref:r,className:Ae(aI({variant:e}),n),...t}));JC.displayName=jC.displayName;const lI=C.forwardRef(({className:n,...e},t)=>_.jsx(BC,{ref:t,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));lI.displayName=BC.displayName;const e_=C.forwardRef(({className:n,...e},t)=>_.jsx(HC,{ref:t,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:_.jsx(GC,{className:"h-4 w-4"})}));e_.displayName=HC.displayName;const t_=C.forwardRef(({className:n,...e},t)=>_.jsx(zC,{ref:t,className:Ae("text-sm font-semibold",n),...e}));t_.displayName=zC.displayName;const n_=C.forwardRef(({className:n,...e},t)=>_.jsx($C,{ref:t,className:Ae("text-sm opacity-90",n),...e}));n_.displayName=$C.displayName;function cI(){const{toasts:n}=AN();return _.jsxs(oI,{children:[n.map(function({id:e,title:t,description:r,action:s,...i}){return _.jsxs(JC,{...i,children:[_.jsxs("div",{className:"grid gap-1",children:[t&&_.jsx(t_,{children:t}),r&&_.jsx(n_,{children:r})]}),s,_.jsx(e_,{})]},e)}),_.jsx(ZC,{})]})}var YA=["light","dark"],uI="(prefers-color-scheme: dark)",dI=C.createContext(void 0),hI={setTheme:n=>{},themes:[]},fI=()=>{var n;return(n=C.useContext(dI))!=null?n:hI};C.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=s?YA.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,g=!1,b=!0)=>{let v=o?o[m]:m,w=g?m+"|| ''":`'${v}'`,x="";return s&&b&&!g&&YA.includes(m)&&(x+=`d.style.colorScheme = '${m}';`),t==="class"?g||v?x+=`c.add(${w})`:x+="null":v&&(x+=`d[s](n,${w})`),x},p=n?`!function(){${d}${f(n)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${uI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return C.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var pI=n=>{switch(n){case"success":return vI;case"info":return wI;case"warning":return yI;case"error":return bI;default:return null}},gI=Array(12).fill(0),mI=({visible:n,className:e})=>B.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},B.createElement("div",{className:"sonner-spinner"},gI.map((t,r)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),vI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AI=()=>{let[n,e]=B.useState(document.hidden);return B.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},u0=1,SI=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,s=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:u0++,i=this.toasts.find(a=>a.id===s),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...n,id:s,title:t}),{...a,...n,id:s,dismissible:o,title:t}):a):this.addToast({title:t,...r,dismissible:o,id:s}),s},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),s=t!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],B.isValidElement(c))s=!1,this.create({id:t,type:"default",message:c});else if(CI(c)&&!c.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:t,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(t),t=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof t!="string"&&typeof t!="number"?{unwrap:a}:Object.assign(t,{unwrap:a})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||u0++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},pn=new SI,EI=(n,e)=>{let t=(e==null?void 0:e.id)||u0++;return pn.addToast({title:n,...e,id:t}),t},CI=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",_I=EI,TI=()=>pn.toasts,PI=()=>pn.getActiveToasts();Object.assign(_I,{success:pn.success,info:pn.info,warning:pn.warning,error:pn.error,custom:pn.custom,message:pn.message,promise:pn.promise,dismiss:pn.dismiss,loading:pn.loading},{getHistory:TI,getToasts:PI});function RI(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}RI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ap(n){return n.label!==void 0}var kI=3,MI="32px",NI="16px",qA=4e3,LI=356,II=14,DI=20,OI=200;function yr(...n){return n.filter(Boolean).join(" ")}function FI(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var jI=n=>{var e,t,r,s,i,o,a,c,u,d,h;let{invert:f,toast:p,unstyled:m,interacting:g,setHeights:b,visibleToasts:v,heights:w,index:x,toasts:E,expanded:T,removeToast:P,defaultRichColors:R,closeButton:k,style:M,cancelButtonStyle:L,actionButtonStyle:O,className:$="",descriptionClassName:q="",duration:F,position:te,gap:I,loadingIcon:j,expandByDefault:N,classNames:D,icons:H,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:V}=n,[Z,ie]=B.useState(null),[ke,be]=B.useState(null),[ee,An]=B.useState(!1),[fr,Ps]=B.useState(!1),[Ci,Nl]=B.useState(!1),[_i,ep]=B.useState(!1),[Av,tp]=B.useState(!1),[Sv,Gu]=B.useState(0),[Ll,Ax]=B.useState(0),Xu=B.useRef(p.duration||F||qA),Sx=B.useRef(null),Xo=B.useRef(null),DR=x===0,OR=x+1<=v,Xn=p.type,Il=p.dismissible!==!1,FR=p.className||"",jR=p.descriptionClassName||"",np=B.useMemo(()=>w.findIndex(oe=>oe.toastId===p.id)||0,[w,p.id]),zR=B.useMemo(()=>{var oe;return(oe=p.closeButton)!=null?oe:k},[p.closeButton,k]),Ex=B.useMemo(()=>p.duration||F||qA,[p.duration,F]),Ev=B.useRef(0),Dl=B.useRef(0),Cx=B.useRef(0),Ol=B.useRef(null),[$R,BR]=te.split("-"),_x=B.useMemo(()=>w.reduce((oe,_e,je)=>je>=np?oe:oe+_e.height,0),[w,np]),Tx=AI(),HR=p.invert||f,Cv=Xn==="loading";Dl.current=B.useMemo(()=>np*I+_x,[np,_x]),B.useEffect(()=>{Xu.current=Ex},[Ex]),B.useEffect(()=>{An(!0)},[]),B.useEffect(()=>{let oe=Xo.current;if(oe){let _e=oe.getBoundingClientRect().height;return Ax(_e),b(je=>[{toastId:p.id,height:_e,position:p.position},...je]),()=>b(je=>je.filter(pr=>pr.toastId!==p.id))}},[b,p.id]),B.useLayoutEffect(()=>{if(!ee)return;let oe=Xo.current,_e=oe.style.height;oe.style.height="auto";let je=oe.getBoundingClientRect().height;oe.style.height=_e,Ax(je),b(pr=>pr.find(gr=>gr.toastId===p.id)?pr.map(gr=>gr.toastId===p.id?{...gr,height:je}:gr):[{toastId:p.id,height:je,position:p.position},...pr])},[ee,p.title,p.description,b,p.id]);let Ti=B.useCallback(()=>{Ps(!0),Gu(Dl.current),b(oe=>oe.filter(_e=>_e.toastId!==p.id)),setTimeout(()=>{P(p)},OI)},[p,P,b,Dl]);B.useEffect(()=>{if(p.promise&&Xn==="loading"||p.duration===1/0||p.type==="loading")return;let oe;return T||g||V&&Tx?(()=>{if(Cx.current<Ev.current){let _e=new Date().getTime()-Ev.current;Xu.current=Xu.current-_e}Cx.current=new Date().getTime()})():Xu.current!==1/0&&(Ev.current=new Date().getTime(),oe=setTimeout(()=>{var _e;(_e=p.onAutoClose)==null||_e.call(p,p),Ti()},Xu.current)),()=>clearTimeout(oe)},[T,g,p,Xn,V,Tx,Ti]),B.useEffect(()=>{p.delete&&Ti()},[Ti,p.delete]);function UR(){var oe,_e,je;return H!=null&&H.loading?B.createElement("div",{className:yr(D==null?void 0:D.loader,(oe=p==null?void 0:p.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Xn==="loading"},H.loading):j?B.createElement("div",{className:yr(D==null?void 0:D.loader,(_e=p==null?void 0:p.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Xn==="loading"},j):B.createElement(mI,{className:yr(D==null?void 0:D.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader),visible:Xn==="loading"})}return B.createElement("li",{tabIndex:0,ref:Xo,className:yr($,FR,D==null?void 0:D.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[Xn],(t=p==null?void 0:p.classNames)==null?void 0:t[Xn]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:R,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":ee,"data-promise":!!p.promise,"data-swiped":Av,"data-removed":fr,"data-visible":OR,"data-y-position":$R,"data-x-position":BR,"data-index":x,"data-front":DR,"data-swiping":Ci,"data-dismissible":Il,"data-type":Xn,"data-invert":HR,"data-swipe-out":_i,"data-swipe-direction":ke,"data-expanded":!!(T||N&&ee),style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${fr?Sv:Dl.current}px`,"--initial-height":N?"auto":`${Ll}px`,...M,...p.style},onDragEnd:()=>{Nl(!1),ie(null),Ol.current=null},onPointerDown:oe=>{Cv||!Il||(Sx.current=new Date,Gu(Dl.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(Nl(!0),Ol.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,_e,je,pr;if(_i||!Il)return;Ol.current=null;let gr=Number(((oe=Xo.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pi=Number(((_e=Xo.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yo=new Date().getTime()-((je=Sx.current)==null?void 0:je.getTime()),mr=Z==="x"?gr:Pi,Ri=Math.abs(mr)/Yo;if(Math.abs(mr)>=DI||Ri>.11){Gu(Dl.current),(pr=p.onDismiss)==null||pr.call(p,p),be(Z==="x"?gr>0?"right":"left":Pi>0?"down":"up"),Ti(),ep(!0),tp(!1);return}Nl(!1),ie(null)},onPointerMove:oe=>{var _e,je,pr,gr;if(!Ol.current||!Il||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let Pi=oe.clientY-Ol.current.y,Yo=oe.clientX-Ol.current.x,mr=(je=n.swipeDirections)!=null?je:FI(te);!Z&&(Math.abs(Yo)>1||Math.abs(Pi)>1)&&ie(Math.abs(Yo)>Math.abs(Pi)?"x":"y");let Ri={x:0,y:0};Z==="y"?(mr.includes("top")||mr.includes("bottom"))&&(mr.includes("top")&&Pi<0||mr.includes("bottom")&&Pi>0)&&(Ri.y=Pi):Z==="x"&&(mr.includes("left")||mr.includes("right"))&&(mr.includes("left")&&Yo<0||mr.includes("right")&&Yo>0)&&(Ri.x=Yo),(Math.abs(Ri.x)>0||Math.abs(Ri.y)>0)&&tp(!0),(pr=Xo.current)==null||pr.style.setProperty("--swipe-amount-x",`${Ri.x}px`),(gr=Xo.current)==null||gr.style.setProperty("--swipe-amount-y",`${Ri.y}px`)}},zR&&!p.jsx?B.createElement("button",{"aria-label":J,"data-disabled":Cv,"data-close-button":!0,onClick:Cv||!Il?()=>{}:()=>{var oe;Ti(),(oe=p.onDismiss)==null||oe.call(p,p)},className:yr(D==null?void 0:D.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:xI):null,p.jsx||C.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:B.createElement(B.Fragment,null,Xn||p.icon||p.promise?B.createElement("div",{"data-icon":"",className:yr(D==null?void 0:D.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||UR():null,p.type!=="loading"?p.icon||(H==null?void 0:H[Xn])||pI(Xn):null):null,B.createElement("div",{"data-content":"",className:yr(D==null?void 0:D.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},B.createElement("div",{"data-title":"",className:yr(D==null?void 0:D.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?B.createElement("div",{"data-description":"",className:yr(q,jR,D==null?void 0:D.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),C.isValidElement(p.cancel)?p.cancel:p.cancel&&Ap(p.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||L,onClick:oe=>{var _e,je;Ap(p.cancel)&&Il&&((je=(_e=p.cancel).onClick)==null||je.call(_e,oe),Ti())},className:yr(D==null?void 0:D.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,C.isValidElement(p.action)?p.action:p.action&&Ap(p.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:oe=>{var _e,je;Ap(p.action)&&((je=(_e=p.action).onClick)==null||je.call(_e,oe),!oe.defaultPrevented&&Ti())},className:yr(D==null?void 0:D.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function KA(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function zI(n,e){let t={};return[n,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?NI:MI;function c(u){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?t[`${o}-${u}`]=a:t[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),t}var $I=C.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:m=kI,toastOptions:g,dir:b=KA(),gap:v=II,loadingIcon:w,icons:x,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:T}=n,[P,R]=B.useState([]),k=B.useMemo(()=>Array.from(new Set([r].concat(P.filter(V=>V.position).map(V=>V.position)))),[P,r]),[M,L]=B.useState([]),[O,$]=B.useState(!1),[q,F]=B.useState(!1),[te,I]=B.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=B.useRef(null),N=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=B.useRef(null),H=B.useRef(!1),J=B.useCallback(V=>{R(Z=>{var ie;return(ie=Z.find(ke=>ke.id===V.id))!=null&&ie.delete||pn.dismiss(V.id),Z.filter(({id:ke})=>ke!==V.id)})},[]);return B.useEffect(()=>pn.subscribe(V=>{if(V.dismiss){R(Z=>Z.map(ie=>ie.id===V.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{mC.flushSync(()=>{R(Z=>{let ie=Z.findIndex(ke=>ke.id===V.id);return ie!==-1?[...Z.slice(0,ie),{...Z[ie],...V},...Z.slice(ie+1)]:[V,...Z]})})})}),[]),B.useEffect(()=>{if(d!=="system"){I(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Z})=>{I(Z?"dark":"light")})}catch{V.addListener(({matches:ie})=>{try{I(ie?"dark":"light")}catch(ke){console.error(ke)}})}},[d]),B.useEffect(()=>{P.length<=1&&$(!1)},[P]),B.useEffect(()=>{let V=Z=>{var ie,ke;s.every(be=>Z[be]||Z.code===be)&&($(!0),(ie=j.current)==null||ie.focus()),Z.code==="Escape"&&(document.activeElement===j.current||(ke=j.current)!=null&&ke.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),B.useEffect(()=>{if(j.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,H.current=!1)}},[j.current]),B.createElement("section",{ref:e,"aria-label":`${E} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((V,Z)=>{var ie;let[ke,be]=V.split("-");return P.length?B.createElement("ol",{key:V,dir:b==="auto"?KA():b,tabIndex:-1,ref:j,className:a,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":ke,"data-lifted":O&&P.length>1&&!i,"data-x-position":be,style:{"--front-toast-height":`${((ie=M[0])==null?void 0:ie.height)||0}px`,"--width":`${LI}px`,"--gap":`${v}px`,...p,...zI(c,u)},onBlur:ee=>{H.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(H.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||H.current||(H.current=!0,D.current=ee.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{q||$(!1)},onDragEnd:()=>$(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},P.filter(ee=>!ee.position&&Z===0||ee.position===V).map((ee,An)=>{var fr,Ps;return B.createElement(jI,{key:ee.id,icons:x,index:An,toast:ee,defaultRichColors:h,duration:(fr=g==null?void 0:g.duration)!=null?fr:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:m,closeButton:(Ps=g==null?void 0:g.closeButton)!=null?Ps:o,interacting:q,position:V,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:J,toasts:P.filter(Ci=>Ci.position==ee.position),heights:M.filter(Ci=>Ci.position==ee.position),setHeights:L,expandByDefault:i,gap:v,loadingIcon:w,expanded:O,pauseWhenPageIsHidden:T,swipeDirections:n.swipeDirections})})):null}))});const BI=({...n})=>{const{theme:e="system"}=fI();return _.jsx($I,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var HI=Im[" useId ".trim().toString()]||(()=>{}),UI=0;function r_(n){const[e,t]=C.useState(HI());return Ss(()=>{t(r=>r??String(UI++))},[n]),e?`radix-${e}`:""}const VI=["top","right","bottom","left"],Fo=Math.min,Fn=Math.max,Yg=Math.round,Sp=Math.floor,As=n=>({x:n,y:n}),WI={left:"right",right:"left",bottom:"top",top:"bottom"},GI={start:"end",end:"start"};function d0(n,e,t){return Fn(n,Fo(e,t))}function bi(n,e){return typeof n=="function"?n(e):n}function xi(n){return n.split("-")[0]}function Vu(n){return n.split("-")[1]}function Bb(n){return n==="x"?"y":"x"}function Hb(n){return n==="y"?"height":"width"}const XI=new Set(["top","bottom"]);function ws(n){return XI.has(xi(n))?"y":"x"}function Ub(n){return Bb(ws(n))}function YI(n,e,t){t===void 0&&(t=!1);const r=Vu(n),s=Ub(n),i=Hb(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=qg(o)),[o,qg(o)]}function qI(n){const e=qg(n);return[h0(n),e,h0(e)]}function h0(n){return n.replace(/start|end/g,e=>GI[e])}const QA=["left","right"],ZA=["right","left"],KI=["top","bottom"],QI=["bottom","top"];function ZI(n,e,t){switch(n){case"top":case"bottom":return t?e?ZA:QA:e?QA:ZA;case"left":case"right":return e?KI:QI;default:return[]}}function JI(n,e,t,r){const s=Vu(n);let i=ZI(xi(n),t==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(h0)))),i}function qg(n){return n.replace(/left|right|bottom|top/g,e=>WI[e])}function eD(n){return{top:0,right:0,bottom:0,left:0,...n}}function s_(n){return typeof n!="number"?eD(n):{top:n,right:n,bottom:n,left:n}}function Kg(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function JA(n,e,t){let{reference:r,floating:s}=n;const i=ws(e),o=Ub(e),a=Hb(o),c=xi(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Vu(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}async function tD(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=bi(e,n),m=s_(p),b=a[f?h==="floating"?"reference":"floating":h],v=Kg(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(b)))==null||t?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},T=Kg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:c}):w);return{top:(v.top-T.top+m.top)/E.y,bottom:(T.bottom-v.bottom+m.bottom)/E.y,left:(v.left-T.left+m.left)/E.x,right:(T.right-v.right+m.right)/E.x}}const nD=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:d,y:h}=JA(u,r,c),f=r,p={},m=0;for(let b=0;b<a.length;b++){var g;const{name:v,fn:w}=a[b],{x,y:E,data:T,reset:P}=await w({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:{...o,detectOverflow:(g=o.detectOverflow)!=null?g:tD},elements:{reference:n,floating:e}});d=x??d,h=E??h,p={...p,[v]:{...p[v],...T}},P&&m<=50&&(m++,typeof P=="object"&&(P.placement&&(f=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):P.rects),{x:d,y:h}=JA(u,f,c)),b=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}},rD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=bi(n,e)||{};if(u==null)return{};const h=s_(d),f={x:t,y:r},p=Ub(s),m=Hb(p),g=await o.getDimensions(u),b=p==="y",v=b?"top":"left",w=b?"bottom":"right",x=b?"clientHeight":"clientWidth",E=i.reference[m]+i.reference[p]-f[p]-i.floating[m],T=f[p]-i.reference[p],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let R=P?P[x]:0;(!R||!await(o.isElement==null?void 0:o.isElement(P)))&&(R=a.floating[x]||i.floating[m]);const k=E/2-T/2,M=R/2-g[m]/2-1,L=Fo(h[v],M),O=Fo(h[w],M),$=L,q=R-g[m]-O,F=R/2-g[m]/2+k,te=d0($,F,q),I=!c.arrow&&Vu(s)!=null&&F!==te&&i.reference[m]/2-(F<$?L:O)-g[m]/2<0,j=I?F<$?F-$:F-q:0;return{[p]:f[p]+j,data:{[p]:te,centerOffset:F-te-j,...I&&{alignmentOffset:j}},reset:I}}}),sD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...b}=bi(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const v=xi(s),w=ws(a),x=xi(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=f||(x||!g?[qg(a)]:qI(a)),P=m!=="none";!f&&P&&T.push(...JI(a,g,m,E));const R=[a,...T],k=await c.detectOverflow(e,b),M=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&M.push(k[v]),h){const F=YI(s,o,E);M.push(k[F[0]],k[F[1]])}if(L=[...L,{placement:s,overflows:M}],!M.every(F=>F<=0)){var O,$;const F=(((O=i.flip)==null?void 0:O.index)||0)+1,te=R[F];if(te&&(!(h==="alignment"?w!==ws(te):!1)||L.every(N=>ws(N.placement)===w?N.overflows[0]>0:!0)))return{data:{index:F,overflows:L},reset:{placement:te}};let I=($=L.filter(j=>j.overflows[0]<=0).sort((j,N)=>j.overflows[1]-N.overflows[1])[0])==null?void 0:$.placement;if(!I)switch(p){case"bestFit":{var q;const j=(q=L.filter(N=>{if(P){const D=ws(N.placement);return D===w||D==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((N,D)=>N[1]-D[1])[0])==null?void 0:q[0];j&&(I=j);break}case"initialPlacement":I=a;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function eS(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function tS(n){return VI.some(e=>n[e]>=0)}const iD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t,platform:r}=e,{strategy:s="referenceHidden",...i}=bi(n,e);switch(s){case"referenceHidden":{const o=await r.detectOverflow(e,{...i,elementContext:"reference"}),a=eS(o,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:tS(a)}}}case"escaped":{const o=await r.detectOverflow(e,{...i,altBoundary:!0}),a=eS(o,t.floating);return{data:{escapedOffsets:a,escaped:tS(a)}}}default:return{}}}}},i_=new Set(["left","top"]);async function oD(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=xi(t),a=Vu(t),c=ws(t)==="y",u=i_.has(o)?-1:1,d=i&&c?-1:1,h=bi(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const aD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await oD(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},lD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s,platform:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:v=>{let{x:w,y:x}=v;return{x:w,y:x}}},...u}=bi(n,e),d={x:t,y:r},h=await i.detectOverflow(e,u),f=ws(xi(s)),p=Bb(f);let m=d[p],g=d[f];if(o){const v=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=m+h[v],E=m-h[w];m=d0(x,m,E)}if(a){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=g+h[v],E=g-h[w];g=d0(x,g,E)}const b=c.fn({...e,[p]:m,[f]:g});return{...b,data:{x:b.x-t,y:b.y-r,enabled:{[p]:o,[f]:a}}}}}},cD=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=bi(n,e),d={x:t,y:r},h=ws(s),f=Bb(h);let p=d[f],m=d[h];const g=bi(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=f==="y"?"height":"width",E=i.reference[f]-i.floating[x]+b.mainAxis,T=i.reference[f]+i.reference[x]-b.mainAxis;p<E?p=E:p>T&&(p=T)}if(u){var v,w;const x=f==="y"?"width":"height",E=i_.has(xi(s)),T=i.reference[h]-i.floating[x]+(E&&((v=o.offset)==null?void 0:v[h])||0)+(E?0:b.crossAxis),P=i.reference[h]+i.reference[x]+(E?0:((w=o.offset)==null?void 0:w[h])||0)-(E?b.crossAxis:0);m<T?m=T:m>P&&(m=P)}return{[f]:p,[h]:m}}}},uD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=bi(n,e),d=await o.detectOverflow(e,u),h=xi(s),f=Vu(s),p=ws(s)==="y",{width:m,height:g}=i.floating;let b,v;h==="top"||h==="bottom"?(b=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,b=f==="end"?"top":"bottom");const w=g-d.top-d.bottom,x=m-d.left-d.right,E=Fo(g-d[b],w),T=Fo(m-d[v],x),P=!e.middlewareData.shift;let R=E,k=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(k=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=w),P&&!f){const L=Fn(d.left,0),O=Fn(d.right,0),$=Fn(d.top,0),q=Fn(d.bottom,0);p?k=m-2*(L!==0||O!==0?L+O:Fn(d.left,d.right)):R=g-2*($!==0||q!==0?$+q:Fn(d.top,d.bottom))}await c({...e,availableWidth:k,availableHeight:R});const M=await o.getDimensions(a.floating);return m!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function ev(){return typeof window<"u"}function Wu(n){return o_(n)?(n.nodeName||"").toLowerCase():"#document"}function Hn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function _s(n){var e;return(e=(o_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function o_(n){return ev()?n instanceof Node||n instanceof Hn(n).Node:!1}function Ur(n){return ev()?n instanceof Element||n instanceof Hn(n).Element:!1}function Es(n){return ev()?n instanceof HTMLElement||n instanceof Hn(n).HTMLElement:!1}function nS(n){return!ev()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hn(n).ShadowRoot}const dD=new Set(["inline","contents"]);function qf(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Vr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!dD.has(s)}const hD=new Set(["table","td","th"]);function fD(n){return hD.has(Wu(n))}const pD=[":popover-open",":modal"];function tv(n){return pD.some(e=>{try{return n.matches(e)}catch{return!1}})}const gD=["transform","translate","scale","rotate","perspective"],mD=["transform","translate","scale","rotate","perspective","filter"],vD=["paint","layout","strict","content"];function Vb(n){const e=Wb(),t=Ur(n)?Vr(n):n;return gD.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||mD.some(r=>(t.willChange||"").includes(r))||vD.some(r=>(t.contain||"").includes(r))}function yD(n){let e=jo(n);for(;Es(e)&&!Fu(e);){if(Vb(e))return e;if(tv(e))return null;e=jo(e)}return null}function Wb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wD=new Set(["html","body","#document"]);function Fu(n){return wD.has(Wu(n))}function Vr(n){return Hn(n).getComputedStyle(n)}function nv(n){return Ur(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function jo(n){if(Wu(n)==="html")return n;const e=n.assignedSlot||n.parentNode||nS(n)&&n.host||_s(n);return nS(e)?e.host:e}function a_(n){const e=jo(n);return Fu(e)?n.ownerDocument?n.ownerDocument.body:n.body:Es(e)&&qf(e)?e:a_(e)}function ih(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=a_(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),o=Hn(s);if(i){const a=f0(o);return e.concat(o,o.visualViewport||[],qf(s)?s:[],a&&t?ih(a):[])}return e.concat(s,ih(s,[],t))}function f0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function l_(n){const e=Vr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Es(n),i=s?n.offsetWidth:t,o=s?n.offsetHeight:r,a=Yg(t)!==i||Yg(r)!==o;return a&&(t=i,r=o),{width:t,height:r,$:a}}function Gb(n){return Ur(n)?n:n.contextElement}function fc(n){const e=Gb(n);if(!Es(e))return As(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=l_(e);let o=(i?Yg(t.width):t.width)/r,a=(i?Yg(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bD=As(0);function c_(n){const e=Hn(n);return!Wb()||!e.visualViewport?bD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hn(n)?!1:e}function Al(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=Gb(n);let o=As(1);e&&(r?Ur(r)&&(o=fc(r)):o=fc(n));const a=xD(i,t,r)?c_(i):As(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Hn(i),p=r&&Ur(r)?Hn(r):r;let m=f,g=f0(m);for(;g&&r&&p!==m;){const b=fc(g),v=g.getBoundingClientRect(),w=Vr(g),x=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*b.x,E=v.top+(g.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=x,u+=E,m=Hn(g),g=f0(m)}}return Kg({width:d,height:h,x:c,y:u})}function rv(n,e){const t=nv(n).scrollLeft;return e?e.left+t:Al(_s(n)).left+t}function u_(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-rv(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function AD(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",o=_s(r),a=e?tv(e.floating):!1;if(r===o||a&&i)return t;let c={scrollLeft:0,scrollTop:0},u=As(1);const d=As(0),h=Es(r);if((h||!h&&!i)&&((Wu(r)!=="body"||qf(o))&&(c=nv(r)),Es(r))){const p=Al(r);u=fc(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?u_(o,c):As(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-c.scrollTop*u.y+d.y+f.y}}function SD(n){return Array.from(n.getClientRects())}function ED(n){const e=_s(n),t=nv(n),r=n.ownerDocument.body,s=Fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+rv(n);const a=-t.scrollTop;return Vr(r).direction==="rtl"&&(o+=Fn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const rS=25;function CD(n,e){const t=Hn(n),r=_s(n),s=t.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=Wb();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const u=rv(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-h.clientWidth-p);m<=rS&&(i-=m)}else u<=rS&&(i+=u);return{width:i,height:o,x:a,y:c}}const _D=new Set(["absolute","fixed"]);function TD(n,e){const t=Al(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=Es(n)?fc(n):As(1),o=n.clientWidth*i.x,a=n.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function sS(n,e,t){let r;if(e==="viewport")r=CD(n,t);else if(e==="document")r=ED(_s(n));else if(Ur(e))r=TD(e,t);else{const s=c_(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kg(r)}function d_(n,e){const t=jo(n);return t===e||!Ur(t)||Fu(t)?!1:Vr(t).position==="fixed"||d_(t,e)}function PD(n,e){const t=e.get(n);if(t)return t;let r=ih(n,[],!1).filter(a=>Ur(a)&&Wu(a)!=="body"),s=null;const i=Vr(n).position==="fixed";let o=i?jo(n):n;for(;Ur(o)&&!Fu(o);){const a=Vr(o),c=Vb(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&_D.has(s.position)||qf(o)&&!c&&d_(n,o))?r=r.filter(d=>d!==o):s=a,o=jo(o)}return e.set(n,r),r}function RD(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const o=[...t==="clippingAncestors"?tv(e)?[]:PD(e,this._c):[].concat(t),r],a=o[0],c=o.reduce((u,d)=>{const h=sS(e,d,s);return u.top=Fn(h.top,u.top),u.right=Fo(h.right,u.right),u.bottom=Fo(h.bottom,u.bottom),u.left=Fn(h.left,u.left),u},sS(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kD(n){const{width:e,height:t}=l_(n);return{width:e,height:t}}function MD(n,e,t){const r=Es(e),s=_s(e),i=t==="fixed",o=Al(n,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=As(0);function u(){c.x=rv(s)}if(r||!r&&!i)if((Wu(e)!=="body"||qf(s))&&(a=nv(e)),r){const p=Al(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?u_(s,a):As(0),h=o.left+a.scrollLeft-c.x-d.x,f=o.top+a.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function ry(n){return Vr(n).position==="static"}function iS(n,e){if(!Es(n)||Vr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return _s(n)===t&&(t=t.ownerDocument.body),t}function h_(n,e){const t=Hn(n);if(tv(n))return t;if(!Es(n)){let s=jo(n);for(;s&&!Fu(s);){if(Ur(s)&&!ry(s))return s;s=jo(s)}return t}let r=iS(n,e);for(;r&&fD(r)&&ry(r);)r=iS(r,e);return r&&Fu(r)&&ry(r)&&!Vb(r)?t:r||yD(n)||t}const ND=async function(n){const e=this.getOffsetParent||h_,t=this.getDimensions,r=await t(n.floating);return{reference:MD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LD(n){return Vr(n).direction==="rtl"}const ID={convertOffsetParentRelativeRectToViewportRelativeRect:AD,getDocumentElement:_s,getClippingRect:RD,getOffsetParent:h_,getElementRects:ND,getClientRects:SD,getDimensions:kD,getScale:fc,isElement:Ur,isRTL:LD};function f_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function DD(n,e){let t=null,r;const s=_s(n);function i(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=n.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||e(),!f||!p)return;const m=Sp(h),g=Sp(s.clientWidth-(d+f)),b=Sp(s.clientHeight-(h+p)),v=Sp(d),x={rootMargin:-m+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Fn(0,Fo(1,c))||1};let E=!0;function T(P){const R=P[0].intersectionRatio;if(R!==c){if(!E)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!f_(u,n.getBoundingClientRect())&&o(),E=!1}try{t=new IntersectionObserver(T,{...x,root:s.ownerDocument})}catch{t=new IntersectionObserver(T,x)}t.observe(n)}return o(!0),i}function OD(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Gb(n),d=s||i?[...u?ih(u):[],...ih(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",t,{passive:!0}),i&&v.addEventListener("resize",t)});const h=u&&a?DD(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),t()}),u&&!c&&p.observe(u),p.observe(e));let m,g=c?Al(n):null;c&&b();function b(){const v=Al(n);g&&!f_(g,v)&&t(),g=v,m=requestAnimationFrame(b)}return t(),()=>{var v;d.forEach(w=>{s&&w.removeEventListener("scroll",t),i&&w.removeEventListener("resize",t)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const FD=aD,jD=lD,zD=sD,$D=uD,BD=iD,oS=rD,HD=cD,UD=(n,e,t)=>{const r=new Map,s={platform:ID,...t},i={...s.platform,_c:r};return nD(n,e,{...s,platform:i})};var VD=typeof document<"u",WD=function(){},Vp=VD?C.useLayoutEffect:WD;function Qg(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Qg(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Qg(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function p_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function aS(n,e){const t=p_(n);return Math.round(e*t)/t}function sy(n){const e=C.useRef(n);return Vp(()=>{e.current=n}),e}function GD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=n,[d,h]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=C.useState(r);Qg(f,r)||p(r);const[m,g]=C.useState(null),[b,v]=C.useState(null),w=C.useCallback(N=>{N!==P.current&&(P.current=N,g(N))},[]),x=C.useCallback(N=>{N!==R.current&&(R.current=N,v(N))},[]),E=i||m,T=o||b,P=C.useRef(null),R=C.useRef(null),k=C.useRef(d),M=c!=null,L=sy(c),O=sy(s),$=sy(u),q=C.useCallback(()=>{if(!P.current||!R.current)return;const N={placement:e,strategy:t,middleware:f};O.current&&(N.platform=O.current),UD(P.current,R.current,N).then(D=>{const H={...D,isPositioned:$.current!==!1};F.current&&!Qg(k.current,H)&&(k.current=H,Xf.flushSync(()=>{h(H)}))})},[f,e,t,O,$]);Vp(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(N=>({...N,isPositioned:!1})))},[u]);const F=C.useRef(!1);Vp(()=>(F.current=!0,()=>{F.current=!1}),[]),Vp(()=>{if(E&&(P.current=E),T&&(R.current=T),E&&T){if(L.current)return L.current(E,T,q);q()}},[E,T,q,L,M]);const te=C.useMemo(()=>({reference:P,floating:R,setReference:w,setFloating:x}),[w,x]),I=C.useMemo(()=>({reference:E,floating:T}),[E,T]),j=C.useMemo(()=>{const N={position:t,left:0,top:0};if(!I.floating)return N;const D=aS(I.floating,d.x),H=aS(I.floating,d.y);return a?{...N,transform:"translate("+D+"px, "+H+"px)",...p_(I.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:D,top:H}},[t,a,I.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:q,refs:te,elements:I,floatingStyles:j}),[d,q,te,I,j])}const XD=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?oS({element:r.current,padding:s}).fn(t):{}:r?oS({element:r,padding:s}).fn(t):{}}}},YD=(n,e)=>({...FD(n),options:[n,e]}),qD=(n,e)=>({...jD(n),options:[n,e]}),KD=(n,e)=>({...HD(n),options:[n,e]}),QD=(n,e)=>({...zD(n),options:[n,e]}),ZD=(n,e)=>({...$D(n),options:[n,e]}),JD=(n,e)=>({...BD(n),options:[n,e]}),e2=(n,e)=>({...XD(n),options:[n,e]});var t2="Arrow",g_=C.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return _.jsx(Fe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});g_.displayName=t2;var n2=g_;function r2(n){const[e,t]=C.useState(void 0);return Ss(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var m_="Popper",[v_,y_]=Rl(m_),[i3,w_]=v_(m_),b_="PopperAnchor",x_=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=w_(b_,t),o=C.useRef(null),a=St(e,o),c=C.useRef(null);return C.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:_.jsx(Fe.div,{...s,ref:a})});x_.displayName=b_;var Xb="PopperContent",[s2,i2]=v_(Xb),A_=C.forwardRef((n,e)=>{var ee,An,fr,Ps,Ci,Nl;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=n,b=w_(Xb,t),[v,w]=C.useState(null),x=St(e,_i=>w(_i)),[E,T]=C.useState(null),P=r2(E),R=(P==null?void 0:P.width)??0,k=(P==null?void 0:P.height)??0,M=r+(i!=="center"?"-"+i:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],$=O.length>0,q={padding:L,boundary:O.filter(a2),altBoundary:$},{refs:F,floatingStyles:te,placement:I,isPositioned:j,middlewareData:N}=GD({strategy:"fixed",placement:M,whileElementsMounted:(..._i)=>OD(..._i,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[YD({mainAxis:s+k,alignmentAxis:o}),c&&qD({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?KD():void 0,...q}),c&&QD({...q}),ZD({...q,apply:({elements:_i,rects:ep,availableWidth:Av,availableHeight:tp})=>{const{width:Sv,height:Gu}=ep.reference,Ll=_i.floating.style;Ll.setProperty("--radix-popper-available-width",`${Av}px`),Ll.setProperty("--radix-popper-available-height",`${tp}px`),Ll.setProperty("--radix-popper-anchor-width",`${Sv}px`),Ll.setProperty("--radix-popper-anchor-height",`${Gu}px`)}}),E&&e2({element:E,padding:a}),l2({arrowWidth:R,arrowHeight:k}),f&&JD({strategy:"referenceHidden",...q})]}),[D,H]=C_(I),J=Wt(m);Ss(()=>{j&&(J==null||J())},[j,J]);const V=(ee=N.arrow)==null?void 0:ee.x,Z=(An=N.arrow)==null?void 0:An.y,ie=((fr=N.arrow)==null?void 0:fr.centerOffset)!==0,[ke,be]=C.useState();return Ss(()=>{v&&be(window.getComputedStyle(v).zIndex)},[v]),_.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:j?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Ps=N.transformOrigin)==null?void 0:Ps.x,(Ci=N.transformOrigin)==null?void 0:Ci.y].join(" "),...((Nl=N.hide)==null?void 0:Nl.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:_.jsx(s2,{scope:t,placedSide:D,onArrowChange:T,arrowX:V,arrowY:Z,shouldHideArrow:ie,children:_.jsx(Fe.div,{"data-side":D,"data-align":H,...g,ref:x,style:{...g.style,animation:j?void 0:"none"}})})})});A_.displayName=Xb;var S_="PopperArrow",o2={top:"bottom",right:"left",bottom:"top",left:"right"},E_=C.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=i2(S_,r),o=o2[i.placedSide];return _.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:_.jsx(n2,{...s,ref:t,style:{...s.style,display:"block"}})})});E_.displayName=S_;function a2(n){return n!==null}var l2=n=>({name:"transformOrigin",options:n,fn(e){var b,v,w;const{placement:t,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[u,d]=C_(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let m="",g="";return u==="bottom"?(m=o?h:`${f}px`,g=`${-c}px`):u==="top"?(m=o?h:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(m=`${-c}px`,g=o?h:`${p}px`):u==="left"&&(m=`${r.floating.width+c}px`,g=o?h:`${p}px`),{data:{x:m,y:g}}}});function C_(n){const[e,t="center"]=n.split("-");return[e,t]}var c2=x_,u2=A_,d2=E_,h2=Symbol("radix.slottable");function f2(n){const e=({children:t})=>_.jsx(_.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=h2,e}var[sv]=Rl("Tooltip",[y_]),Yb=y_(),__="TooltipProvider",p2=700,lS="tooltip.open",[g2,T_]=sv(__),P_=n=>{const{__scopeTooltip:e,delayDuration:t=p2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,o=C.useRef(!0),a=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),_.jsx(g2,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};P_.displayName=__;var R_="Tooltip",[o3,iv]=sv(R_),p0="TooltipTrigger",m2=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=iv(p0,t),i=T_(p0,t),o=Yb(t),a=C.useRef(null),c=St(e,a,s.onTriggerChange),u=C.useRef(!1),d=C.useRef(!1),h=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),_.jsx(c2,{asChild:!0,...o,children:_.jsx(Fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:me(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:me(n.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:me(n.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:me(n.onFocus,()=>{u.current||s.onOpen()}),onBlur:me(n.onBlur,s.onClose),onClick:me(n.onClick,s.onClose)})})});m2.displayName=p0;var v2="TooltipPortal",[a3,y2]=sv(v2,{forceMount:void 0}),ju="TooltipContent",k_=C.forwardRef((n,e)=>{const t=y2(ju,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,o=iv(ju,n.__scopeTooltip);return _.jsx(Wo,{present:r||o.open,children:o.disableHoverableContent?_.jsx(M_,{side:s,...i,ref:e}):_.jsx(w2,{side:s,...i,ref:e})})}),w2=C.forwardRef((n,e)=>{const t=iv(ju,n.__scopeTooltip),r=T_(ju,n.__scopeTooltip),s=C.useRef(null),i=St(e,s),[o,a]=C.useState(null),{trigger:c,onClose:u}=t,d=s.current,{onPointerInTransitChange:h}=r,f=C.useCallback(()=>{a(null),h(!1)},[h]),p=C.useCallback((m,g)=>{const b=m.currentTarget,v={x:m.clientX,y:m.clientY},w=E2(v,b.getBoundingClientRect()),x=C2(v,w),E=_2(g.getBoundingClientRect()),T=P2([...x,...E]);a(T),h(!0)},[h]);return C.useEffect(()=>()=>f(),[f]),C.useEffect(()=>{if(c&&d){const m=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[c,d,p,f]),C.useEffect(()=>{if(o){const m=g=>{const b=g.target,v={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!T2(v,o);w?f():x&&(f(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,d,o,u,f]),_.jsx(M_,{...n,ref:i})}),[b2,x2]=sv(R_,{isInside:!1}),A2=f2("TooltipContent"),M_=C.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=n,c=iv(ju,t),u=Yb(t),{onClose:d}=c;return C.useEffect(()=>(document.addEventListener(lS,d),()=>document.removeEventListener(lS,d)),[d]),C.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),_.jsx(Db,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:_.jsxs(u2,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(A2,{children:r}),_.jsx(b2,{scope:t,isInside:!0,children:_.jsx(eL,{id:c.contentId,role:"tooltip",children:s||r})})]})})});k_.displayName=ju;var N_="TooltipArrow",S2=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Yb(t);return x2(N_,t).isInside?null:_.jsx(d2,{...s,...r,ref:e})});S2.displayName=N_;function E2(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function C2(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function _2(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function T2(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,d=a.y,h=c.x,f=c.y;d>r!=f>r&&t<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function P2(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),R2(e)}function R2(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var k2=P_,L_=k_;const M2=k2,N2=C.forwardRef(({className:n,sideOffset:e=4,...t},r)=>_.jsx(L_,{ref:r,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));N2.displayName=L_.displayName;var ov=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},L2={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},$i,$w,XS,I2=(XS=class{constructor(){A(this,$i,L2);A(this,$w,!1)}setTimeoutProvider(n){y(this,$i,n)}setTimeout(n,e){return l(this,$i).setTimeout(n,e)}clearTimeout(n){l(this,$i).clearTimeout(n)}setInterval(n,e){return l(this,$i).setInterval(n,e)}clearInterval(n){l(this,$i).clearInterval(n)}},$i=new WeakMap,$w=new WeakMap,XS),g0=new I2;function D2(n){setTimeout(n,0)}var av=typeof window>"u"||"Deno"in globalThis;function xr(){}function O2(n,e){return typeof n=="function"?n(e):n}function F2(n){return typeof n=="number"&&n>=0&&n!==1/0}function j2(n,e){return Math.max(n+(e||0)-Date.now(),0)}function m0(n,e){return typeof n=="function"?n(e):n}function z2(n,e){return typeof n=="function"?n(e):n}function cS(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==qb(o,e.options))return!1}else if(!ah(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function uS(n,e){const{exact:t,status:r,predicate:s,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(oh(e.options.mutationKey)!==oh(i))return!1}else if(!ah(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qb(n,e){return((e==null?void 0:e.queryKeyHashFn)||oh)(n)}function oh(n){return JSON.stringify(n,(e,t)=>v0(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function ah(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>ah(n[t],e[t])):!1}var $2=Object.prototype.hasOwnProperty;function I_(n,e,t=0){if(n===e)return n;if(t>500)return e;const r=dS(n)&&dS(e);if(!r&&!(v0(n)&&v0(e)))return e;const i=(r?n:Object.keys(n)).length,o=r?e:Object.keys(e),a=o.length,c=r?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=r?d:o[d],f=n[h],p=e[h];if(f===p){c[h]=f,(r?d<i:$2.call(n,h))&&u++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){c[h]=p;continue}const m=I_(f,p,t+1);c[h]=m,m===f&&u++}return i===a&&u===i?n:c}function dS(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function v0(n){if(!hS(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!hS(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function hS(n){return Object.prototype.toString.call(n)==="[object Object]"}function B2(n){return new Promise(e=>{g0.setTimeout(e,n)})}function H2(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?I_(n,e):e}function U2(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function V2(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Kb=Symbol();function D_(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Kb?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function W2(n,e,t){let r=!1,s;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?t():s.addEventListener("abort",t,{once:!0})),s)}),n}var ia,Bi,vc,YS,G2=(YS=class extends ov{constructor(){super();A(this,ia);A(this,Bi);A(this,vc);y(this,vc,e=>{if(!av&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){l(this,Bi)||this.setEventListener(l(this,vc))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Bi))==null||e.call(this),y(this,Bi,void 0))}setEventListener(e){var t;y(this,vc,e),(t=l(this,Bi))==null||t.call(this),y(this,Bi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){l(this,ia)!==e&&(y(this,ia,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof l(this,ia)=="boolean"?l(this,ia):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ia=new WeakMap,Bi=new WeakMap,vc=new WeakMap,YS),O_=new G2;function X2(){let n,e;const t=new Promise((s,i)=>{n=s,e=i});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}var Y2=D2;function q2(){let n=[],e=0,t=a=>{a()},r=a=>{a()},s=Y2;const i=a=>{e?n.push(a):s(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{t(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var en=q2(),yc,Hi,wc,qS,K2=(qS=class extends ov{constructor(){super();A(this,yc,!0);A(this,Hi);A(this,wc);y(this,wc,e=>{if(!av&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){l(this,Hi)||this.setEventListener(l(this,wc))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Hi))==null||e.call(this),y(this,Hi,void 0))}setEventListener(e){var t;y(this,wc,e),(t=l(this,Hi))==null||t.call(this),y(this,Hi,e(this.setOnline.bind(this)))}setOnline(e){l(this,yc)!==e&&(y(this,yc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return l(this,yc)}},yc=new WeakMap,Hi=new WeakMap,wc=new WeakMap,qS),Zg=new K2;function Q2(n){return Math.min(1e3*2**n,3e4)}function F_(n){return(n??"online")==="online"?Zg.isOnline():!0}var y0=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function j_(n){let e=!1,t=0,r;const s=X2(),i=()=>s.status!=="pending",o=g=>{var b;if(!i()){const v=new y0(g);f(v),(b=n.onCancel)==null||b.call(n,v)}},a=()=>{e=!0},c=()=>{e=!1},u=()=>O_.isFocused()&&(n.networkMode==="always"||Zg.isOnline())&&n.canRun(),d=()=>F_(n.networkMode)&&n.canRun(),h=g=>{i()||(r==null||r(),s.resolve(g))},f=g=>{i()||(r==null||r(),s.reject(g))},p=()=>new Promise(g=>{var b;r=v=>{(i()||u())&&g(v)},(b=n.onPause)==null||b.call(n)}).then(()=>{var g;r=void 0,i()||(g=n.onContinue)==null||g.call(n)}),m=()=>{if(i())return;let g;const b=t===0?n.initialPromise:void 0;try{g=b??n.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var P;if(i())return;const w=n.retry??(av?0:3),x=n.retryDelay??Q2,E=typeof x=="function"?x(t,v):x,T=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,v);if(e||!T){f(v);return}t++,(P=n.onFail)==null||P.call(n,t,v),B2(E).then(()=>u()?void 0:p()).then(()=>{e?f(v):m()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),s)}}var oa,KS,z_=(KS=class{constructor(){A(this,oa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),F2(this.gcTime)&&y(this,oa,g0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(av?1/0:5*60*1e3))}clearGcTimeout(){l(this,oa)&&(g0.clearTimeout(l(this,oa)),y(this,oa,void 0))}},oa=new WeakMap,KS),aa,bc,qn,la,pt,fh,ca,Sr,ks,QS,Z2=(QS=class extends z_{constructor(e){super();A(this,Sr);A(this,aa);A(this,bc);A(this,qn);A(this,la);A(this,pt);A(this,fh);A(this,ca);y(this,ca,!1),y(this,fh,e.defaultOptions),this.setOptions(e.options),this.observers=[],y(this,la,e.client),y(this,qn,l(this,la).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,y(this,aa,pS(this.options)),this.state=e.state??l(this,aa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=l(this,pt))==null?void 0:e.promise}setOptions(e){if(this.options={...l(this,fh),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=pS(this.options);t.data!==void 0&&(this.setState(fS(t.data,t.dataUpdatedAt)),y(this,aa,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,qn).remove(this)}setData(e,t){const r=H2(this.state.data,e,this.options);return S(this,Sr,ks).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){S(this,Sr,ks).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,s;const t=(r=l(this,pt))==null?void 0:r.promise;return(s=l(this,pt))==null||s.cancel(e),t?t.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,aa))}isActive(){return this.observers.some(e=>z2(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>m0(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!j2(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,pt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,pt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(l(this,pt)&&(l(this,ca)?l(this,pt).cancel({revert:!0}):l(this,pt).cancelRetry()),this.scheduleGc()),l(this,qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||S(this,Sr,ks).call(this,{type:"invalidate"})}async fetch(e,t){var c,u,d,h,f,p,m,g,b,v,w,x;if(this.state.fetchStatus!=="idle"&&((c=l(this,pt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(l(this,pt))return l(this,pt).continueRetry(),l(this,pt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const E=this.observers.find(T=>T.options.queryFn);E&&this.setOptions(E.options)}const r=new AbortController,s=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(y(this,ca,!0),r.signal)})},i=()=>{const E=D_(this.options,t),P=(()=>{const R={client:l(this,la),queryKey:this.queryKey,meta:this.meta};return s(R),R})();return y(this,ca,!1),this.options.persister?this.options.persister(E,P,this):E(P)},a=(()=>{const E={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:l(this,la),state:this.state,fetchFn:i};return s(E),E})();(u=this.options.behavior)==null||u.onFetch(a,this),y(this,bc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&S(this,Sr,ks).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),y(this,pt,j_({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,onCancel:E=>{E instanceof y0&&E.revert&&this.setState({...l(this,bc),fetchStatus:"idle"}),r.abort()},onFail:(E,T)=>{S(this,Sr,ks).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{S(this,Sr,ks).call(this,{type:"pause"})},onContinue:()=>{S(this,Sr,ks).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const E=await l(this,pt).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(p=(f=l(this,qn).config).onSuccess)==null||p.call(f,E,this),(g=(m=l(this,qn).config).onSettled)==null||g.call(m,E,this.state.error,this),E}catch(E){if(E instanceof y0){if(E.silent)return l(this,pt).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw S(this,Sr,ks).call(this,{type:"error",error:E}),(v=(b=l(this,qn).config).onError)==null||v.call(b,E,this),(x=(w=l(this,qn).config).onSettled)==null||x.call(w,this.state.data,E,this),E}finally{this.scheduleGc()}}},aa=new WeakMap,bc=new WeakMap,qn=new WeakMap,la=new WeakMap,pt=new WeakMap,fh=new WeakMap,ca=new WeakMap,Sr=new WeakSet,ks=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...J2(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...fS(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return y(this,bc,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),en.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),l(this,qn).notify({query:this,type:"updated",action:e})})},QS);function J2(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:F_(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function fS(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function pS(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function gS(n){return{onFetch:(e,t)=>{var d,h,f,p,m;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=x=>{W2(x,()=>e.signal,()=>g=!0)},v=D_(e.options,e.fetchOptions),w=async(x,E,T)=>{if(g)return Promise.reject();if(E==null&&x.pages.length)return Promise.resolve(x);const R=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:E,direction:T?"backward":"forward",meta:e.options.meta};return b(O),O})(),k=await v(R),{maxPages:M}=e.options,L=T?V2:U2;return{pages:L(x.pages,k,M),pageParams:L(x.pageParams,E,M)}};if(s&&i.length){const x=s==="backward",E=x?eO:mS,T={pages:i,pageParams:o},P=E(r,T);a=await w(T,P,x)}else{const x=n??i.length;do{const E=c===0?o[0]??r.initialPageParam:mS(r,a);if(c>0&&E==null)break;a=await w(a,E),c++}while(c<x)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function mS(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function eO(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var ph,Zr,jt,ua,Jr,Li,ZS,tO=(ZS=class extends z_{constructor(e){super();A(this,Jr);A(this,ph);A(this,Zr);A(this,jt);A(this,ua);y(this,ph,e.client),this.mutationId=e.mutationId,y(this,jt,e.mutationCache),y(this,Zr,[]),this.state=e.state||nO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,Zr).includes(e)||(l(this,Zr).push(e),this.clearGcTimeout(),l(this,jt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){y(this,Zr,l(this,Zr).filter(t=>t!==e)),this.scheduleGc(),l(this,jt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,Zr).length||(this.state.status==="pending"?this.scheduleGc():l(this,jt).remove(this))}continue(){var e;return((e=l(this,ua))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,c,u,d,h,f,p,m,g,b,v,w,x,E,T,P,R;const t=()=>{S(this,Jr,Li).call(this,{type:"continue"})},r={client:l(this,ph),meta:this.options.meta,mutationKey:this.options.mutationKey};y(this,ua,j_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,M)=>{S(this,Jr,Li).call(this,{type:"failed",failureCount:k,error:M})},onPause:()=>{S(this,Jr,Li).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,jt).canRun(this)}));const s=this.state.status==="pending",i=!l(this,ua).canStart();try{if(s)t();else{S(this,Jr,Li).call(this,{type:"pending",variables:e,isPaused:i}),l(this,jt).config.onMutate&&await l(this,jt).config.onMutate(e,this,r);const M=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e,r));M!==this.state.context&&S(this,Jr,Li).call(this,{type:"pending",context:M,variables:e,isPaused:i})}const k=await l(this,ua).start();return await((u=(c=l(this,jt).config).onSuccess)==null?void 0:u.call(c,k,e,this.state.context,this,r)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,k,e,this.state.context,r)),await((p=(f=l(this,jt).config).onSettled)==null?void 0:p.call(f,k,null,this.state.variables,this.state.context,this,r)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,k,null,e,this.state.context,r)),S(this,Jr,Li).call(this,{type:"success",data:k}),k}catch(k){try{await((v=(b=l(this,jt).config).onError)==null?void 0:v.call(b,k,e,this.state.context,this,r))}catch(M){Promise.reject(M)}try{await((x=(w=this.options).onError)==null?void 0:x.call(w,k,e,this.state.context,r))}catch(M){Promise.reject(M)}try{await((T=(E=l(this,jt).config).onSettled)==null?void 0:T.call(E,void 0,k,this.state.variables,this.state.context,this,r))}catch(M){Promise.reject(M)}try{await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,k,e,this.state.context,r))}catch(M){Promise.reject(M)}throw S(this,Jr,Li).call(this,{type:"error",error:k}),k}finally{l(this,jt).runNext(this)}}},ph=new WeakMap,Zr=new WeakMap,jt=new WeakMap,ua=new WeakMap,Jr=new WeakSet,Li=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),en.batch(()=>{l(this,Zr).forEach(r=>{r.onMutationUpdate(e)}),l(this,jt).notify({mutation:this,type:"updated",action:e})})},ZS);function nO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var js,Er,gh,JS,rO=(JS=class extends ov{constructor(e={}){super();A(this,js);A(this,Er);A(this,gh);this.config=e,y(this,js,new Set),y(this,Er,new Map),y(this,gh,0)}build(e,t,r){const s=new tO({client:e,mutationCache:this,mutationId:++ft(this,gh)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){l(this,js).add(e);const t=Ep(e);if(typeof t=="string"){const r=l(this,Er).get(t);r?r.push(e):l(this,Er).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(l(this,js).delete(e)){const t=Ep(e);if(typeof t=="string"){const r=l(this,Er).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&l(this,Er).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ep(e);if(typeof t=="string"){const r=l(this,Er).get(t),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=Ep(e);if(typeof t=="string"){const s=(r=l(this,Er).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){en.batch(()=>{l(this,js).forEach(e=>{this.notify({type:"removed",mutation:e})}),l(this,js).clear(),l(this,Er).clear()})}getAll(){return Array.from(l(this,js))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>uS(t,r))}findAll(e={}){return this.getAll().filter(t=>uS(e,t))}notify(e){en.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return en.batch(()=>Promise.all(e.map(t=>t.continue().catch(xr))))}},js=new WeakMap,Er=new WeakMap,gh=new WeakMap,JS);function Ep(n){var e;return(e=n.options.scope)==null?void 0:e.id}var es,eE,sO=(eE=class extends ov{constructor(e={}){super();A(this,es);this.config=e,y(this,es,new Map)}build(e,t,r){const s=t.queryKey,i=t.queryHash??qb(s,t);let o=this.get(i);return o||(o=new Z2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){l(this,es).has(e.queryHash)||(l(this,es).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=l(this,es).get(e.queryHash);t&&(e.destroy(),t===e&&l(this,es).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,es).get(e)}getAll(){return[...l(this,es).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>cS(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>cS(e,r)):t}notify(e){en.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){en.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},es=new WeakMap,eE),qe,Ui,Vi,xc,Ac,Wi,Sc,Ec,tE,iO=(tE=class{constructor(n={}){A(this,qe);A(this,Ui);A(this,Vi);A(this,xc);A(this,Ac);A(this,Wi);A(this,Sc);A(this,Ec);y(this,qe,n.queryCache||new sO),y(this,Ui,n.mutationCache||new rO),y(this,Vi,n.defaultOptions||{}),y(this,xc,new Map),y(this,Ac,new Map),y(this,Wi,0)}mount(){ft(this,Wi)._++,l(this,Wi)===1&&(y(this,Sc,O_.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,qe).onFocus())})),y(this,Ec,Zg.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,qe).onOnline())})))}unmount(){var n,e;ft(this,Wi)._--,l(this,Wi)===0&&((n=l(this,Sc))==null||n.call(this),y(this,Sc,void 0),(e=l(this,Ec))==null||e.call(this),y(this,Ec,void 0))}isFetching(n){return l(this,qe).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return l(this,Ui).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,qe).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=l(this,qe).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(m0(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return l(this,qe).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=l(this,qe).get(r.queryHash),i=s==null?void 0:s.state.data,o=O2(e,i);if(o!==void 0)return l(this,qe).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return en.batch(()=>l(this,qe).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,qe).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=l(this,qe);en.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=l(this,qe);return en.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=en.batch(()=>l(this,qe).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(n,e={}){return en.batch(()=>(l(this,qe).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=en.batch(()=>l(this,qe).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=l(this,qe).build(this,e);return t.isStaleByTime(m0(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(xr).catch(xr)}fetchInfiniteQuery(n){return n.behavior=gS(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(xr).catch(xr)}ensureInfiniteQueryData(n){return n.behavior=gS(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Zg.isOnline()?l(this,Ui).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,qe)}getMutationCache(){return l(this,Ui)}getDefaultOptions(){return l(this,Vi)}setDefaultOptions(n){y(this,Vi,n)}setQueryDefaults(n,e){l(this,xc).set(oh(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...l(this,xc).values()],t={};return e.forEach(r=>{ah(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){l(this,Ac).set(oh(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...l(this,Ac).values()],t={};return e.forEach(r=>{ah(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...l(this,Vi).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=qb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Kb&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...l(this,Vi).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){l(this,qe).clear(),l(this,Ui).clear()}},qe=new WeakMap,Ui=new WeakMap,Vi=new WeakMap,xc=new WeakMap,Ac=new WeakMap,Wi=new WeakMap,Sc=new WeakMap,Ec=new WeakMap,tE),oO=C.createContext(void 0),aO=({client:n,children:e})=>(C.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),_.jsx(oO.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jg(){return Jg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jg.apply(this,arguments)}var Co;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Co||(Co={}));const vS="popstate";function lO(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return w0("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:B_(s)}return uO(e,t,null,n)}function xn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cO(){return Math.random().toString(36).substr(2,8)}function yS(n,e){return{usr:n.state,key:n.key,idx:e}}function w0(n,e,t,r){return t===void 0&&(t=null),Jg({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?lv(e):e,{state:t,key:e&&e.key||r||cO()})}function B_(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lv(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function uO(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Co.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Jg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Co.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:a,location:g.location,delta:v})}function f(b,v){a=Co.Push;let w=w0(g.location,b,v);u=d()+1;let x=yS(w,u),E=g.createHref(w);try{o.pushState(x,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(E)}i&&c&&c({action:a,location:g.location,delta:1})}function p(b,v){a=Co.Replace;let w=w0(g.location,b,v);u=d();let x=yS(w,u),E=g.createHref(w);o.replaceState(x,"",E),i&&c&&c({action:a,location:g.location,delta:0})}function m(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:B_(b);return w=w.replace(/ $/,"%20"),xn(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return a},get location(){return n(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(vS,h),c=b,()=>{s.removeEventListener(vS,h),c=null}},createHref(b){return e(s,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(b){return o.go(b)}};return g}var wS;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(wS||(wS={}));function dO(n,e,t){return t===void 0&&(t="/"),hO(n,e,t)}function hO(n,e,t,r){let s=typeof e=="string"?lv(e):e,i=V_(s.pathname||"/",t);if(i==null)return null;let o=H_(n);fO(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=CO(i);a=AO(o[c],u)}return a}function H_(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(xn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=pc([r,c.relativePath]),d=t.concat(c);i.children&&i.children.length>0&&(xn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),H_(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:bO(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of U_(i.path))s(i,o,c)}),e}function U_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=U_(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function fO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const pO=/^:[\w-]+$/,gO=3,mO=2,vO=1,yO=10,wO=-2,bS=n=>n==="*";function bO(n,e){let t=n.split("/"),r=t.length;return t.some(bS)&&(r+=wO),e&&(r+=mO),t.filter(s=>!bS(s)).reduce((s,i)=>s+(pO.test(i)?gO:i===""?vO:yO),r)}function xO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function AO(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=SO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:pc([i,h.pathname]),pathnameBase:_O(pc([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=pc([i,h.pathnameBase]))}return o}function SO(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=EO(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function EO(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),$_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function CO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function V_(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const pc=n=>n.join("/").replace(/\/\/+/g,"/"),_O=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function TO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const W_=["post","put","patch","delete"];new Set(W_);const PO=["get",...W_];new Set(PO);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},em.apply(this,arguments)}const RO=C.createContext(null),kO=C.createContext(null),G_=C.createContext(null),cv=C.createContext(null),uv=C.createContext({outlet:null,matches:[],isDataRoute:!1}),X_=C.createContext(null);function Qb(){return C.useContext(cv)!=null}function Y_(){return Qb()||xn(!1),C.useContext(cv).location}function MO(n,e){return NO(n,e)}function NO(n,e,t,r){Qb()||xn(!1);let{navigator:s}=C.useContext(G_),{matches:i}=C.useContext(uv),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Y_(),d;if(e){var h;let b=typeof e=="string"?lv(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||xn(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=dO(n,{pathname:p}),g=FO(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:pc([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:pc([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,t,r);return e&&g?C.createElement(cv.Provider,{value:{location:em({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Co.Pop}},g):g}function LO(){let n=BO(),e=TO(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:s},t):null,null)}const IO=C.createElement(LO,null);class DO extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?C.createElement(uv.Provider,{value:this.props.routeContext},C.createElement(X_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OO(n){let{routeContext:e,match:t,children:r}=n,s=C.useContext(RO);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(uv.Provider,{value:e},r)}function FO(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(s=t)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||xn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,m=!1,g=null,b=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||IO,c&&(u<0&&f===0?(HO("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),w=()=>{let x;return p?x=g:m?x=b:h.route.Component?x=C.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,C.createElement(OO,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?C.createElement(DO,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var q_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(q_||{});function jO(n){let e=C.useContext(kO);return e||xn(!1),e}function zO(n){let e=C.useContext(uv);return e||xn(!1),e}function $O(n){let e=zO(),t=e.matches[e.matches.length-1];return t.route.id||xn(!1),t.route.id}function BO(){var n;let e=C.useContext(X_),t=jO(q_.UseRouteError),r=$O();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}const xS={};function HO(n,e,t){xS[n]||(xS[n]=!0)}function UO(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function b0(n){xn(!1)}function VO(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Co.Pop,navigator:i,static:o=!1,future:a}=n;Qb()&&xn(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:i,static:o,future:em({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=lv(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=C.useMemo(()=>{let b=V_(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:s}},[c,d,h,f,p,m,s]);return g==null?null:C.createElement(G_.Provider,{value:u},C.createElement(cv.Provider,{children:t,value:g}))}function WO(n){let{children:e,location:t}=n;return MO(x0(e),t)}new Promise(()=>{});function x0(n,e){e===void 0&&(e=[]);let t=[];return C.Children.forEach(n,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){t.push.apply(t,x0(r.props.children,i));return}r.type!==b0&&xn(!1),!r.props.index||!r.props.children||xn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=x0(r.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const GO="6";try{window.__reactRouterVersion=GO}catch{}const XO="startTransition",AS=Im[XO];function YO(n){let{basename:e,children:t,future:r,window:s}=n,i=C.useRef();i.current==null&&(i.current=lO({window:s,v5Compat:!0}));let o=i.current,[a,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=C.useCallback(h=>{u&&AS?AS(()=>c(h)):c(h)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.useEffect(()=>UO(r),[r]),C.createElement(VO,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var SS;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(SS||(SS={}));var ES;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ES||(ES={}));var qO=Symbol.for("react.lazy"),tm=Im[" use ".trim().toString()];function KO(n){return typeof n=="object"&&n!==null&&"then"in n}function K_(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===qO&&"_payload"in n&&KO(n._payload)}function Q_(n){const e=ZO(n),t=C.forwardRef((r,s)=>{let{children:i,...o}=r;K_(i)&&typeof tm=="function"&&(i=tm(i._payload));const a=C.Children.toArray(i),c=a.find(eF);if(c){const u=c.props.children,d=a.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return _.jsx(e,{...o,ref:s,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return _.jsx(e,{...o,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var QO=Q_("Slot");function ZO(n){const e=C.forwardRef((t,r)=>{let{children:s,...i}=t;if(K_(s)&&typeof tm=="function"&&(s=tm(s._payload)),C.isValidElement(s)){const o=nF(s),a=tF(i,s.props);return s.type!==C.Fragment&&(a.ref=r?Km(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var JO=Symbol("radix.slottable");function eF(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===JO}function tF(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function nF(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const rF=Jm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),A0=C.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},i)=>{const o=r?QO:"button";return _.jsx(o,{className:Ae(rF({variant:e,size:t,className:n})),ref:i,...s})});A0.displayName="Button";const S0=C.forwardRef(({className:n,...e},t)=>_.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));S0.displayName="Textarea";var sF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iF=sF.reduce((n,e)=>{const t=Q_(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),oF="Label",Z_=C.forwardRef((n,e)=>_.jsx(iF.label,{...n,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Z_.displayName=oF;var J_=Z_;const aF=Jm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wp=C.forwardRef(({className:n,...e},t)=>_.jsx(J_,{ref:t,className:Ae(aF(),n),...e}));Wp.displayName=J_.displayName;const lF=({onOptimize:n,isProcessing:e})=>{const[t,r]=C.useState(""),[s,i]=C.useState(null),[o,a]=C.useState(""),[c,u]=C.useState([]),[d,h]=C.useState(!1),f=()=>{const g=[];t.trim()||g.push("Doctor raw notes are required."),s||g.push("MCG Guideline PDF is required."),u(g),g.length===0&&s&&n(t,s,o||void 0)},p=C.useCallback(g=>{g.preventDefault(),h(!1);const b=g.dataTransfer.files[0];(b==null?void 0:b.type)==="application/pdf"?(i(b),u(v=>v.filter(w=>w!=="MCG Guideline PDF is required."))):u(["Invalid file format. Please upload a PDF file."])},[]),m=g=>{var v;const b=(v=g.target.files)==null?void 0:v[0];(b==null?void 0:b.type)==="application/pdf"?(i(b),u(w=>w.filter(x=>x!=="MCG Guideline PDF is required."))):b&&u(["Invalid file format. Please upload a PDF file."])};return _.jsxs("div",{className:"flex flex-col gap-6 h-full",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold text-foreground mb-1",children:"Page 1  Input Interface"}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide physician notes and upload the MCG Guideline PDF."})]}),c.length>0&&_.jsx("div",{className:"bg-destructive/10 border border-destructive/30 rounded-lg p-3 flex flex-col gap-1",children:c.map((g,b)=>_.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[_.jsx(AL,{className:"h-4 w-4 shrink-0"}),g]},b))}),_.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[_.jsx(Wp,{htmlFor:"doctor-notes",className:"font-semibold",children:"Doctor Raw Notes *"}),_.jsx(S0,{id:"doctor-notes",placeholder:"Paste the physician's raw clinical notes here...",className:"flex-1 min-h-[200px] resize-none font-mono text-sm",value:t,onChange:g=>r(g.target.value)})]}),_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsx(Wp,{className:"font-semibold",children:"MCG Guideline PDF *"}),_.jsxs("div",{onDragOver:g=>{g.preventDefault(),h(!0)},onDragLeave:()=>h(!1),onDrop:p,className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${d?"border-primary bg-accent":"border-border hover:border-primary/50"}`,onClick:()=>{var g;return(g=document.getElementById("pdf-input"))==null?void 0:g.click()},children:[_.jsx("input",{id:"pdf-input",type:"file",accept:".pdf",className:"hidden",onChange:m}),s?_.jsxs("div",{className:"flex items-center justify-center gap-3",children:[_.jsx(CL,{className:"h-8 w-8 text-primary"}),_.jsxs("div",{className:"text-left",children:[_.jsx("p",{className:"font-medium text-foreground",children:s.name}),_.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.size/1024).toFixed(1)," KB"]})]}),_.jsx(A0,{variant:"ghost",size:"icon",className:"ml-2",onClick:g=>{g.stopPropagation(),i(null)},children:_.jsx(GC,{className:"h-4 w-4"})})]}):_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx(TL,{className:"h-10 w-10 text-muted-foreground"}),_.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag & drop PDF here, or"," ",_.jsx("span",{className:"text-primary font-medium",children:"browse"})]}),_.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF files only"})]})]})]}),_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsxs(Wp,{htmlFor:"reference-notes",className:"font-semibold",children:["Reference Revised Notes"," ",_.jsx("span",{className:"text-muted-foreground font-normal",children:"(optional  for validation)"})]}),_.jsx(S0,{id:"reference-notes",placeholder:"Paste reference revised notes to compare AI output against...",className:"min-h-[100px] resize-none font-mono text-sm",value:o,onChange:g=>a(g.target.value)})]}),_.jsx(A0,{onClick:f,disabled:e,size:"lg",className:"w-full text-base font-semibold",children:e?"Processing...":"Optimize Documentation"})]})},lh=C.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));lh.displayName="Card";const Zb=C.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:Ae("flex flex-col space-y-1.5 p-6",n),...e}));Zb.displayName="CardHeader";const Jb=C.forwardRef(({className:n,...e},t)=>_.jsx("h3",{ref:t,className:Ae("text-2xl font-semibold leading-none tracking-tight",n),...e}));Jb.displayName="CardTitle";const cF=C.forwardRef(({className:n,...e},t)=>_.jsx("p",{ref:t,className:Ae("text-sm text-muted-foreground",n),...e}));cF.displayName="CardDescription";const ch=C.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:Ae("p-6 pt-0",n),...e}));ch.displayName="CardContent";const uF=C.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:Ae("flex items-center p-6 pt-0",n),...e}));uF.displayName="CardFooter";const eT=C.forwardRef(({className:n,...e},t)=>_.jsx("div",{className:"relative w-full overflow-auto",children:_.jsx("table",{ref:t,className:Ae("w-full caption-bottom text-sm",n),...e})}));eT.displayName="Table";const tT=C.forwardRef(({className:n,...e},t)=>_.jsx("thead",{ref:t,className:Ae("[&_tr]:border-b",n),...e}));tT.displayName="TableHeader";const nT=C.forwardRef(({className:n,...e},t)=>_.jsx("tbody",{ref:t,className:Ae("[&_tr:last-child]:border-0",n),...e}));nT.displayName="TableBody";const dF=C.forwardRef(({className:n,...e},t)=>_.jsx("tfoot",{ref:t,className:Ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));dF.displayName="TableFooter";const E0=C.forwardRef(({className:n,...e},t)=>_.jsx("tr",{ref:t,className:Ae("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",n),...e}));E0.displayName="TableRow";const hd=C.forwardRef(({className:n,...e},t)=>_.jsx("th",{ref:t,className:Ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));hd.displayName="TableHead";const fd=C.forwardRef(({className:n,...e},t)=>_.jsx("td",{ref:t,className:Ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));fd.displayName="TableCell";const hF=C.forwardRef(({className:n,...e},t)=>_.jsx("caption",{ref:t,className:Ae("mt-4 text-sm text-muted-foreground",n),...e}));hF.displayName="TableCaption";const fF=Jm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nm({className:n,variant:e,...t}){return _.jsx("div",{className:Ae(fF({variant:e}),n),...t})}var pF=C.createContext(void 0);function ex(n){const e=C.useContext(pF);return n||e||"ltr"}function gF(n,[e,t]){return Math.min(t,Math.max(e,n))}function mF(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var tx="ScrollArea",[rT]=Rl(tx),[vF,hr]=rT(tx),sT=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=n,[a,c]=C.useState(null),[u,d]=C.useState(null),[h,f]=C.useState(null),[p,m]=C.useState(null),[g,b]=C.useState(null),[v,w]=C.useState(0),[x,E]=C.useState(0),[T,P]=C.useState(!1),[R,k]=C.useState(!1),M=St(e,O=>c(O)),L=ex(s);return _.jsx(vF,{scope:t,type:r,dir:L,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:T,onScrollbarXEnabledChange:P,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:k,onCornerWidthChange:w,onCornerHeightChange:E,children:_.jsx(Fe.div,{dir:L,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":x+"px",...n.style}})})});sT.displayName=tx;var iT="ScrollAreaViewport",oT=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,o=hr(iT,t),a=C.useRef(null),c=St(e,a,o.onViewportChange);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),_.jsx(Fe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style},children:_.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});oT.displayName=iT;var Ts="ScrollAreaScrollbar",nx=C.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=hr(Ts,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=n.orientation==="horizontal";return C.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?_.jsx(yF,{...r,ref:e,forceMount:t}):s.type==="scroll"?_.jsx(wF,{...r,ref:e,forceMount:t}):s.type==="auto"?_.jsx(aT,{...r,ref:e,forceMount:t}):s.type==="always"?_.jsx(rx,{...r,ref:e}):null});nx.displayName=Ts;var yF=C.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=hr(Ts,n.__scopeScrollArea),[i,o]=C.useState(!1);return C.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),_.jsx(Wo,{present:t||i,children:_.jsx(aT,{"data-state":i?"visible":"hidden",...r,ref:e})})}),wF=C.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=hr(Ts,n.__scopeScrollArea),i=n.orientation==="horizontal",o=hv(()=>c("SCROLL_END"),100),[a,c]=mF("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),C.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(c("SCROLL"),o()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),_.jsx(Wo,{present:t||a!=="hidden",children:_.jsx(rx,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:me(n.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:me(n.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),aT=C.forwardRef((n,e)=>{const t=hr(Ts,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,o]=C.useState(!1),a=n.orientation==="horizontal",c=hv(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,d=t.viewport.offsetHeight<t.viewport.scrollHeight;o(a?u:d)}},10);return zu(t.viewport,c),zu(t.content,c),_.jsx(Wo,{present:r||i,children:_.jsx(rx,{"data-state":i?"visible":"hidden",...s,ref:e})})}),rx=C.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=hr(Ts,n.__scopeScrollArea),i=C.useRef(null),o=C.useRef(0),[a,c]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=hT(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,p){return CF(f,o.current,a,p)}return t==="horizontal"?_.jsx(bF,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,p=CS(f,a,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):t==="vertical"?_.jsx(xF,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,p=CS(f,a);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),bF=C.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=hr(Ts,n.__scopeScrollArea),[o,a]=C.useState(),c=C.useRef(null),u=St(e,c,i.onScrollbarXChange);return C.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),_.jsx(cT,{"data-orientation":"horizontal",...s,ref:u,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dv(t)+"px",...n.style},onThumbPointerDown:d=>n.onThumbPointerDown(d.x),onDragScroll:d=>n.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;n.onWheelScroll(f),pT(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:sm(o.paddingLeft),paddingEnd:sm(o.paddingRight)}})}})}),xF=C.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=hr(Ts,n.__scopeScrollArea),[o,a]=C.useState(),c=C.useRef(null),u=St(e,c,i.onScrollbarYChange);return C.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),_.jsx(cT,{"data-orientation":"vertical",...s,ref:u,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dv(t)+"px",...n.style},onThumbPointerDown:d=>n.onThumbPointerDown(d.y),onDragScroll:d=>n.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;n.onWheelScroll(f),pT(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:sm(o.paddingTop),paddingEnd:sm(o.paddingBottom)}})}})}),[AF,lT]=rT(Ts),cT=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=n,p=hr(Ts,t),[m,g]=C.useState(null),b=St(e,M=>g(M)),v=C.useRef(null),w=C.useRef(""),x=p.viewport,E=r.content-r.viewport,T=Wt(d),P=Wt(c),R=hv(h,10);function k(M){if(v.current){const L=M.clientX-v.current.left,O=M.clientY-v.current.top;u({x:L,y:O})}}return C.useEffect(()=>{const M=L=>{const O=L.target;(m==null?void 0:m.contains(O))&&T(L,E)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[x,m,E,T]),C.useEffect(P,[r,P]),zu(m,R),zu(p.content,R),_.jsx(AF,{scope:t,scrollbar:m,hasThumb:s,onThumbChange:Wt(i),onThumbPointerUp:Wt(o),onThumbPositionChange:P,onThumbPointerDown:Wt(a),children:_.jsx(Fe.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:me(n.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),v.current=m.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(M))}),onPointerMove:me(n.onPointerMove,k),onPointerUp:me(n.onPointerUp,M=>{const L=M.target;L.hasPointerCapture(M.pointerId)&&L.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),rm="ScrollAreaThumb",uT=C.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=lT(rm,n.__scopeScrollArea);return _.jsx(Wo,{present:t||s.hasThumb,children:_.jsx(SF,{ref:e,...r})})}),SF=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=hr(rm,t),o=lT(rm,t),{onThumbPositionChange:a}=o,c=St(e,h=>o.onThumbChange(h)),u=C.useRef(void 0),d=hv(()=>{u.current&&(u.current(),u.current=void 0)},100);return C.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const p=_F(h,a);u.current=p,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,a]),_.jsx(Fe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:me(n.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),m=h.clientX-p.left,g=h.clientY-p.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:me(n.onPointerUp,o.onThumbPointerUp)})});uT.displayName=rm;var sx="ScrollAreaCorner",dT=C.forwardRef((n,e)=>{const t=hr(sx,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?_.jsx(EF,{...n,ref:e}):null});dT.displayName=sx;var EF=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=hr(sx,t),[i,o]=C.useState(0),[a,c]=C.useState(0),u=!!(i&&a);return zu(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),zu(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?_.jsx(Fe.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function sm(n){return n?parseInt(n,10):0}function hT(n,e){const t=n/e;return isNaN(t)?0:t}function dv(n){const e=hT(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function CF(n,e,t,r="ltr"){const s=dv(t),i=s/2,o=e||i,a=s-o,c=t.scrollbar.paddingStart+o,u=t.scrollbar.size-t.scrollbar.paddingEnd-a,d=t.content-t.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return fT([c,u],h)(n)}function CS(n,e,t="ltr"){const r=dv(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,c=t==="ltr"?[0,o]:[o*-1,0],u=gF(n,c);return fT([0,o],[0,a])(u)}function fT(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function pT(n,e){return n>0&&n<e}var _F=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function s(){const i={left:n.scrollLeft,top:n.scrollTop},o=t.left!==i.left,a=t.top!==i.top;(o||a)&&e(),t=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function hv(n,e){const t=Wt(n),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function zu(n,e){const t=Wt(e);Ss(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var gT=sT,TF=oT,PF=dT;const im=C.forwardRef(({className:n,children:e,...t},r)=>_.jsxs(gT,{ref:r,className:Ae("relative overflow-hidden",n),...t,children:[_.jsx(TF,{className:"h-full w-full rounded-[inherit]",children:e}),_.jsx(mT,{}),_.jsx(PF,{})]}));im.displayName=gT.displayName;const mT=C.forwardRef(({className:n,orientation:e="vertical",...t},r)=>_.jsx(nx,{ref:r,orientation:e,className:Ae("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:_.jsx(uT,{className:"relative flex-1 rounded-full bg-border"})}));mT.displayName=nx.displayName;var iy="rovingFocusGroup.onEntryFocus",RF={bubbles:!1,cancelable:!0},Kf="RovingFocusGroup",[C0,vT,kF]=yC(Kf),[MF,yT]=Rl(Kf,[kF]),[NF,LF]=MF(Kf),wT=C.forwardRef((n,e)=>_.jsx(C0.Provider,{scope:n.__scopeRovingFocusGroup,children:_.jsx(C0.Slot,{scope:n.__scopeRovingFocusGroup,children:_.jsx(IF,{...n,ref:e})})}));wT.displayName=Kf;var IF=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=n,f=C.useRef(null),p=St(e,f),m=ex(i),[g,b]=Ob({prop:o,defaultProp:a??null,onChange:c,caller:Kf}),[v,w]=C.useState(!1),x=Wt(u),E=vT(t),T=C.useRef(!1),[P,R]=C.useState(0);return C.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(iy,x),()=>k.removeEventListener(iy,x)},[x]),_.jsx(NF,{scope:t,orientation:r,dir:m,loop:s,currentTabStopId:g,onItemFocus:C.useCallback(k=>b(k),[b]),onItemShiftTab:C.useCallback(()=>w(!0),[]),onFocusableItemAdd:C.useCallback(()=>R(k=>k+1),[]),onFocusableItemRemove:C.useCallback(()=>R(k=>k-1),[]),children:_.jsx(Fe.div,{tabIndex:v||P===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...n.style},onMouseDown:me(n.onMouseDown,()=>{T.current=!0}),onFocus:me(n.onFocus,k=>{const M=!T.current;if(k.target===k.currentTarget&&M&&!v){const L=new CustomEvent(iy,RF);if(k.currentTarget.dispatchEvent(L),!L.defaultPrevented){const O=E().filter(I=>I.focusable),$=O.find(I=>I.active),q=O.find(I=>I.id===g),te=[$,q,...O].filter(Boolean).map(I=>I.ref.current);AT(te,d)}}T.current=!1}),onBlur:me(n.onBlur,()=>w(!1))})})}),bT="RovingFocusGroupItem",xT=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=n,c=r_(),u=i||c,d=LF(bT,t),h=d.currentTabStopId===u,f=vT(t),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=d;return C.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),_.jsx(C0.ItemSlot,{scope:t,id:u,focusable:r,active:s,children:_.jsx(Fe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:me(n.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:me(n.onFocus,()=>d.onItemFocus(u)),onKeyDown:me(n.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=FF(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=f().filter(E=>E.focusable).map(E=>E.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const E=x.indexOf(b.currentTarget);x=d.loop?jF(x,E+1):x.slice(E+1)}setTimeout(()=>AT(x))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});xT.displayName=bT;var DF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OF(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function FF(n,e,t){const r=OF(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DF[r]}function AT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function jF(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var zF=wT,$F=xT,fv="Tabs",[BF]=Rl(fv,[yT]),ST=yT(),[HF,ix]=BF(fv),ET=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=n,d=ex(a),[h,f]=Ob({prop:r,onChange:s,defaultProp:i??"",caller:fv});return _.jsx(HF,{scope:t,baseId:r_(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:_.jsx(Fe.div,{dir:d,"data-orientation":o,...u,ref:e})})});ET.displayName=fv;var CT="TabsList",_T=C.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...s}=n,i=ix(CT,t),o=ST(t);return _.jsx(zF,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:_.jsx(Fe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});_T.displayName=CT;var TT="TabsTrigger",PT=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:s=!1,...i}=n,o=ix(TT,t),a=ST(t),c=MT(o.baseId,r),u=NT(o.baseId,r),d=r===o.value;return _.jsx($F,{asChild:!0,...a,focusable:!s,active:d,children:_.jsx(Fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:me(n.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:me(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:me(n.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});PT.displayName=TT;var RT="TabsContent",kT=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:s,children:i,...o}=n,a=ix(RT,t),c=MT(a.baseId,r),u=NT(a.baseId,r),d=r===a.value,h=C.useRef(d);return C.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),_.jsx(Wo,{present:s||d,children:({present:f})=>_.jsx(Fe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});kT.displayName=RT;function MT(n,e){return`${n}-trigger-${e}`}function NT(n,e){return`${n}-content-${e}`}var UF=ET,LT=_T,IT=PT,DT=kT;const VF=UF,OT=C.forwardRef(({className:n,...e},t)=>_.jsx(LT,{ref:t,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));OT.displayName=LT.displayName;const Gp=C.forwardRef(({className:n,...e},t)=>_.jsx(IT,{ref:t,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n),...e}));Gp.displayName=IT.displayName;const Xp=C.forwardRef(({className:n,...e},t)=>_.jsx(DT,{ref:t,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Xp.displayName=DT.displayName;function WF(n,e){const t=o=>o.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(a=>a.length>3),r=new Set(t(n)),s=new Set(t(e));if(r.size===0||s.size===0)return 0;const i=[...r].filter(o=>s.has(o)).length;return Math.round(i/s.size*100)}function GF(n,e){const t=n.split(/\s+/),r=new Set(e.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/));return t.map((s,i)=>{const o=s.toLowerCase().replace(/[.,;:!?]/g,""),a=r.has(o);return _.jsxs("span",{className:a?"":"bg-accent font-medium",children:[s," "]},i)})}const XF=({aiNotes:n,referenceNotes:e})=>{const t=[{title:"Clinical Summary",ai:n.clinicalSummary},{title:"Medical Necessity Justification",ai:n.medicalNecessityJustification},{title:"Risk Stratification",ai:n.riskStratification},{title:"Conclusion",ai:n.conclusion}],r=t.map(i=>WF(i.ai,e)),s=Math.round(r.reduce((i,o)=>i+o,0)/t.length)||0;return _.jsx(im,{className:"h-[calc(100vh-320px)]",children:_.jsxs("div",{className:"space-y-4 pr-4",children:[_.jsx(lh,{children:_.jsxs(ch,{className:"pt-4 flex items-center justify-between",children:[_.jsx("span",{className:"font-semibold",children:"Overall Structured Similarity"}),_.jsxs(nm,{variant:"outline",className:s>=70?"bg-emerald-100 text-emerald-800 border-emerald-300 text-lg px-4 py-1":s>=40?"bg-amber-100 text-amber-800 border-amber-300 text-lg px-4 py-1":"bg-red-100 text-red-800 border-red-300 text-lg px-4 py-1",children:[s,"%"]})]})}),t.map((i,o)=>{const a=r[o];return _.jsxs(lh,{children:[_.jsx(Zb,{className:"pb-2",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx(Jb,{className:"text-base",children:i.title}),_.jsxs(nm,{variant:"outline",className:"text-xs",children:[a,"% match"]})]})}),_.jsx(ch,{children:_.jsx("p",{className:"text-sm leading-relaxed",children:GF(i.ai,e)})})]},i.title)})]})})},YF=n=>{switch(n){case"Met":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"Partially Met":return"bg-amber-100 text-amber-800 border-amber-300";case"Missing":return"bg-red-100 text-red-800 border-red-300";default:return""}},qF=({result:n,referenceNotes:e})=>n?_.jsxs("div",{className:"flex flex-col gap-6 h-full",children:[_.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Page 2  Output Interface"}),_.jsxs(VF,{defaultValue:"revised",className:"flex-1 flex flex-col",children:[_.jsxs(OT,{className:"w-full",children:[_.jsx(Gp,{value:"revised",className:"flex-1",children:"Revised Doctor Notes"}),_.jsx(Gp,{value:"missing",className:"flex-1",children:"Missing Criteria"}),e&&_.jsx(Gp,{value:"validation",className:"flex-1",children:"Validation"})]}),_.jsxs(Xp,{value:"revised",className:"flex-1 mt-4",children:[_.jsx(lh,{children:_.jsxs(ch,{className:"pt-4 flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsxs("p",{className:"font-semibold",children:["Alignment Score: ",n.overallScore,"%"]}),_.jsxs("p",{className:"text-sm text-muted-foreground",children:["Admission Recommendation:"," ",n.admissionRecommended?"Recommended":"Not Recommended"]})]}),_.jsx(nm,{variant:"outline",className:n.admissionRecommended?"bg-emerald-100 text-emerald-800 border-emerald-300":"bg-red-100 text-red-800 border-red-300",children:n.admissionRecommended?"Admit":"Do Not Admit"})]})}),_.jsx(im,{className:"h-[calc(100vh-320px)]",children:_.jsxs("div",{className:"space-y-4 pr-4",children:[_.jsx(Cp,{title:"Clinical Summary",content:n.revisedNotes.clinicalSummary}),_.jsx(Cp,{title:"Medical Necessity Justification",content:n.revisedNotes.medicalNecessityJustification}),_.jsx(Cp,{title:"Risk Stratification",content:n.revisedNotes.riskStratification}),_.jsx(Cp,{title:"Conclusion",content:n.revisedNotes.conclusion})]})})]}),_.jsx(Xp,{value:"missing",className:"flex-1 mt-4",children:_.jsx(im,{className:"h-[calc(100vh-320px)]",children:_.jsxs(eT,{children:[_.jsx(tT,{children:_.jsxs(E0,{children:[_.jsx(hd,{children:"Criteria"}),_.jsx(hd,{className:"w-[100px]",children:"Status"}),_.jsx(hd,{children:"Evidence Found"}),_.jsx(hd,{children:"Suggested Language"})]})}),_.jsx(nT,{children:n.missingCriteria.map((t,r)=>_.jsxs(E0,{children:[_.jsx(fd,{className:"font-medium",children:t.criterionText}),_.jsx(fd,{children:_.jsx(nm,{variant:"outline",className:YF(t.status),children:t.status})}),_.jsx(fd,{className:"text-sm",children:t.evidenceFound}),_.jsx(fd,{className:"text-sm italic",children:t.suggestedLanguage})]},r))})]})})}),e&&_.jsx(Xp,{value:"validation",className:"flex-1 mt-4",children:_.jsx(XF,{aiNotes:n.revisedNotes,referenceNotes:e})})]})]}):_.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"text-lg font-medium",children:"Page 2  Output Interface"}),_.jsx("p",{className:"text-sm mt-1",children:"Submit input to generate optimized documentation."})]})}),Cp=({title:n,content:e})=>_.jsxs(lh,{children:[_.jsx(Zb,{className:"pb-2",children:_.jsx(Jb,{className:"text-base",children:n})}),_.jsx(ch,{children:_.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e})})]}),_S=[{key:"parsing",label:"Parsing Guidelines"},{key:"extracting",label:"Extracting Clinical Data"},{key:"matching",label:"Matching Criteria"},{key:"generating",label:"Generating Output"}],TS=["parsing","extracting","matching","generating","complete"],KF=({currentStep:n})=>{if(n==="idle")return null;const e=TS.indexOf(n);return _.jsx("div",{className:"flex items-center justify-center gap-2 py-4",children:_S.map((t,r)=>{const s=TS.indexOf(t.key),i=e>s,o=e===s;return _.jsxs(B.Fragment,{children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[i?_.jsx(SL,{className:"h-5 w-5 text-primary"}):o?_.jsx(_L,{className:"h-5 w-5 text-primary animate-spin"}):_.jsx(EL,{className:"h-5 w-5 text-muted-foreground/40"}),_.jsx("span",{className:`text-xs font-medium ${i?"text-primary":o?"text-foreground":"text-muted-foreground/50"}`,children:t.label})]}),r<_S.length-1&&_.jsx("div",{className:`w-8 h-px ${i?"bg-primary":"bg-border"}`})]},t.key)})})};var $d={};$d.d=(n,e)=>{for(var t in e)$d.o(e,t)&&!$d.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};$d.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var se=globalThis.pdfjsLib={};$d.d(se,{AbortException:()=>zo,AnnotationEditorLayer:()=>Iw,AnnotationEditorParamsType:()=>ge,AnnotationEditorType:()=>ce,AnnotationEditorUIManager:()=>El,AnnotationLayer:()=>Wz,AnnotationMode:()=>zi,ColorPicker:()=>dm,DOMSVGFactory:()=>px,DrawLayer:()=>Fw,FeatureTest:()=>nn,GlobalWorkerOptions:()=>ui,ImageKind:()=>Yp,InvalidPDFException:()=>T0,MissingPDFException:()=>uh,OPS:()=>Ar,OutputScale:()=>R0,PDFDataRangeTransport:()=>jP,PDFDateString:()=>ux,PDFWorker:()=>mc,PasswordResponses:()=>ej,PermissionFlag:()=>JF,PixelsPerInch:()=>$o,RenderingCancelledException:()=>lx,TextLayer:()=>dh,TouchManager:()=>cm,UnexpectedResponseException:()=>om,Util:()=>Q,VerbosityLevel:()=>pv,XfaLayer:()=>$P,build:()=>Cz,createValidAbsoluteUrl:()=>sj,fetchData:()=>yv,getDocument:()=>mz,getFilenameFromUrl:()=>fj,getPdfFilenameFromUrl:()=>pj,getXfaPageViewport:()=>gj,isDataScheme:()=>wv,isPdfFile:()=>cx,noContextMenu:()=>Wr,normalizeUnicode:()=>uj,setLayerDimensions:()=>Sl,shadow:()=>fe,stopEvent:()=>zn,version:()=>Ez});const Gt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),FT=[1,0,0,1,0,0],_0=[.001,0,0,.001,0,0],QF=1e7,oy=1.35,Dn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},zi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ZF="pdfjs_internal_editor_",ce={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ge={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},JF={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Yp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ot={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},sd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},pv={ERRORS:0,WARNINGS:1,INFOS:5},Ar={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},ej={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let gv=pv.WARNINGS;function tj(n){Number.isInteger(n)&&(gv=n)}function nj(){return gv}function mv(n){gv>=pv.INFOS&&console.log(`Info: ${n}`)}function ue(n){gv>=pv.WARNINGS&&console.log(`Warning: ${n}`)}function Re(n){throw new Error(n)}function st(n,e){n||Re(e)}function rj(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function sj(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=cj(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(rj(r))return r}catch{}return null}function fe(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Go=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class PS extends Go{constructor(e,t){super(e,"PasswordException"),this.code=t}}class ay extends Go{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class T0 extends Go{constructor(e){super(e,"InvalidPDFException")}}class uh extends Go{constructor(e){super(e,"MissingPDFException")}}class om extends Go{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class ij extends Go{constructor(e){super(e,"FormatError")}}class zo extends Go{constructor(e){super(e,"AbortException")}}function jT(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Re("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let s=0;s<e;s+=t){const i=Math.min(s+t,e),o=n.subarray(s,i);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function vv(n){typeof n!="string"&&Re("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function oj(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function ox(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function aj(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function lj(){try{return new Function(""),!0}catch{return!1}}class nn{static get isLittleEndian(){return fe(this,"isLittleEndian",aj())}static get isEvalSupported(){return fe(this,"isEvalSupported",lj())}static get isOffscreenCanvasSupported(){return fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return fe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?fe(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):fe(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return fe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const ly=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var pi,qp,P0;class Q{static makeHexColor(e,t,r){return`#${ly[e]}${ly[t]}${ly[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[r,s]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,i=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[s,i]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],s[0],i[0],o[0]),Math.min(r[1],s[1],i[1],o[1]),Math.max(r[0],s[0],i[0],o[0]),Math.max(r[1],s[1],i[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,c=Math.sqrt((r+o)**2-4*(r*o-i*s))/2,u=a+c||1,d=a-c||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[r,i,s,o]}static bezierBoundingBox(e,t,r,s,i,o,a,c,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,c)):u=[Math.min(e,a),Math.min(t,c),Math.max(e,a),Math.max(t,c)],S(this,pi,P0).call(this,e,r,i,a,t,s,o,c,3*(-e+3*(r-i)+a),6*(e-2*r+i),3*(r-e),u),S(this,pi,P0).call(this,e,r,i,a,t,s,o,c,3*(-t+3*(s-o)+c),6*(t-2*s+o),3*(s-t),u),u}}pi=new WeakSet,qp=function(e,t,r,s,i,o,a,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,m=h*(h*(h*e+3*u*t)+3*f*r)+p*s,g=h*(h*(h*i+3*u*o)+3*f*a)+p*c;d[0]=Math.min(d[0],m),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],m),d[3]=Math.max(d[3],g)},P0=function(e,t,r,s,i,o,a,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&S(this,pi,qp).call(this,e,t,r,s,i,o,a,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const m=Math.sqrt(p),g=2*u;S(this,pi,qp).call(this,e,t,r,s,i,o,a,c,(-d+m)/g,f),S(this,pi,qp).call(this,e,t,r,s,i,o,a,c,(-d-m)/g,f)},A(Q,pi);function cj(n){return decodeURIComponent(escape(n))}let cy=null,RS=null;function uj(n){return cy||(cy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,RS=new Map([["","t"]])),n.replaceAll(cy,(e,t,r)=>t?t.normalize("NFKC"):RS.get(r))}function dj(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),jT(n)}const ax="pdfjs_internal_id_";function hj(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(jT(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});const Ms="http://www.w3.org/2000/svg",ea=class ea{};ne(ea,"CSS",96),ne(ea,"PDF",72),ne(ea,"PDF_TO_CSS_UNITS",ea.CSS/ea.PDF);let $o=ea;async function yv(n,e="text"){if(pd(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}r(new Error(s.statusText))}},s.send(null)})}class Qf{constructor({viewBox:e,userUnit:t,scale:r,rotation:s,offsetX:i=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=s,this.offsetX=i,this.offsetY=o,r*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(s%=360,s<0&&(s+=360),s){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let m,g,b,v;d===0?(m=Math.abs(u-e[1])*r+i,g=Math.abs(c-e[0])*r+o,b=(e[3]-e[1])*r,v=(e[2]-e[0])*r):(m=Math.abs(c-e[0])*r+i,g=Math.abs(u-e[1])*r+o,b=(e[2]-e[0])*r,v=(e[3]-e[1])*r),this.transform=[d*r,h*r,f*r,p*r,m-d*r*c-f*r*u,g-h*r*c-p*r*u],this.width=b,this.height=v}get rawDims(){const{userUnit:e,viewBox:t}=this,r=t.map(s=>s*e);return fe(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new Qf({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){return Q.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Q.applyTransform([e[0],e[1]],this.transform),r=Q.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return Q.applyInverseTransform([e,t],this.transform)}}class lx extends Go{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function wv(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function cx(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function fj(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function pj(n,e="document.pdf"){if(typeof n!="string")return e;if(wv(n))return ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n);let i=r.exec(s[1])||r.exec(s[2])||r.exec(s[3]);if(i&&(i=i[0],i.includes("%")))try{i=r.exec(decodeURIComponent(i))[0]}catch{}return i||e}class kS{constructor(){ne(this,"started",Object.create(null));ne(this,"times",[])}time(e){e in this.started&&ue(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ue(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:s,end:i}of this.times)e.push(`${r.padEnd(t)} ${i-s}ms
`);return e.join("")}}function pd(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Wr(n){n.preventDefault()}function zn(n){n.preventDefault(),n.stopPropagation()}var mh;class ux{static toDateObject(e){if(!e||typeof e!="string")return null;l(this,mh)||y(this,mh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,mh).exec(e);if(!t)return null;const r=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(r,s,i,o,a,c))}}mh=new WeakMap,A(ux,mh);function gj(n,{scale:e=1,rotation:t=0}){const{width:r,height:s}=n.attributes.style,i=[0,0,parseInt(r),parseInt(s)];return new Qf({viewBox:i,userUnit:1,scale:e,rotation:t})}function dx(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ue(`Not a valid color format: "${n}"`),[0,0,0])}function mj(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,dx(r))}e.remove()}function $e(n){const{a:e,b:t,c:r,d:s,e:i,f:o}=n.getTransform();return[e,t,r,s,i,o]}function Yr(n){const{a:e,b:t,c:r,d:s,e:i,f:o}=n.getTransform().invertSelf();return[e,t,r,s,i,o]}function Sl(n,e,t=!1,r=!0){if(e instanceof Qf){const{pageWidth:s,pageHeight:i}=e.rawDims,{style:o}=n,a=nn.isCSSRoundSupported,c=`var(--scale-factor) * ${s}px`,u=`var(--scale-factor) * ${i}px`,d=a?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,h=a?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}class R0{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Gi,da,Cr,ha,vh,yh,pm,zT,rn,$T,BT,Kp,HT,M0;const Ds=class Ds{constructor(e){A(this,rn);A(this,Gi,null);A(this,da,null);A(this,Cr);A(this,ha,null);A(this,vh,null);y(this,Cr,e),l(Ds,yh)||y(Ds,yh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=y(this,Gi,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,Cr)._uiManager._signal;e.addEventListener("contextmenu",Wr,{signal:t}),e.addEventListener("pointerdown",S(Ds,pm,zT),{signal:t});const r=y(this,ha,document.createElement("div"));r.className="buttons",e.append(r);const s=l(this,Cr).toolbarPosition;if(s){const{style:i}=e,o=l(this,Cr)._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return S(this,rn,HT).call(this),e}get div(){return l(this,Gi)}hide(){var e;l(this,Gi).classList.add("hidden"),(e=l(this,da))==null||e.hideDropdown()}show(){var e;l(this,Gi).classList.remove("hidden"),(e=l(this,vh))==null||e.shown()}async addAltText(e){const t=await e.render();S(this,rn,Kp).call(this,t),l(this,ha).prepend(t,l(this,rn,M0)),y(this,vh,e)}addColorPicker(e){y(this,da,e);const t=e.renderButton();S(this,rn,Kp).call(this,t),l(this,ha).prepend(t,l(this,rn,M0))}remove(){var e;l(this,Gi).remove(),(e=l(this,da))==null||e.destroy(),y(this,da,null)}};Gi=new WeakMap,da=new WeakMap,Cr=new WeakMap,ha=new WeakMap,vh=new WeakMap,yh=new WeakMap,pm=new WeakSet,zT=function(e){e.stopPropagation()},rn=new WeakSet,$T=function(e){l(this,Cr)._focusEventsAllowed=!1,zn(e)},BT=function(e){l(this,Cr)._focusEventsAllowed=!0,zn(e)},Kp=function(e){const t=l(this,Cr)._uiManager._signal;e.addEventListener("focusin",S(this,rn,$T).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",S(this,rn,BT).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Wr,{signal:t})},HT=function(){const{editorType:e,_uiManager:t}=l(this,Cr),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",l(Ds,yh)[e]),S(this,rn,Kp).call(this,r),r.addEventListener("click",s=>{t.delete()},{signal:t._signal}),l(this,ha).append(r)},M0=function(){const e=document.createElement("div");return e.className="divider",e},A(Ds,pm),A(Ds,yh,null);let k0=Ds;var wh,fa,pa,Bo,UT,VT,WT;class vj{constructor(e){A(this,Bo);A(this,wh,null);A(this,fa,null);A(this,pa);y(this,pa,e)}show(e,t,r){const[s,i]=S(this,Bo,VT).call(this,t,r),{style:o}=l(this,fa)||y(this,fa,S(this,Bo,UT).call(this));e.append(l(this,fa)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,fa).remove()}}wh=new WeakMap,fa=new WeakMap,pa=new WeakMap,Bo=new WeakSet,UT=function(){const e=y(this,fa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Wr,{signal:l(this,pa)._signal});const t=y(this,wh,document.createElement("div"));return t.className="buttons",e.append(t),S(this,Bo,WT).call(this),e},VT=function(e,t){let r=0,s=0;for(const i of e){const o=i.y+i.height;if(o<r)continue;const a=i.x+(t?i.width:0);if(o>r){s=a,r=o;continue}t?a>s&&(s=a):a<s&&(s=a)}return[t?1-s:s,r]},WT=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=l(this,pa)._signal;e.addEventListener("contextmenu",Wr,{signal:r}),e.addEventListener("click",()=>{l(this,pa).highlightSelection("floating_button")},{signal:r}),l(this,wh).append(e)};function am(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var gm;class yj{constructor(){A(this,gm,0)}get id(){return`${ZF}${ft(this,gm)._++}`}}gm=new WeakMap;var Cc,bh,zt,_c,Qp;const mx=class mx{constructor(){A(this,_c);A(this,Cc,dj());A(this,bh,0);A(this,zt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const i=s.decode().then(()=>(r.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return fe(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:r,size:s,type:i}=e;return S(this,_c,Qp).call(this,`${t}_${r}_${s}_${i}`,e)}async getFromUrl(e){return S(this,_c,Qp).call(this,e,e)}async getFromBlob(e,t){const r=await t;return S(this,_c,Qp).call(this,e,r)}async getFromId(e){l(this,zt)||y(this,zt,new Map);const t=l(this,zt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,zt)||y(this,zt,new Map);let r=l(this,zt).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),r={bitmap:s.transferToImageBitmap(),id:`image_${l(this,Cc)}_${ft(this,bh)._++}`,refCounter:1,isSvg:!1},l(this,zt).set(e,r),l(this,zt).set(r.id,r),r}getSvgUrl(e){const t=l(this,zt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;l(this,zt)||y(this,zt,new Map);const t=l(this,zt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}(s=r.close)==null||s.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,Cc)}_`)}};Cc=new WeakMap,bh=new WeakMap,zt=new WeakMap,_c=new WeakSet,Qp=async function(e,t){l(this,zt)||y(this,zt,new Map);let r=l(this,zt).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${l(this,Cc)}_${ft(this,bh)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(r.url=t,s=await yv(t,"blob")):t instanceof File?s=r.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const i=mx._isSVGFittingCanvas,o=new FileReader,a=new Image,c=new Promise((u,d)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(s),await c}else r.bitmap=await createImageBitmap(s);r.refCounter=1}catch(s){ue(s),r=null}return l(this,zt).set(e,r),r&&l(this,zt).set(r.id,r),r};let N0=mx;var Ze,Xi,xh,Ue;class wj{constructor(e=128){A(this,Ze,[]);A(this,Xi,!1);A(this,xh);A(this,Ue,-1);y(this,xh,e)}add({cmd:e,undo:t,post:r,mustExec:s,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(s&&e(),l(this,Xi))return;const c={cmd:e,undo:t,post:r,type:i};if(l(this,Ue)===-1){l(this,Ze).length>0&&(l(this,Ze).length=0),y(this,Ue,0),l(this,Ze).push(c);return}if(o&&l(this,Ze)[l(this,Ue)].type===i){a&&(c.undo=l(this,Ze)[l(this,Ue)].undo),l(this,Ze)[l(this,Ue)]=c;return}const u=l(this,Ue)+1;u===l(this,xh)?l(this,Ze).splice(0,1):(y(this,Ue,u),u<l(this,Ze).length&&l(this,Ze).splice(u)),l(this,Ze).push(c)}undo(){if(l(this,Ue)===-1)return;y(this,Xi,!0);const{undo:e,post:t}=l(this,Ze)[l(this,Ue)];e(),t==null||t(),y(this,Xi,!1),y(this,Ue,l(this,Ue)-1)}redo(){if(l(this,Ue)<l(this,Ze).length-1){y(this,Ue,l(this,Ue)+1),y(this,Xi,!0);const{cmd:e,post:t}=l(this,Ze)[l(this,Ue)];e(),t==null||t(),y(this,Xi,!1)}}hasSomethingToUndo(){return l(this,Ue)!==-1}hasSomethingToRedo(){return l(this,Ue)<l(this,Ze).length-1}cleanType(e){if(l(this,Ue)!==-1){for(let t=l(this,Ue);t>=0;t--)if(l(this,Ze)[t].type!==e){l(this,Ze).splice(t+1,l(this,Ue)-t),y(this,Ue,t);return}l(this,Ze).length=0,y(this,Ue,-1)}}destroy(){y(this,Ze,null)}}Ze=new WeakMap,Xi=new WeakMap,xh=new WeakMap,Ue=new WeakMap;var mm,GT;class Zf{constructor(e){A(this,mm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=nn.platform;for(const[r,s,i={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(S(this,mm,GT).call(this,t));if(!r)return;const{callback:s,options:{bubbles:i=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(s.bind(e,...o,t)(),i||zn(t))}}mm=new WeakSet,GT=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const vm=class vm{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return mj(e),fe(this,"_colors",e)}convert(e){const t=dx(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,s]of this._colors)if(s.every((i,o)=>i===t[o]))return vm._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Q.makeHexColor(...t):e}};ne(vm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let L0=vm;var Tc,Sn,lt,Et,Pc,zs,Rc,Kn,Yi,ga,kc,ma,ts,_r,va,Ah,Sh,Mc,Eh,ns,qi,Nc,Ki,rs,ym,Qi,Ch,Zi,ya,_h,Th,gt,Se,$s,wa,Ph,Rh,Ji,ss,Bs,kh,Qn,U,Zp,I0,XT,YT,Jp,qT,KT,QT,D0,ZT,O0,F0,JT,Yt,Ns,eP,tP,j0,nP,gd,z0;const sc=class sc{constructor(e,t,r,s,i,o,a,c,u,d,h,f,p){A(this,U);A(this,Tc,new AbortController);A(this,Sn,null);A(this,lt,new Map);A(this,Et,new Map);A(this,Pc,null);A(this,zs,null);A(this,Rc,null);A(this,Kn,new wj);A(this,Yi,null);A(this,ga,null);A(this,kc,0);A(this,ma,new Set);A(this,ts,null);A(this,_r,null);A(this,va,new Set);ne(this,"_editorUndoBar",null);A(this,Ah,!1);A(this,Sh,!1);A(this,Mc,!1);A(this,Eh,null);A(this,ns,null);A(this,qi,null);A(this,Nc,null);A(this,Ki,!1);A(this,rs,null);A(this,ym,new yj);A(this,Qi,!1);A(this,Ch,!1);A(this,Zi,null);A(this,ya,null);A(this,_h,null);A(this,Th,null);A(this,gt,ce.NONE);A(this,Se,new Set);A(this,$s,null);A(this,wa,null);A(this,Ph,null);A(this,Rh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});A(this,Ji,[0,0]);A(this,ss,null);A(this,Bs,null);A(this,kh,null);A(this,Qn,null);const m=this._signal=l(this,Tc).signal;y(this,Bs,e),y(this,kh,t),y(this,Pc,r),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:m}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),s._on("setpreference",this.onSetPreference.bind(this),{signal:m}),s._on("switchannotationeditorparams",g=>this.updateParams(g.type,g.value),{signal:m}),S(this,U,qT).call(this),S(this,U,JT).call(this),S(this,U,D0).call(this),y(this,zs,i.annotationStorage),y(this,Eh,i.filterFactory),y(this,wa,o),y(this,Nc,a||null),y(this,Ah,c),y(this,Sh,u),y(this,Mc,d),y(this,Th,h||null),this.viewParameters={realScale:$o.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=p!==!1}static get _keyboardManager(){const e=sc.prototype,t=o=>l(o,Bs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return fe(this,"_keyboardManager",new Zf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,Bs).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,Bs).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,r,s,i;(e=l(this,Qn))==null||e.resolve(),y(this,Qn,null),(t=l(this,Tc))==null||t.abort(),y(this,Tc,null),this._signal=null;for(const o of l(this,Et).values())o.destroy();l(this,Et).clear(),l(this,lt).clear(),l(this,va).clear(),y(this,Sn,null),l(this,Se).clear(),l(this,Kn).destroy(),(r=l(this,Pc))==null||r.destroy(),(s=l(this,rs))==null||s.hide(),y(this,rs,null),l(this,ns)&&(clearTimeout(l(this,ns)),y(this,ns,null)),l(this,ss)&&(clearTimeout(l(this,ss)),y(this,ss,null)),(i=this._editorUndoBar)==null||i.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,Th)}get useNewAltTextFlow(){return l(this,Sh)}get useNewAltTextWhenAddingImage(){return l(this,Mc)}get hcmFilter(){return fe(this,"hcmFilter",l(this,wa)?l(this,Eh).addHCMFilter(l(this,wa).foreground,l(this,wa).background):"none")}get direction(){return fe(this,"direction",getComputedStyle(l(this,Bs)).direction)}get highlightColors(){return fe(this,"highlightColors",l(this,Nc)?new Map(l(this,Nc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return fe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),y(this,ga,e)}setMainHighlightColorPicker(e){y(this,_h,e)}editAltText(e,t=!1){var r;(r=l(this,Pc))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":y(this,Mc,t);break}}onPageChanging({pageNumber:e}){y(this,kc,e-1)}focusMainContainer(){l(this,Bs).focus()}findParent(e,t){for(const r of l(this,Et).values()){const{x:s,y:i,width:o,height:a}=r.div.getBoundingClientRect();if(e>=s&&e<=s+o&&t>=i&&t<=i+a)return r}return null}disableUserSelect(e=!1){l(this,kh).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,va).add(e)}removeShouldRescale(e){l(this,va).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*$o.PDF_TO_CSS_UNITS;for(const r of l(this,va))r.onScaleChanging();(t=l(this,ga))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:o}=t,a=t.toString(),u=S(this,U,Zp).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;t.empty();const h=S(this,U,I0).call(this,u),f=l(this,gt)===ce.NONE,p=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(ce.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&l(this,zs)&&!l(this,zs).has(e.id)&&l(this,zs).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,l(this,Ki)&&(y(this,Ki,!1),S(this,U,Jp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,Se))if(t.div.contains(e)){y(this,ya,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,ya))return;const[e,t]=l(this,ya);y(this,ya,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){S(this,U,D0).call(this),S(this,U,O0).call(this)}removeEditListeners(){S(this,U,ZT).call(this),S(this,U,F0).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of l(this,_r))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of l(this,_r))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=l(this,Sn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of l(this,Se)){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const o of l(this,_r))if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(i){ue(`paste: "${i.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const c of r){const u=await s.deserialize(c);if(!u)return;i.push(u)}const o=()=>{for(const c of i)S(this,U,j0).call(this,c);S(this,U,z0).call(this,i)},a=()=>{for(const c of i)c.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(i){ue(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,gt)!==ce.NONE&&!this.isEditorHandlingKeyboard&&sc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,Ki)&&(y(this,Ki,!1),S(this,U,Jp).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(S(this,U,KT).call(this),S(this,U,O0).call(this),S(this,U,Yt).call(this,{isEditing:l(this,gt)!==ce.NONE,isEmpty:S(this,U,gd).call(this),hasSomethingToUndo:l(this,Kn).hasSomethingToUndo(),hasSomethingToRedo:l(this,Kn).hasSomethingToRedo(),hasSelectedEditor:!1})):(S(this,U,QT).call(this),S(this,U,F0).call(this),S(this,U,Yt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,_r)){y(this,_r,e);for(const t of l(this,_r))S(this,U,Ns).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,ym).id}get currentLayer(){return l(this,Et).get(l(this,kc))}getLayer(e){return l(this,Et).get(e)}get currentPageIndex(){return l(this,kc)}addLayer(e){l(this,Et).set(e.pageIndex,e),l(this,Qi)?e.enable():e.disable()}removeLayer(e){l(this,Et).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){var s;if(l(this,gt)!==e&&!(l(this,Qn)&&(await l(this,Qn).promise,!l(this,Qn)))){if(y(this,Qn,Promise.withResolvers()),y(this,gt,e),e===ce.NONE){this.setEditingState(!1),S(this,U,tP).call(this),(s=this._editorUndoBar)==null||s.hide(),l(this,Qn).resolve();return}this.setEditingState(!0),await S(this,U,eP).call(this),this.unselectAll();for(const i of l(this,Et).values())i.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),l(this,Qn).resolve();return}for(const i of l(this,lt).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();l(this,Qn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==l(this,gt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(l(this,_r)){switch(e){case ge.CREATE:this.currentLayer.addNewEditor();return;case ge.HIGHLIGHT_DEFAULT_COLOR:(r=l(this,_h))==null||r.updateColor(t);break;case ge.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,Ph)||y(this,Ph,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of l(this,Se))s.updateParams(e,t);for(const s of l(this,_r))s.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var i;for(const o of l(this,lt).values())o.editorType===e&&o.show(t);(((i=l(this,Ph))==null?void 0:i.get(ge.HIGHLIGHT_SHOW_ALL))??!0)!==t&&S(this,U,Ns).call(this,[[ge.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,Ch)!==e){y(this,Ch,e);for(const t of l(this,Et).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of l(this,lt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return l(this,lt).get(e)}addEditor(e){l(this,lt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(l(this,ns)&&clearTimeout(l(this,ns)),y(this,ns,setTimeout(()=>{this.focusMainContainer(),y(this,ns,null)},0))),l(this,lt).delete(e.id),this.unselect(e),(!e.annotationElementId||!l(this,ma).has(e.annotationElementId))&&((t=l(this,zs))==null||t.remove(e.id))}addDeletedAnnotationElement(e){l(this,ma).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,ma).has(e)}removeDeletedAnnotationElement(e){l(this,ma).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,Sn)!==e&&(y(this,Sn,e),e&&S(this,U,Ns).call(this,e.propertiesToUpdate))}updateUI(e){l(this,U,nP)===e&&S(this,U,Ns).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){S(this,U,Ns).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(l(this,Se).has(e)){l(this,Se).delete(e),e.unselect(),S(this,U,Yt).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Se).add(e),e.select(),S(this,U,Ns).call(this,e.propertiesToUpdate),S(this,U,Yt).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=l(this,ga))==null||t.commitOrRemove();for(const r of l(this,Se))r!==e&&r.unselect();l(this,Se).clear(),l(this,Se).add(e),e.select(),S(this,U,Ns).call(this,e.propertiesToUpdate),S(this,U,Yt).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,Se).has(e)}get firstSelectedEditor(){return l(this,Se).values().next().value}unselect(e){e.unselect(),l(this,Se).delete(e),S(this,U,Yt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Se).size!==0}get isEnterHandled(){return l(this,Se).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;l(this,Kn).undo(),S(this,U,Yt).call(this,{hasSomethingToUndo:l(this,Kn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:S(this,U,gd).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){l(this,Kn).redo(),S(this,U,Yt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,Kn).hasSomethingToRedo(),isEmpty:S(this,U,gd).call(this)})}addCommands(e){l(this,Kn).add(e),S(this,U,Yt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:S(this,U,gd).call(this)})}cleanUndoStack(e){l(this,Kn).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...l(this,Se)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},s=()=>{for(const o of t)S(this,U,j0).call(this,o)};this.addCommands({cmd:r,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=l(this,Sn))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,Sn)||this.hasSelection}selectAll(){for(const e of l(this,Se))e.commit();S(this,U,z0).call(this,l(this,lt).values())}unselectAll(){var e;if(!(l(this,Sn)&&(l(this,Sn).commitOrRemove(),l(this,gt)!==ce.NONE))&&!((e=l(this,ga))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of l(this,Se))t.unselect();l(this,Se).clear(),S(this,U,Yt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;l(this,Ji)[0]+=e,l(this,Ji)[1]+=t;const[s,i]=l(this,Ji),o=[...l(this,Se)],a=1e3;l(this,ss)&&clearTimeout(l(this,ss)),y(this,ss,setTimeout(()=>{y(this,ss,null),l(this,Ji)[0]=l(this,Ji)[1]=0,this.addCommands({cmd:()=>{for(const c of o)l(this,lt).has(c.id)&&c.translateInPage(s,i)},undo:()=>{for(const c of o)l(this,lt).has(c.id)&&c.translateInPage(-s,-i)},mustExec:!1})},a));for(const c of o)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),y(this,ts,new Map);for(const e of l(this,Se))l(this,ts).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,ts))return!1;this.disableUserSelect(!1);const e=l(this,ts);y(this,ts,null);let t=!1;for(const[{x:s,y:i,pageIndex:o},a]of e)a.newX=s,a.newY=i,a.newPageIndex=o,t||(t=s!==a.savedX||i!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(s,i,o,a)=>{if(l(this,lt).has(s.id)){const c=l(this,Et).get(a);c?s._setParentAndPosition(c,i,o):(s.pageIndex=a,s.x=i,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:o,newPageIndex:a}]of e)r(s,i,o,a)},undo:()=>{for(const[s,{savedX:i,savedY:o,savedPageIndex:a}]of e)r(s,i,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,ts))for(const r of l(this,ts).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,Se).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,Sn)===e}getActive(){return l(this,Sn)}getMode(){return l(this,gt)}get imageManager(){return fe(this,"imageManager",new N0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:s,width:i,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-s)/o,y:1-(u+h-r)/i,width:f/o,height:h/i});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-r)/i,y:1-(d+f-s)/o,width:h/i,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-s)/o,y:(u-r)/i,width:f/o,height:h/i});break;default:a=(u,d,h,f)=>({x:(u-r)/i,y:(d-s)/o,width:h/i,height:f/o});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:m,height:g}of h.getClientRects())m===0||g===0||c.push(a(f,p,m,g))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,Rc)||y(this,Rc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,Rc))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=l(this,Rc))==null?void 0:s.get(e.data.id);if(!t)return;const r=l(this,zs).getRawValue(t);r&&(l(this,gt)===ce.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Tc=new WeakMap,Sn=new WeakMap,lt=new WeakMap,Et=new WeakMap,Pc=new WeakMap,zs=new WeakMap,Rc=new WeakMap,Kn=new WeakMap,Yi=new WeakMap,ga=new WeakMap,kc=new WeakMap,ma=new WeakMap,ts=new WeakMap,_r=new WeakMap,va=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,Mc=new WeakMap,Eh=new WeakMap,ns=new WeakMap,qi=new WeakMap,Nc=new WeakMap,Ki=new WeakMap,rs=new WeakMap,ym=new WeakMap,Qi=new WeakMap,Ch=new WeakMap,Zi=new WeakMap,ya=new WeakMap,_h=new WeakMap,Th=new WeakMap,gt=new WeakMap,Se=new WeakMap,$s=new WeakMap,wa=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Ji=new WeakMap,ss=new WeakMap,Bs=new WeakMap,kh=new WeakMap,Qn=new WeakMap,U=new WeakSet,Zp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},I0=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of l(this,Et).values())if(r.hasTextLayer(e))return r;return null},XT=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=S(this,U,Zp).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(l(this,rs)||y(this,rs,new vj(this)),l(this,rs).show(r,s,this.direction==="ltr"))},YT=function(){var i,o,a;const e=document.getSelection();if(!e||e.isCollapsed){l(this,$s)&&((i=l(this,rs))==null||i.hide(),y(this,$s,null),S(this,U,Yt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,$s))return;const s=S(this,U,Zp).call(this,e).closest(".textLayer");if(!s){l(this,$s)&&((o=l(this,rs))==null||o.hide(),y(this,$s,null),S(this,U,Yt).call(this,{hasSelectedText:!1}));return}if((a=l(this,rs))==null||a.hide(),y(this,$s,t),S(this,U,Yt).call(this,{hasSelectedText:!0}),!(l(this,gt)!==ce.HIGHLIGHT&&l(this,gt)!==ce.NONE)&&(l(this,gt)===ce.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),y(this,Ki,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=l(this,gt)===ce.HIGHLIGHT?S(this,U,I0).call(this,s):null;c==null||c.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&S(this,U,Jp).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},Jp=function(e=""){l(this,gt)===ce.HIGHLIGHT?this.highlightSelection(e):l(this,Ah)&&S(this,U,XT).call(this)},qT=function(){document.addEventListener("selectionchange",S(this,U,YT).bind(this),{signal:this._signal})},KT=function(){if(l(this,qi))return;y(this,qi,new AbortController);const e=this.combinedSignal(l(this,qi));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},QT=function(){var e;(e=l(this,qi))==null||e.abort(),y(this,qi,null)},D0=function(){if(l(this,Zi))return;y(this,Zi,new AbortController);const e=this.combinedSignal(l(this,Zi));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},ZT=function(){var e;(e=l(this,Zi))==null||e.abort(),y(this,Zi,null)},O0=function(){if(l(this,Yi))return;y(this,Yi,new AbortController);const e=this.combinedSignal(l(this,Yi));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},F0=function(){var e;(e=l(this,Yi))==null||e.abort(),y(this,Yi,null)},JT=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Yt=function(e){Object.entries(e).some(([r,s])=>l(this,Rh)[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,Rh),e)}),l(this,gt)===ce.HIGHLIGHT&&e.hasSelectedEditor===!1&&S(this,U,Ns).call(this,[[ge.HIGHLIGHT_FREE,!0]]))},Ns=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},eP=async function(){if(!l(this,Qi)){y(this,Qi,!0);const e=[];for(const t of l(this,Et).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,lt).values())t.enable()}},tP=function(){if(this.unselectAll(),l(this,Qi)){y(this,Qi,!1);for(const e of l(this,Et).values())e.disable();for(const e of l(this,lt).values())e.disable()}},j0=function(e){const t=l(this,Et).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},nP=function(){let e=null;for(e of l(this,Se));return e},gd=function(){if(l(this,lt).size===0)return!0;if(l(this,lt).size===1)for(const e of l(this,lt).values())return e.isEmpty();return!1},z0=function(e){for(const t of l(this,Se))t.unselect();l(this,Se).clear();for(const t of e)t.isEmpty()||(l(this,Se).add(t),t.select());S(this,U,Yt).call(this,{hasSelectedEditor:this.hasSelection})},ne(sc,"TRANSLATE_SMALL",1),ne(sc,"TRANSLATE_BIG",10);let El=sc;var mt,is,Tr,Lc,os,En,Ic,as,dn,Hs,ba,ls,eo,zr,md,eg;const qt=class qt{constructor(e){A(this,zr);A(this,mt,null);A(this,is,!1);A(this,Tr,null);A(this,Lc,null);A(this,os,null);A(this,En,null);A(this,Ic,!1);A(this,as,null);A(this,dn,null);A(this,Hs,null);A(this,ba,null);A(this,ls,!1);y(this,dn,e),y(this,ls,e._uiManager.useNewAltTextFlow),l(qt,eo)||y(qt,eo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){qt._l10n??(qt._l10n=e)}async render(){const e=y(this,Tr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=y(this,Lc,document.createElement("span"));e.append(t),l(this,ls)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(qt,eo).missing),t.setAttribute("data-l10n-id",l(qt,eo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=l(this,dn)._uiManager._signal;e.addEventListener("contextmenu",Wr,{signal:r}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),l(this,dn)._uiManager.editAltText(l(this,dn)),l(this,ls)&&l(this,dn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,zr,md)}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(y(this,Ic,!0),s(i))},{signal:r}),await S(this,zr,eg).call(this),e}finish(){l(this,Tr)&&(l(this,Tr).focus({focusVisible:l(this,Ic)}),y(this,Ic,!1))}isEmpty(){return l(this,ls)?l(this,mt)===null:!l(this,mt)&&!l(this,is)}hasData(){return l(this,ls)?l(this,mt)!==null||!!l(this,Hs):this.isEmpty()}get guessedText(){return l(this,Hs)}async setGuessedText(e){l(this,mt)===null&&(y(this,Hs,e),y(this,ba,await qt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),S(this,zr,eg).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,ls)||l(this,mt)){(t=l(this,as))==null||t.remove(),y(this,as,null);return}if(!l(this,as)){const r=y(this,as,document.createElement("div"));r.className="noAltTextBadge",l(this,dn).div.append(r)}l(this,as).classList.toggle("hidden",!e)}serialize(e){let t=l(this,mt);return!e&&l(this,Hs)===t&&(t=l(this,ba)),{altText:t,decorative:l(this,is),guessedText:l(this,Hs),textWithDisclaimer:l(this,ba)}}get data(){return{altText:l(this,mt),decorative:l(this,is)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:s,cancel:i=!1}){r&&(y(this,Hs,r),y(this,ba,s)),!(l(this,mt)===e&&l(this,is)===t)&&(i||(y(this,mt,e),y(this,is,t)),S(this,zr,eg).call(this))}toggle(e=!1){l(this,Tr)&&(!e&&l(this,En)&&(clearTimeout(l(this,En)),y(this,En,null)),l(this,Tr).disabled=!e)}shown(){l(this,dn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,zr,md)}})}destroy(){var e,t;(e=l(this,Tr))==null||e.remove(),y(this,Tr,null),y(this,Lc,null),y(this,os,null),(t=l(this,as))==null||t.remove(),y(this,as,null)}};mt=new WeakMap,is=new WeakMap,Tr=new WeakMap,Lc=new WeakMap,os=new WeakMap,En=new WeakMap,Ic=new WeakMap,as=new WeakMap,dn=new WeakMap,Hs=new WeakMap,ba=new WeakMap,ls=new WeakMap,eo=new WeakMap,zr=new WeakSet,md=function(){return l(this,mt)&&"added"||l(this,mt)===null&&this.guessedText&&"review"||"missing"},eg=async function(){var s,i,o;const e=l(this,Tr);if(!e)return;if(l(this,ls)){if(e.classList.toggle("done",!!l(this,mt)),e.setAttribute("data-l10n-id",l(qt,eo)[l(this,zr,md)]),(s=l(this,Lc))==null||s.setAttribute("data-l10n-id",l(qt,eo)[`${l(this,zr,md)}-label`]),!l(this,mt)){(i=l(this,os))==null||i.remove();return}}else{if(!l(this,mt)&&!l(this,is)){e.classList.remove("done"),(o=l(this,os))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,os);if(!t){y(this,os,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,dn).id}`;const a=100,c=l(this,dn)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(l(this,En)),y(this,En,null)},{once:!0}),e.addEventListener("mouseenter",()=>{y(this,En,setTimeout(()=>{y(this,En,null),l(this,os).classList.add("show"),l(this,dn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;l(this,En)&&(clearTimeout(l(this,En)),y(this,En,null)),(u=l(this,os))==null||u.classList.remove("show")},{signal:c})}l(this,is)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,mt)),t.parentNode||e.append(t);const r=l(this,dn).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},A(qt,eo,null),ne(qt,"_l10n",null);let lm=qt;var Mh,xa,Nh,Lh,Ih,Dh,Oh,Dc,Us,Aa,to,Ai,rP,sP,$0;const vx=class vx{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:s=null,onPinching:i=null,onPinchEnd:o=null,signal:a}){A(this,Ai);A(this,Mh);A(this,xa,!1);A(this,Nh,null);A(this,Lh);A(this,Ih);A(this,Dh);A(this,Oh);A(this,Dc);A(this,Us,null);A(this,Aa);A(this,to,null);y(this,Mh,e),y(this,Nh,r),y(this,Lh,t),y(this,Ih,s),y(this,Dh,i),y(this,Oh,o),y(this,Aa,new AbortController),y(this,Dc,AbortSignal.any([a,l(this,Aa).signal])),e.addEventListener("touchstart",S(this,Ai,rP).bind(this),{passive:!1,signal:l(this,Dc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return fe(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=l(this,Aa))==null||e.abort(),y(this,Aa,null)}};Mh=new WeakMap,xa=new WeakMap,Nh=new WeakMap,Lh=new WeakMap,Ih=new WeakMap,Dh=new WeakMap,Oh=new WeakMap,Dc=new WeakMap,Us=new WeakMap,Aa=new WeakMap,to=new WeakMap,Ai=new WeakSet,rP=function(e){var s,i,o;if((s=l(this,Lh))!=null&&s.call(this)||e.touches.length<2)return;if(!l(this,to)){y(this,to,new AbortController);const a=AbortSignal.any([l(this,Dc),l(this,to).signal]),c=l(this,Mh),u={signal:a,passive:!1};c.addEventListener("touchmove",S(this,Ai,sP).bind(this),u),c.addEventListener("touchend",S(this,Ai,$0).bind(this),u),c.addEventListener("touchcancel",S(this,Ai,$0).bind(this),u),(i=l(this,Ih))==null||i.call(this)}if(zn(e),e.touches.length!==2||(o=l(this,Nh))!=null&&o.call(this)){y(this,Us,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),y(this,Us,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},sP=function(e){var E;if(!l(this,Us)||e.touches.length!==2)return;let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:s,screenY:i}=t,{screenX:o,screenY:a}=r,c=l(this,Us),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,m=f-d,g=o-s,b=a-i,v=Math.hypot(g,b)||1,w=Math.hypot(p,m)||1;if(!l(this,xa)&&Math.abs(w-v)<=vx.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=s,c.touch0Y=i,c.touch1X=o,c.touch1Y=a,e.preventDefault(),!l(this,xa)){y(this,xa,!0);return}const x=[(s+o)/2,(i+a)/2];(E=l(this,Dh))==null||E.call(this,x,w,v)},$0=function(e){var t;l(this,to).abort(),y(this,to,null),(t=l(this,Oh))==null||t.call(this),l(this,Us)&&(e.preventDefault(),y(this,Us,null),y(this,xa,!1))};let cm=vx;var Sa,Pr,De,Oc,no,Fh,Ea,Ct,Ca,Vs,ro,jh,_a,Cn,zh,Ta,Ws,cs,Fc,jc,Zn,Pa,$h,wm,re,B0,Bh,H0,tg,iP,oP,U0,ng,V0,aP,lP,cP,W0,uP,G0,dP,hP,fP,X0,vd;const de=class de{constructor(e){A(this,re);A(this,Sa,null);A(this,Pr,null);A(this,De,null);A(this,Oc,!1);A(this,no,null);A(this,Fh,"");A(this,Ea,!1);A(this,Ct,null);A(this,Ca,null);A(this,Vs,null);A(this,ro,null);A(this,jh,"");A(this,_a,!1);A(this,Cn,null);A(this,zh,!1);A(this,Ta,!1);A(this,Ws,!1);A(this,cs,null);A(this,Fc,0);A(this,jc,0);A(this,Zn,null);A(this,Pa,null);ne(this,"_editToolbar",null);ne(this,"_initialOptions",Object.create(null));ne(this,"_initialData",null);ne(this,"_isVisible",!0);ne(this,"_uiManager",null);ne(this,"_focusEventsAllowed",!0);A(this,$h,!1);A(this,wm,de._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,s],this.pageTranslation=[i,o];const[a,c]=this.parentDimensions;this.x=e.x/a,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=de.prototype._resizeWithKeyboard,t=El.TRANSLATE_SMALL,r=El.TRANSLATE_BIG;return fe(this,"_resizerKeyboardManager",new Zf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],de.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return fe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new bj({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(de._l10n??(de._l10n=e),de._l10nResizer||(de._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),de._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);de._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Re("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,$h)}set _isDraggable(e){var t;y(this,$h,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,wm)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):S(this,re,vd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,_a)?y(this,_a,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,s){const[i,o]=this.parentDimensions;[r,s]=this.screenToPageTranslation(r,s),this.x=(e+r)/i,this.y=(t+s)/o,this.fixAndSetPosition()}translate(e,t){S(this,re,B0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,Cn)||y(this,Cn,[this.x,this.y,this.width,this.height]),S(this,re,B0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){l(this,Cn)||y(this,Cn,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[s,i]}=this;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[c,u]=this.getBaseTranslation();o+=c,a+=u;const{style:d}=r;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!l(this,Cn)&&(l(this,Cn)[0]!==this.x||l(this,Cn)[1]!==this.y)}get _hasBeenResized(){return!!l(this,Cn)&&(l(this,Cn)[2]!==this.width||l(this,Cn)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=de,s=r/e,i=r/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,s]}=this;let{x:i,y:o,width:a,height:c}=this;if(a*=r,c*=s,i*=r,o*=s,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(r-a,i)),o=Math.max(0,Math.min(s-c,o));break;case 90:i=Math.max(0,Math.min(r-c,i)),o=Math.min(s,Math.max(a,o));break;case 180:i=Math.min(r,Math.max(a,i)),o=Math.min(s,Math.max(c,o));break;case 270:i=Math.min(r,Math.max(c,i)),o=Math.max(0,Math.min(s-a,o));break}this.x=i/=r,this.y=o/=s;const[u,d]=this.getBaseTranslation();i+=u,o+=d,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return S(r=de,Bh,H0).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return S(r=de,Bh,H0).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,s]=this.parentDimensions,{style:i}=this.div;i.width=`${(100*e/r).toFixed(2)}%`,l(this,Ea)||(i.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,s=r.endsWith("%"),i=!l(this,Ea)&&t.endsWith("%");if(s&&i)return;const[o,a]=this.parentDimensions;s||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!l(this,Ea)&&!i&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=l(this,De))==null||e.finish()}async addEditToolbar(){return this._editToolbar||l(this,Ta)?this._editToolbar:(this._editToolbar=new k0(this),this.div.append(this._editToolbar.render()),l(this,De)&&await this._editToolbar.addAltText(l(this,De)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=l(this,De))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){l(this,De)||(lm.initialize(de._l10n),y(this,De,new lm(this)),l(this,Sa)&&(l(this,De).data=l(this,Sa),y(this,Sa,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=l(this,De))==null?void 0:e.data}set altTextData(e){l(this,De)&&(l(this,De).data=e)}get guessedAltText(){var e;return(e=l(this,De))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,De))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,De))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,De)&&!l(this,De).isEmpty()}hasAltTextData(){var e;return((e=l(this,De))==null?void 0:e.hasData())??!1}render(){var i;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=l(this,Oc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),S(this,re,G0).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),am(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,Pa)||y(this,Pa,new cm({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:S(this,re,aP).bind(this),onPinching:S(this,re,lP).bind(this),onPinchEnd:S(this,re,cP).bind(this),signal:this._uiManager._signal}))),(i=this._uiManager._editorUndoBar)==null||i.hide(),this.div}pointerdown(e){const{isMac:t}=nn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(y(this,_a,!0),this._isDraggable){S(this,re,uP).call(this,e);return}S(this,re,W0).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,cs)&&clearTimeout(l(this,cs)),y(this,cs,setTimeout(()=>{var e;y(this,cs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const s=this.parentScale,[i,o]=this.pageDimensions,[a,c]=this.pageTranslation,u=e/s,d=t/s,h=this.x*i,f=this.y*o,p=this.width*i,m=this.height*o;switch(r){case 0:return[h+u+a,o-f-d-m+c,h+u+p+a,o-f-d+c];case 90:return[h+d+a,o-f+u+c,h+d+m+a,o-f+u+p+c];case 180:return[h-u-p+a,o-f+d+c,h-u+a,o-f+d+m+c];case 270:return[h-d-m+a,o-f-u-p+c,h-d+a,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,s,i,o]=e,a=i-r,c=o-s;switch(this.rotation){case 0:return[r,t-o,a,c];case 90:return[r,t-s,c,a];case 180:return[i,t-s,a,c];case 270:return[i,t-o,c,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){y(this,Ta,!0)}disableEditMode(){y(this,Ta,!1)}isInEditMode(){return l(this,Ta)}shouldGetKeyboardEvents(){return l(this,Ws)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:s}=this.getClientDimensions(),{innerHeight:i,innerWidth:o}=window;return t<o&&s>0&&e<i&&r>0}rebuild(){S(this,re,G0).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Re("An editor must be serializable")}static async deserialize(e,t,r){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});s.rotation=e.rotation,y(s,Sa,e.accessibilityData);const[i,o]=s.pageDimensions,[a,c,u,d]=s.getRectInCurrentCoords(e.rect,o);return s.x=a/i,s.y=c/o,s.width=u/i,s.height=d/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=l(this,ro))==null||e.abort(),y(this,ro,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,cs)&&(clearTimeout(l(this,cs)),y(this,cs,null)),S(this,re,vd).call(this),this.removeEditToolbar(),l(this,Zn)){for(const r of l(this,Zn).values())clearTimeout(r);y(this,Zn,null)}this.parent=null,(t=l(this,Pa))==null||t.destroy(),y(this,Pa,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(S(this,re,iP).call(this),l(this,Ct).classList.remove("hidden"),am(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),y(this,Vs,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,Ct).children;if(!l(this,Pr)){y(this,Pr,Array.from(t));const o=S(this,re,dP).bind(this),a=S(this,re,hP).bind(this),c=this._uiManager._signal;for(const u of l(this,Pr)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",a,{signal:c}),u.addEventListener("focus",S(this,re,fP).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",de._l10nResizer[d])}}const r=l(this,Pr)[0];let s=0;for(const o of t){if(o===r)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(l(this,Pr).length/4);if(i!==s){if(i<s)for(let a=0;a<s-i;a++)l(this,Ct).append(l(this,Ct).firstChild);else if(i>s)for(let a=0;a<i-s;a++)l(this,Ct).firstChild.before(l(this,Ct).lastChild);let o=0;for(const a of t){const u=l(this,Pr)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",de._l10nResizer[u])}}S(this,re,X0).call(this,0),y(this,Ws,!0),l(this,Ct).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,Ws)&&S(this,re,V0).call(this,l(this,jh),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){S(this,re,vd).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,i;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(r=l(this,De))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,s,i;(e=l(this,Ct))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(i=l(this,De))==null||i.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return l(this,zh)}set isEditing(e){y(this,zh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){y(this,Ea,!0);const r=e/t,{style:s}=this.div;s.aspectRatio=r,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,Zn)||y(this,Zn,new Map);const{action:r}=e;let s=l(this,Zn).get(r);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),l(this,Zn).delete(r),l(this,Zn).size===0&&y(this,Zn,null)},de._telemetryTimeout),l(this,Zn).set(r,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),y(this,Oc,!1)}disable(){this.div&&(this.div.tabIndex=-1),y(this,Oc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Sa=new WeakMap,Pr=new WeakMap,De=new WeakMap,Oc=new WeakMap,no=new WeakMap,Fh=new WeakMap,Ea=new WeakMap,Ct=new WeakMap,Ca=new WeakMap,Vs=new WeakMap,ro=new WeakMap,jh=new WeakMap,_a=new WeakMap,Cn=new WeakMap,zh=new WeakMap,Ta=new WeakMap,Ws=new WeakMap,cs=new WeakMap,Fc=new WeakMap,jc=new WeakMap,Zn=new WeakMap,Pa=new WeakMap,$h=new WeakMap,wm=new WeakMap,re=new WeakSet,B0=function([e,t],r,s){[r,s]=this.screenToPageTranslation(r,s),this.x+=r/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Bh=new WeakSet,H0=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},tg=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},iP=function(){if(l(this,Ct))return;y(this,Ct,document.createElement("div")),l(this,Ct).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const s=document.createElement("div");l(this,Ct).append(s),s.classList.add("resizer",r),s.setAttribute("data-resizer-name",r),s.addEventListener("pointerdown",S(this,re,oP).bind(this,r),{signal:t}),s.addEventListener("contextmenu",Wr,{signal:t}),s.tabIndex=-1}this.div.prepend(l(this,Ct))},oP=function(e,t){var d;t.preventDefault();const{isMac:r}=nn.platform;if(t.button!==0||t.ctrlKey&&r)return;(d=l(this,De))==null||d.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,y(this,Ca,[t.screenX,t.screenY]);const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",S(this,re,V0).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",zn,{passive:!1,signal:o}),window.addEventListener("contextmenu",Wr,{signal:o}),y(this,Vs,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;i.abort(),this.parent.togglePointerEvents(!0),(h=l(this,De))==null||h.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=a,this.div.style.cursor=c,S(this,re,ng).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},U0=function(e,t,r,s){this.width=r,this.height=s,this.x=e,this.y=t;const[i,o]=this.parentDimensions;this.setDims(i*r,o*s),this.fixAndSetPosition(),this._onResized()},ng=function(){if(!l(this,Vs))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:s}=l(this,Vs);y(this,Vs,null);const i=this.x,o=this.y,a=this.width,c=this.height;i===e&&o===t&&a===r&&c===s||this.addCommands({cmd:S(this,re,U0).bind(this,i,o,a,c),undo:S(this,re,U0).bind(this,e,t,r,s),mustExec:!0})},V0=function(e,t){const[r,s]=this.parentDimensions,i=this.x,o=this.y,a=this.width,c=this.height,u=de.MIN_SIZE/r,d=de.MIN_SIZE/s,h=S(this,re,tg).call(this,this.rotation),f=(I,j)=>[h[0]*I+h[2]*j,h[1]*I+h[3]*j],p=S(this,re,tg).call(this,360-this.rotation),m=(I,j)=>[p[0]*I+p[2]*j,p[1]*I+p[3]*j];let g,b,v=!1,w=!1;switch(e){case"topLeft":v=!0,g=(I,j)=>[0,0],b=(I,j)=>[I,j];break;case"topMiddle":g=(I,j)=>[I/2,0],b=(I,j)=>[I/2,j];break;case"topRight":v=!0,g=(I,j)=>[I,0],b=(I,j)=>[0,j];break;case"middleRight":w=!0,g=(I,j)=>[I,j/2],b=(I,j)=>[0,j/2];break;case"bottomRight":v=!0,g=(I,j)=>[I,j],b=(I,j)=>[0,0];break;case"bottomMiddle":g=(I,j)=>[I/2,j],b=(I,j)=>[I/2,0];break;case"bottomLeft":v=!0,g=(I,j)=>[0,j],b=(I,j)=>[I,0];break;case"middleLeft":w=!0,g=(I,j)=>[0,j/2],b=(I,j)=>[I,j/2];break}const x=g(a,c),E=b(a,c);let T=f(...E);const P=de._round(i+T[0]),R=de._round(o+T[1]);let k=1,M=1,L,O;if(t.fromKeyboard)({deltaX:L,deltaY:O}=t);else{const{screenX:I,screenY:j}=t,[N,D]=l(this,Ca);[L,O]=this.screenToPageTranslation(I-N,j-D),l(this,Ca)[0]=I,l(this,Ca)[1]=j}if([L,O]=m(L/r,O/s),v){const I=Math.hypot(a,c);k=M=Math.max(Math.min(Math.hypot(E[0]-x[0]-L,E[1]-x[1]-O)/I,1/a,1/c),u/a,d/c)}else w?k=Math.max(u,Math.min(1,Math.abs(E[0]-x[0]-L)))/a:M=Math.max(d,Math.min(1,Math.abs(E[1]-x[1]-O)))/c;const $=de._round(a*k),q=de._round(c*M);T=f(...b($,q));const F=P-T[0],te=R-T[1];l(this,Cn)||y(this,Cn,[this.x,this.y,this.width,this.height]),this.width=$,this.height=q,this.x=F,this.y=te,this.setDims(r*$,s*q),this.fixAndSetPosition(),this._onResizing()},aP=function(){var e;y(this,Vs,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=l(this,De))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},lP=function(e,t,r){let i=.7*(r/t)+1-.7;if(i===1)return;const o=S(this,re,tg).call(this,this.rotation),a=(P,R)=>[o[0]*P+o[2]*R,o[1]*P+o[3]*R],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,m=de.MIN_SIZE/c,g=de.MIN_SIZE/u;i=Math.max(Math.min(i,1/f,1/p),m/f,g/p);const b=de._round(f*i),v=de._round(p*i);if(b===f&&v===p)return;l(this,Cn)||y(this,Cn,[d,h,f,p]);const w=a(f/2,p/2),x=de._round(d+w[0]),E=de._round(h+w[1]),T=a(b/2,v/2);this.x=x-T[0],this.y=E-T[1],this.width=b,this.height=v,this.setDims(c*b,u*v),this.fixAndSetPosition(),this._onResizing()},cP=function(){var e;(e=l(this,De))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),S(this,re,ng).call(this)},W0=function(e){const{isMac:t}=nn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},uP=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const s=new AbortController,i=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:i},a=u=>{s.abort(),y(this,no,null),y(this,_a,!1),this._uiManager.endDragSession()||S(this,re,W0).call(this,u),r&&this._onStopDragging()};t&&(y(this,Fc,e.clientX),y(this,jc,e.clientY),y(this,no,e.pointerId),y(this,Fh,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==l(this,no)){zn(u);return}const[p,m]=this.screenToPageTranslation(d-l(this,Fc),h-l(this,jc));y(this,Fc,d),y(this,jc,h),this._uiManager.dragSelectedEditors(p,m)},o),window.addEventListener("touchmove",zn,o),window.addEventListener("pointerdown",u=>{u.pointerType===l(this,Fh)&&(l(this,Pa)||u.isPrimary)&&a(u),zn(u)},o));const c=u=>{if(!l(this,no)||l(this,no)===u.pointerId){a(u);return}zn(u)};window.addEventListener("pointerup",c,{signal:i}),window.addEventListener("blur",c,{signal:i})},G0=function(){if(l(this,ro)||!this.div)return;y(this,ro,new AbortController);const e=this._uiManager.combinedSignal(l(this,ro));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},dP=function(e){de._resizerKeyboardManager.exec(this,e)},hP=function(e){var t;l(this,Ws)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,Ct)&&S(this,re,vd).call(this)},fP=function(e){y(this,jh,l(this,Ws)?e:"")},X0=function(e){if(l(this,Pr))for(const t of l(this,Pr))t.tabIndex=e},vd=function(){y(this,Ws,!1),S(this,re,X0).call(this,-1),S(this,re,ng).call(this)},A(de,Bh),ne(de,"_l10n",null),ne(de,"_l10nResizer",null),ne(de,"_borderLineWidth",-1),ne(de,"_colorManager",new L0),ne(de,"_zIndex",1),ne(de,"_telemetryTimeout",1e3);let Ge=de;class bj extends Ge{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const MS=3285377520,Yn=4294901760,qr=65535;class pP{constructor(e){this.h1=e?e&4294967295:MS,this.h2=e?e&4294967295:MS}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let g=0,b=e.length;g<b;g++){const v=e.charCodeAt(g);v<=255?t[r++]=v:(t[r++]=v>>>8,t[r++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=r>>2,i=r-s*4,o=new Uint32Array(t.buffer,0,s);let a=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&qr,m=f&qr;for(let g=0;g<s;g++)g&1?(a=o[g],a=a*h&Yn|a*p&qr,a=a<<15|a>>>17,a=a*f&Yn|a*m&qr,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[g],c=c*h&Yn|c*p&qr,c=c<<15|c>>>17,c=c*f&Yn|c*m&qr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,i){case 3:a^=t[s*4+2]<<16;case 2:a^=t[s*4+1]<<8;case 1:a^=t[s*4],a=a*h&Yn|a*p&qr,a=a<<15|a>>>17,a=a*f&Yn|a*m&qr,s&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Yn|e*36045&qr,t=t*4283543511&Yn|((t<<16|e>>>16)*2950163797&Yn)>>>16,e^=t>>>1,e=e*444984403&Yn|e*60499&qr,t=t*3301882366&Yn|((t<<16|e>>>16)*3120437893&Yn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Y0=Object.freeze({map:null,hash:"",transfer:void 0});var Ra,ka,vt,bm,gP;class hx{constructor(){A(this,bm);A(this,Ra,!1);A(this,ka,null);A(this,vt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=l(this,vt).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return l(this,vt).get(e)}remove(e){if(l(this,vt).delete(e),l(this,vt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of l(this,vt).values())if(t instanceof Ge)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=l(this,vt).get(e);let s=!1;if(r!==void 0)for(const[i,o]of Object.entries(t))r[i]!==o&&(s=!0,r[i]=o);else s=!0,l(this,vt).set(e,t);s&&S(this,bm,gP).call(this),t instanceof Ge&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return l(this,vt).has(e)}getAll(){return l(this,vt).size>0?ox(l(this,vt)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return l(this,vt).size}resetModified(){l(this,Ra)&&(y(this,Ra,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new mP(this)}get serializable(){if(l(this,vt).size===0)return Y0;const e=new Map,t=new pP,r=[],s=Object.create(null);let i=!1;for(const[o,a]of l(this,vt)){const c=a instanceof Ge?a.serialize(!1,s):a;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),i||(i=!!c.bitmap))}if(i)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:Y0}get editorStats(){let e=null;const t=new Map;for(const r of l(this,vt).values()){if(!(r instanceof Ge))continue;const s=r.telemetryFinalData;if(!s)continue;const{type:i}=s;t.has(i)||t.set(i,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[i]||(e[i]=new Map);for(const[a,c]of Object.entries(s)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(c)??0;u.set(c,d+1)}}for(const[r,s]of t)e[r]=s.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){y(this,ka,null)}get modifiedIds(){if(l(this,ka))return l(this,ka);const e=[];for(const t of l(this,vt).values())!(t instanceof Ge)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return y(this,ka,{ids:new Set(e),hash:e.join(",")})}}Ra=new WeakMap,ka=new WeakMap,vt=new WeakMap,bm=new WeakSet,gP=function(){l(this,Ra)||(y(this,Ra,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Hh;class mP extends hx{constructor(t){super();A(this,Hh);const{map:r,hash:s,transfer:i}=t.serializable,o=structuredClone(r,i?{transfer:i}:null);y(this,Hh,{map:o,hash:s,transfer:i})}get print(){Re("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,Hh)}get modifiedIds(){return fe(this,"modifiedIds",{ids:new Set,hash:""})}}Hh=new WeakMap;var zc;class xj{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){A(this,zc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,zc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||l(this,zc).has(e.loadedName))){if(st(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:i}=e,o=new FontFace(r,s,i);this.addNativeFontFace(o);try{await o.load(),l(this,zc).add(r),t==null||t(e)}catch{ue(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Re("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(s){throw ue(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const s=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return fe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Gt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),fe(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(st(!s.done,"completeRequest() cannot be called twice."),s.done=!0;r.length>0&&r[0].done;){const i=r.shift();setTimeout(i.callback,0)}}const{loadingRequests:r}=this,s={done:!1,complete:t,callback:e};return r.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return fe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(E,T){return E.charCodeAt(T)<<24|E.charCodeAt(T+1)<<16|E.charCodeAt(T+2)<<8|E.charCodeAt(T+3)&255}function s(E,T,P,R){const k=E.substring(0,T),M=E.substring(T+P);return k+R+M}let i,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let u=0;function d(E,T){if(++u>30){ue("Load test font never loaded."),T();return}if(c.font="30px "+E,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(d.bind(null,E,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,h.length,h);const m=16,g=1482184792;let b=r(f,m);for(i=0,o=h.length-3;i<o;i+=4)b=b-g+r(h,i)|0;i<h.length&&(b=b-g+r(h+"XXX",i)|0),f=s(f,m,4,oj(b));const v=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${v}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const E of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=E,x.append(T)}this._document.body.append(x),d(h,()=>{x.remove(),t.complete()})}}zc=new WeakMap;class Aj{constructor(e,{disableFontFace:t=!1,fontExtraProperties:r=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this.fontExtraProperties=r===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${hj(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let s;try{s=e.get(r)}catch(o){ue(`getPathGenerator - ignoring character: "${o}".`)}const i=new Path2D(s||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=i}}const _p={DATA:1,ERROR:2},nt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function NS(){}function cn(n){if(n instanceof zo||n instanceof T0||n instanceof uh||n instanceof PS||n instanceof om||n instanceof ay)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Re('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new zo(n.message);case"InvalidPDFException":return new T0(n.message);case"MissingPDFException":return new uh(n.message);case"PasswordException":return new PS(n.message,n.code);case"UnexpectedResponseException":return new om(n.message,n.status);case"UnknownErrorException":return new ay(n.message,n.details)}return new ay(n.message,n.toString())}var $c,cr,vP,yP,wP,rg;class yd{constructor(e,t,r){A(this,cr);A(this,$c,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",S(this,cr,vP).bind(this),{signal:l(this,$c).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},r)}catch(o){i.reject(o)}return i.promise}sendWithStream(e,t,r,s){const i=this.streamId++,o=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:a,action:e,streamId:i,data:t,desiredSize:u.desiredSize},s),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,c.postMessage({sourceName:o,targetName:a,stream:nt.PULL,streamId:i,desiredSize:u.desiredSize}),d.promise},cancel:u=>{st(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:o,targetName:a,stream:nt.CANCEL,streamId:i,reason:cn(u)}),d.promise}},r)}destroy(){var e;(e=l(this,$c))==null||e.abort(),y(this,$c,null)}}$c=new WeakMap,cr=new WeakSet,vP=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){S(this,cr,wP).call(this,e);return}if(e.callback){const r=e.callbackId,s=this.callbackCapabilities[r];if(!s)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===_p.DATA)s.resolve(e.data);else if(e.callback===_p.ERROR)s.reject(cn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,s=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(o){i.postMessage({sourceName:r,targetName:s,callback:_p.DATA,callbackId:e.callbackId,data:o})},function(o){i.postMessage({sourceName:r,targetName:s,callback:_p.ERROR,callbackId:e.callbackId,reason:cn(o)})});return}if(e.streamId){S(this,cr,yP).call(this,e);return}t(e.data)},yP=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,o=this,a=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:s,stream:nt.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:nt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){st(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:nt.ERROR,streamId:t,reason:cn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(a,e.data,c).then(function(){i.postMessage({sourceName:r,targetName:s,stream:nt.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:nt.START_COMPLETE,streamId:t,reason:cn(u)})})},wP=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case nt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(cn(e.reason));break;case nt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(cn(e.reason));break;case nt.PULL:if(!a){i.postMessage({sourceName:r,targetName:s,stream:nt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||NS).then(function(){i.postMessage({sourceName:r,targetName:s,stream:nt.PULL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:nt.PULL_COMPLETE,streamId:t,reason:cn(u)})});break;case nt.ENQUEUE:if(st(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case nt.CLOSE:if(st(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),S(this,cr,rg).call(this,o,t);break;case nt.ERROR:st(o,"error should have stream controller"),o.controller.error(cn(e.reason)),S(this,cr,rg).call(this,o,t);break;case nt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(cn(e.reason)),S(this,cr,rg).call(this,o,t);break;case nt.CANCEL:if(!a)break;const c=cn(e.reason);Promise.try(a.onCancel||NS,c).then(function(){i.postMessage({sourceName:r,targetName:s,stream:nt.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:nt.CANCEL_COMPLETE,streamId:t,reason:cn(u)})}),a.sinkCapability.reject(c),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},rg=async function(e,t){var r,s,i;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(s=e.pullCall)==null?void 0:s.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var Uh;class bP{constructor({enableHWA:e=!1}){A(this,Uh,!1);y(this,Uh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!l(this,Uh)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Re("Abstract method `_createCanvas` called.")}}Uh=new WeakMap;class Sj extends bP{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class xP{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class AP extends xP{async _fetch(e){const t=await yv(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):vv(t)}}class SP{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,s,i){return"none"}destroy(e=!1){}}var Ma,Bc,Gs,Xs,$t,Na,La,W,Ot,wd,zl,sg,$l,EP,q0,Bl,bd,xd,K0,Ad;class Ej extends SP{constructor({docId:t,ownerDocument:r=globalThis.document}){super();A(this,W);A(this,Ma);A(this,Bc);A(this,Gs);A(this,Xs);A(this,$t);A(this,Na);A(this,La,0);y(this,Xs,t),y(this,$t,r)}addFilter(t){if(!t)return"none";let r=l(this,W,Ot).get(t);if(r)return r;const[s,i,o]=S(this,W,sg).call(this,t),a=t.length===1?s:`${s}${i}${o}`;if(r=l(this,W,Ot).get(a),r)return l(this,W,Ot).set(t,r),r;const c=`g_${l(this,Xs)}_transfer_map_${ft(this,La)._++}`,u=S(this,W,$l).call(this,c);l(this,W,Ot).set(t,u),l(this,W,Ot).set(a,u);const d=S(this,W,Bl).call(this,c);return S(this,W,xd).call(this,s,i,o,d),u}addHCMFilter(t,r){var m;const s=`${t}-${r}`,i="base";let o=l(this,W,wd).get(i);if((o==null?void 0:o.key)===s||(o?((m=o.filter)==null||m.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},l(this,W,wd).set(i,o)),!t||!r))return o.url;const a=S(this,W,Ad).call(this,t);t=Q.makeHexColor(...a);const c=S(this,W,Ad).call(this,r);if(r=Q.makeHexColor(...c),l(this,W,zl).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let g=0;g<=255;g++){const b=g/255;u[g]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=u.join(","),h=`g_${l(this,Xs)}_hcm_filter`,f=o.filter=S(this,W,Bl).call(this,h);S(this,W,xd).call(this,d,d,d,f),S(this,W,q0).call(this,f);const p=(g,b)=>{const v=a[g]/255,w=c[g]/255,x=new Array(b+1);for(let E=0;E<=b;E++)x[E]=v+E/b*(w-v);return x.join(",")};return S(this,W,xd).call(this,p(0,5),p(1,5),p(2,5),f),o.url=S(this,W,$l).call(this,h),o.url}addAlphaFilter(t){let r=l(this,W,Ot).get(t);if(r)return r;const[s]=S(this,W,sg).call(this,[t]),i=`alpha_${s}`;if(r=l(this,W,Ot).get(i),r)return l(this,W,Ot).set(t,r),r;const o=`g_${l(this,Xs)}_alpha_map_${ft(this,La)._++}`,a=S(this,W,$l).call(this,o);l(this,W,Ot).set(t,a),l(this,W,Ot).set(i,a);const c=S(this,W,Bl).call(this,o);return S(this,W,K0).call(this,s,c),a}addLuminosityFilter(t){let r=l(this,W,Ot).get(t||"luminosity");if(r)return r;let s,i;if(t?([s]=S(this,W,sg).call(this,[t]),i=`luminosity_${s}`):i="luminosity",r=l(this,W,Ot).get(i),r)return l(this,W,Ot).set(t,r),r;const o=`g_${l(this,Xs)}_luminosity_map_${ft(this,La)._++}`,a=S(this,W,$l).call(this,o);l(this,W,Ot).set(t,a),l(this,W,Ot).set(i,a);const c=S(this,W,Bl).call(this,o);return S(this,W,EP).call(this,c),t&&S(this,W,K0).call(this,s,c),a}addHighlightHCMFilter(t,r,s,i,o){var w;const a=`${r}-${s}-${i}-${o}`;let c=l(this,W,wd).get(t);if((c==null?void 0:c.key)===a||(c?((w=c.filter)==null||w.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},l(this,W,wd).set(t,c)),!r||!s))return c.url;const[u,d]=[r,s].map(S(this,W,Ad).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[i,o].map(S(this,W,Ad).bind(this));f<h&&([h,f,p,m]=[f,h,m,p]),l(this,W,zl).style.color="";const g=(x,E,T)=>{const P=new Array(256),R=(f-h)/T,k=x/255,M=(E-x)/(255*T);let L=0;for(let O=0;O<=T;O++){const $=Math.round(h+O*R),q=k+O*M;for(let F=L;F<=$;F++)P[F]=q;L=$+1}for(let O=L;O<256;O++)P[O]=P[L-1];return P.join(",")},b=`g_${l(this,Xs)}_hcm_${t}_filter`,v=c.filter=S(this,W,Bl).call(this,b);return S(this,W,q0).call(this,v),S(this,W,xd).call(this,g(p[0],m[0],5),g(p[1],m[1],5),g(p[2],m[2],5),v),c.url=S(this,W,$l).call(this,b),c.url}destroy(t=!1){var r,s,i,o;t&&((r=l(this,Na))!=null&&r.size)||((s=l(this,Gs))==null||s.parentNode.parentNode.remove(),y(this,Gs,null),(i=l(this,Bc))==null||i.clear(),y(this,Bc,null),(o=l(this,Na))==null||o.clear(),y(this,Na,null),y(this,La,0))}}Ma=new WeakMap,Bc=new WeakMap,Gs=new WeakMap,Xs=new WeakMap,$t=new WeakMap,Na=new WeakMap,La=new WeakMap,W=new WeakSet,Ot=function(){return l(this,Bc)||y(this,Bc,new Map)},wd=function(){return l(this,Na)||y(this,Na,new Map)},zl=function(){if(!l(this,Gs)){const t=l(this,$t).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const s=l(this,$t).createElementNS(Ms,"svg");s.setAttribute("width",0),s.setAttribute("height",0),y(this,Gs,l(this,$t).createElementNS(Ms,"defs")),t.append(s),s.append(l(this,Gs)),l(this,$t).body.append(t)}return l(this,Gs)},sg=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,s,i]=t,o=new Array(256),a=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=s[u]/255,c[u]=i[u]/255;return[o.join(","),a.join(","),c.join(",")]},$l=function(t){if(l(this,Ma)===void 0){y(this,Ma,"");const r=l(this,$t).URL;r!==l(this,$t).baseURI&&(wv(r)?ue('#createUrl: ignore "data:"-URL for performance reasons.'):y(this,Ma,r.split("#",1)[0]))}return`url(${l(this,Ma)}#${t})`},EP=function(t){const r=l(this,$t).createElementNS(Ms,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},q0=function(t){const r=l(this,$t).createElementNS(Ms,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Bl=function(t){const r=l(this,$t).createElementNS(Ms,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),l(this,W,zl).append(r),r},bd=function(t,r,s){const i=l(this,$t).createElementNS(Ms,r);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),t.append(i)},xd=function(t,r,s,i){const o=l(this,$t).createElementNS(Ms,"feComponentTransfer");i.append(o),S(this,W,bd).call(this,o,"feFuncR",t),S(this,W,bd).call(this,o,"feFuncG",r),S(this,W,bd).call(this,o,"feFuncB",s)},K0=function(t,r){const s=l(this,$t).createElementNS(Ms,"feComponentTransfer");r.append(s),S(this,W,bd).call(this,s,"feFuncA",t)},Ad=function(t){return l(this,W,zl).style.color=t,dx(getComputedStyle(l(this,W,zl)).getPropertyValue("color"))};class CP{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class _P extends CP{async _fetch(e){const t=await yv(e,"arraybuffer");return new Uint8Array(t)}}Gt&&ue("Please use the `legacy` build in Node.js environments.");async function TP(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class Cj extends SP{}class _j extends bP{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Tj extends xP{async _fetch(e){return TP(e)}}class Pj extends CP{async _fetch(e){return TP(e)}}const Ut={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Q0(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,r),n.clip(s)}class fx{getPattern(){Re("Abstract method `getPattern` called.")}}class Rj extends fx{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,s){let i;if(s===Ut.STROKE||s===Ut.FILL){const o=t.current.getClippedPathBoundingBox(s,$e(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=Q.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Q0(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);i.setTransform(h)}else Q0(e,this._bbox),i=this._createGradient(e);return i}}function uy(n,e,t,r,s,i,o,a){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;c[t+1]>c[r+1]&&(f=t,t=r,r=f,f=i,i=o,o=f),c[r+1]>c[s+1]&&(f=r,r=s,s=f,f=o,o=a,a=f),c[t+1]>c[r+1]&&(f=t,t=r,r=f,f=i,i=o,o=f);const p=(c[t]+e.offsetX)*e.scaleX,m=(c[t+1]+e.offsetY)*e.scaleY,g=(c[r]+e.offsetX)*e.scaleX,b=(c[r+1]+e.offsetY)*e.scaleY,v=(c[s]+e.offsetX)*e.scaleX,w=(c[s+1]+e.offsetY)*e.scaleY;if(m>=w)return;const x=u[i],E=u[i+1],T=u[i+2],P=u[o],R=u[o+1],k=u[o+2],M=u[a],L=u[a+1],O=u[a+2],$=Math.round(m),q=Math.round(w);let F,te,I,j,N,D,H,J;for(let V=$;V<=q;V++){if(V<b){const ee=V<m?0:(m-V)/(m-b);F=p-(p-g)*ee,te=x-(x-P)*ee,I=E-(E-R)*ee,j=T-(T-k)*ee}else{let ee;V>w?ee=1:b===w?ee=0:ee=(b-V)/(b-w),F=g-(g-v)*ee,te=P-(P-M)*ee,I=R-(R-L)*ee,j=k-(k-O)*ee}let Z;V<m?Z=0:V>w?Z=1:Z=(m-V)/(m-w),N=p-(p-v)*Z,D=x-(x-M)*Z,H=E-(E-L)*Z,J=T-(T-O)*Z;const ie=Math.round(Math.min(F,N)),ke=Math.round(Math.max(F,N));let be=h*V+ie*4;for(let ee=ie;ee<=ke;ee++)Z=(F-ee)/(F-N),Z<0?Z=0:Z>1&&(Z=1),d[be++]=te-(te-D)*Z|0,d[be++]=I-(I-H)*Z|0,d[be++]=j-(j-J)*Z|0,d[be++]=255}}function kj(n,e,t){const r=e.coords,s=e.colors;let i,o;switch(e.type){case"lattice":const a=e.verticesPerRow,c=Math.floor(r.length/a)-1,u=a-1;for(i=0;i<c;i++){let d=i*a;for(let h=0;h<u;h++,d++)uy(n,t,r[d],r[d+1],r[d+a],s[d],s[d+1],s[d+a]),uy(n,t,r[d+a+1],r[d+1],r[d+a],s[d+a+1],s[d+1],s[d+a])}break;case"triangles":for(i=0,o=r.length;i<o;i+=3)uy(n,t,r[i],r[i+1],r[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class Mj extends fx{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,m=d/f,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/p,scaleY:1/m},b=h+2*2,v=f+2*2,w=r.getCanvas("mesh",b,v),x=w.context,E=x.createImageData(h,f);if(t){const P=E.data;for(let R=0,k=P.length;R<k;R+=4)P[R]=t[0],P[R+1]=t[1],P[R+2]=t[2],P[R+3]=255}for(const P of this._figures)kj(E,P,g);return x.putImageData(E,2,2),{canvas:w.canvas,offsetX:a-2*p,offsetY:c-2*m,scaleX:p,scaleY:m}}getPattern(e,t,r,s){Q0(e,this._bbox);let i;if(s===Ut.SHADING)i=Q.singularValueDecompose2dScale($e(e));else if(i=Q.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=Q.singularValueDecompose2dScale(this.matrix);i=[i[0]*a[0],i[1]*a[1]]}const o=this._createMeshCanvas(i,s===Ut.SHADING?null:this._background,t.cachedCanvases);return s!==Ut.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Nj extends fx{getPattern(){return"hotpink"}}function Lj(n){switch(n[0]){case"RadialAxial":return new Rj(n);case"Mesh":return new Mj(n);case"Dummy":return new Nj}throw new Error(`Unknown IR type: ${n[0]}`)}const LS={COLORED:1,UNCOLORED:2},xm=class xm{constructor(e,t,r,s,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:s,tilingType:i,color:o,canvasGraphicsFactory:a}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),mv("TilingType: "+i);const d=t[0],h=t[1],f=t[2],p=t[3],m=f-d,g=p-h,b=Q.singularValueDecompose2dScale(this.matrix),v=Q.singularValueDecompose2dScale(this.baseTransform),w=b[0]*v[0],x=b[1]*v[1];let E=m,T=g,P=!1,R=!1;const k=Math.ceil(c*w),M=Math.ceil(u*x),L=Math.ceil(m*w),O=Math.ceil(g*x);k>=L?E=c:P=!0,M>=O?T=u:R=!0;const $=this.getSizeAndScale(E,this.ctx.canvas.width,w),q=this.getSizeAndScale(T,this.ctx.canvas.height,x),F=e.cachedCanvases.getCanvas("pattern",$.size,q.size),te=F.context,I=a.createCanvasGraphics(te);if(I.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(I,s,o),te.translate(-$.scale*d,-q.scale*h),I.transform($.scale,0,0,q.scale,0,0),te.save(),this.clipBbox(I,d,h,f,p),I.baseTransform=$e(I.ctx),I.executeOperatorList(r),I.endDrawing(),te.restore(),P||R){const j=F.canvas;P&&(E=c),R&&(T=u);const N=this.getSizeAndScale(E,this.ctx.canvas.width,w),D=this.getSizeAndScale(T,this.ctx.canvas.height,x),H=N.size,J=D.size,V=e.cachedCanvases.getCanvas("pattern-workaround",H,J),Z=V.context,ie=P?Math.floor(m/c):0,ke=R?Math.floor(g/u):0;for(let be=0;be<=ie;be++)for(let ee=0;ee<=ke;ee++)Z.drawImage(j,H*be,J*ee,H,J,0,0,H,J);return{canvas:V.canvas,scaleX:N.scale,scaleY:D.scale,offsetX:d,offsetY:h}}return{canvas:F.canvas,scaleX:$.scale,scaleY:q.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,r){const s=Math.max(xm.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*r);return i>=s?i=s:r=i/e,{scale:r,size:i}}clipBbox(e,t,r,s,i){const o=s-t,a=i-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax($e(e.ctx),[t,r,s,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const s=e.ctx,i=e.current;switch(t){case LS.COLORED:const o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,i.fillColor=o.fillStyle,i.strokeColor=o.strokeStyle;break;case LS.UNCOLORED:const a=Q.makeHexColor(r[0],r[1],r[2]);s.fillStyle=a,s.strokeStyle=a,i.fillColor=a,i.strokeColor=a;break;default:throw new ij(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,s){let i=r;s!==Ut.SHADING&&(i=Q.transform(i,t.baseTransform),this.matrix&&(i=Q.transform(i,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(i);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(a),c}};ne(xm,"MAX_PATTERN_SIZE",3e3);let Z0=xm;function Ij({src:n,srcPos:e=0,dest:t,width:r,height:s,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const a=nn.isLittleEndian?4278190080:255,[c,u]=o?[i,a]:[a,i],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let m=0;m<s;m++){for(const b=e+d;e<b;e++){const v=e<f?n[e]:255;t[p++]=v&128?u:c,t[p++]=v&64?u:c,t[p++]=v&32?u:c,t[p++]=v&16?u:c,t[p++]=v&8?u:c,t[p++]=v&4?u:c,t[p++]=v&2?u:c,t[p++]=v&1?u:c}if(h===0)continue;const g=e<f?n[e++]:255;for(let b=0;b<h;b++)t[p++]=g&1<<7-b?u:c}return{srcPos:e,destPos:p}}const IS=16,DS=100,Dj=15,OS=10,FS=1e3,gn=16;function Oj(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,s){e.translate(r,s),this.__originalTranslate(r,s)},n.scale=function(r,s){e.scale(r,s),this.__originalScale(r,s)},n.transform=function(r,s,i,o,a,c){e.transform(r,s,i,o,a,c),this.__originalTransform(r,s,i,o,a,c)},n.setTransform=function(r,s,i,o,a,c){e.setTransform(r,s,i,o,a,c),this.__originalSetTransform(r,s,i,o,a,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,s,i,o,a){e.bezierCurveTo(t,r,s,i,o,a),this.__originalBezierCurveTo(t,r,s,i,o,a)},n.rect=function(t,r,s,i){e.rect(t,r,s,i),this.__originalRect(t,r,s,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Fj{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,r)):(s=this.canvasFactory.create(t,r),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Tp(n,e,t,r,s,i,o,a,c,u){const[d,h,f,p,m,g]=$e(n);if(h===0&&f===0){const w=o*d+m,x=Math.round(w),E=a*p+g,T=Math.round(E),P=(o+c)*d+m,R=Math.abs(Math.round(P)-x)||1,k=(a+u)*p+g,M=Math.abs(Math.round(k)-T)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),x,T),n.drawImage(e,t,r,s,i,0,0,R,M),n.setTransform(d,h,f,p,m,g),[R,M]}if(d===0&&p===0){const w=a*f+m,x=Math.round(w),E=o*h+g,T=Math.round(E),P=(a+u)*f+m,R=Math.abs(Math.round(P)-x)||1,k=(o+c)*h+g,M=Math.abs(Math.round(k)-T)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,x,T),n.drawImage(e,t,r,s,i,0,0,M,R),n.setTransform(d,h,f,p,m,g),[M,R]}n.drawImage(e,t,r,s,i,o,a,c,u);const b=Math.hypot(d,h),v=Math.hypot(f,p);return[b*c,v*u]}function jj(n){const{width:e,height:t}=n;if(e>FS||t>FS)return null;const r=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let o=new Uint8Array(i*(t+1)),a,c,u;const d=e+7&-8;let h=new Uint8Array(d*t),f=0;for(const v of n.data){let w=128;for(;w>0;)h[f++]=v&w?0:255,w>>=1}let p=0;for(f=0,h[f]!==0&&(o[0]=1,++p),c=1;c<e;c++)h[f]!==h[f+1]&&(o[c]=h[f]?2:1,++p),f++;for(h[f]!==0&&(o[c]=2,++p),a=1;a<t;a++){f=a*d,u=a*i,h[f-d]!==h[f]&&(o[u]=h[f]?1:8,++p);let v=(h[f]?4:0)+(h[f-d]?8:0);for(c=1;c<e;c++)v=(v>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),s[v]&&(o[u+c]=s[v],++p),f++;if(h[f-d]!==h[f]&&(o[u+c]=h[f]?2:4,++p),p>r)return null}for(f=d*(t-1),u=a*i,h[f]!==0&&(o[u]=8,++p),c=1;c<e;c++)h[f]!==h[f+1]&&(o[u+c]=h[f]?4:8,++p),f++;if(h[f]!==0&&(o[u+c]=4,++p),p>r)return null;const m=new Int32Array([0,i,-1,0,-i,0,0,0,1]),g=new Path2D;for(a=0;p&&a<=t;a++){let v=a*i;const w=v+e;for(;v<w&&!o[v];)v++;if(v===w)continue;g.moveTo(v%i,a);const x=v;let E=o[v];do{const T=m[E];do v+=T;while(!o[v]);const P=o[v];P!==5&&P!==10?(E=P,o[v]=0):(E=P&51*E>>4,o[v]&=E>>2|E<<2),g.lineTo(v%i,v/i|0),o[v]||--p}while(x!==v);--a}return h=null,o=null,function(v){v.save(),v.scale(1/e,-1/t),v.translate(0,-t),v.fill(g),v.beginPath(),v.restore()}}class jS{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=FT,this.textMatrixScale=1,this.fontMatrix=_0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Dt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Q.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=Q.applyTransform(t,e),s=Q.applyTransform(t.slice(2),e),i=Q.applyTransform([t[0],t[3]],e),o=Q.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],s[0],i[0],o[0]),this.minY=Math.min(this.minY,r[1],s[1],i[1],o[1]),this.maxX=Math.max(this.maxX,r[0],s[0],i[0],o[0]),this.maxY=Math.max(this.maxY,r[1],s[1],i[1],o[1])}updateScalingPathMinMax(e,t){Q.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,s,i,o,a,c,u,d){const h=Q.bezierBoundingBox(t,r,s,i,o,a,c,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Ut.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ut.STROKE){t||Re("Stroke bounding box must include transform.");const s=Q.singularValueDecompose2dScale(t),i=s[0]*this.lineWidth/2,o=s[1]*this.lineWidth/2;r[0]-=i,r[1]-=o,r[2]+=i,r[3]+=o}return r}updateClipFromPath(){const e=Q.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ut.FILL,t=null){return Q.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function zS(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,s=t%gn,i=(t-s)/gn,o=s===0?i:i+1,a=n.createImageData(r,gn);let c=0,u;const d=e.data,h=a.data;let f,p,m,g;if(e.kind===Yp.GRAYSCALE_1BPP){const b=d.byteLength,v=new Uint32Array(h.buffer,0,h.byteLength>>2),w=v.length,x=r+7>>3,E=4294967295,T=nn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<i?gn:s,u=0,p=0;p<m;p++){const P=b-c;let R=0;const k=P>x?r:P*8-7,M=k&-8;let L=0,O=0;for(;R<M;R+=8)O=d[c++],v[u++]=O&128?E:T,v[u++]=O&64?E:T,v[u++]=O&32?E:T,v[u++]=O&16?E:T,v[u++]=O&8?E:T,v[u++]=O&4?E:T,v[u++]=O&2?E:T,v[u++]=O&1?E:T;for(;R<k;R++)L===0&&(O=d[c++],L=128),v[u++]=O&L?E:T,L>>=1}for(;u<w;)v[u++]=0;n.putImageData(a,0,f*gn)}}else if(e.kind===Yp.RGBA_32BPP){for(p=0,g=r*gn*4,f=0;f<i;f++)h.set(d.subarray(c,c+g)),c+=g,n.putImageData(a,0,p),p+=gn;f<o&&(g=r*s*4,h.set(d.subarray(c,c+g)),n.putImageData(a,0,p))}else if(e.kind===Yp.RGB_24BPP)for(m=gn,g=r*m,f=0;f<o;f++){for(f>=i&&(m=s,g=r*m),u=0,p=g;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(a,0,f*gn)}else throw new Error(`bad image kind: ${e.kind}`)}function $S(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,s=t%gn,i=(t-s)/gn,o=s===0?i:i+1,a=n.createImageData(r,gn);let c=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<i?gn:s;({srcPos:c}=Ij({src:u,srcPos:c,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,h*gn)}}function id(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Pp(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Gt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function BS(n,e){if(e)return!0;const t=Q.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*$o.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const zj=["butt","round","square"],$j=["miter","round","bevel"],Bj={},HS={};var Gr,J0,ew,tw;const yx=class yx{constructor(e,t,r,s,i,{optionalContentConfig:o,markedContentStack:a=null},c,u){A(this,Gr);this.ctx=e,this.current=new jS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Fj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:s=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=a,r){const c=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...$e(this.compositeCtx))}this.ctx.save(),Pp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=$e(this.ctx)}executeOperatorList(e,t,r,s){const i=e.argsArray,o=e.fnArray;let a=t||0;const c=i.length;if(c===a)return a;const u=c-a>OS&&typeof r=="function",d=u?Date.now()+Dj:0;let h=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(s!==void 0&&a===s.nextBreakPoint)return s.breakIt(a,r),a;if(m=o[a],m!==Ar.dependency)this[m].apply(this,i[a]);else for(const g of i[a]){const b=g.startsWith("g_")?f:p;if(!b.has(g))return b.get(g,r),a}if(a++,a===c)return a;if(u&&++h>OS){if(Date.now()>d)return r(),a;h=0}}}endDrawing(){S(this,Gr,J0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),S(this,Gr,ew).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,s=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,c=s,u="prescale1",d,h;for(;i>2&&a>1||o>2&&c>1;){let f=a,p=c;i>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),i/=a/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,c,0,0,f,p),e=d.canvas,a=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:s}=e,i=this.current.fillColor,o=this.current.patternFill,a=$e(t);let c,u,d,h;if((e.bitmap||e.data)&&e.count>1){const k=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),i]),c=this._cachedBitmapsMap.get(k),c||(c=new Map,this._cachedBitmapsMap.set(k,c));const M=c.get(u);if(M&&!o){const L=Math.round(Math.min(a[0],a[2])+a[4]),O=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:L,offsetY:O}}d=M}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,s),$S(h.context,e));let f=Q.transform(a,[1/r,0,0,-1/s,0,0]);f=Q.transform(f,[1,0,0,1,0,-s]);const[p,m,g,b]=Q.getAxialAlignedBoundingBox([0,0,r,s],f),v=Math.round(g-p)||1,w=Math.round(b-m)||1,x=this.cachedCanvases.getCanvas("fillCanvas",v,w),E=x.context,T=p,P=m;E.translate(-T,-P),E.transform(...f),d||(d=this._scaleImage(h.canvas,Yr(E)),d=d.img,c&&o&&c.set(u,d)),E.imageSmoothingEnabled=BS($e(E),e.interpolate),Tp(E,d,0,0,d.width,d.height,0,0,r,s),E.globalCompositeOperation="source-in";const R=Q.transform(Yr(E),[1,0,0,1,-T,-P]);return E.fillStyle=o?i.getPattern(t,this,R,Ut.FILL):i,E.fillRect(0,0,r,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,x.canvas)),{canvas:x.canvas,offsetX:Math.round(T),offsetY:Math.round(P)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=zj[e]}setLineJoin(e){this.ctx.lineJoin=$j[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const i=this.ctx;i.setTransform(...$e(this.suspendedCtx)),id(this.suspendedCtx,i),Oj(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),id(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,s){const i=s[0],o=s[1],a=s[2]-i,c=s[3]-o;a===0||c===0||(this.genericComposeSMask(t.context,r,a,c,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,s,i,o,a,c,u,d,h){let f=e.canvas,p=c-d,m=u-h;if(o){const b=Q.makeHexColor(...o);if(p<0||m<0||p+r>f.width||m+s>f.height){const v=this.cachedCanvases.getCanvas("maskExtension",r,s),w=v.context;w.drawImage(f,-p,-m),w.globalCompositeOperation="destination-atop",w.fillStyle=b,w.fillRect(0,0,r,s),w.globalCompositeOperation="source-over",f=v.canvas,p=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(p,m,r,s),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=b,e.fillRect(p,m,r,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(c,u,r,s),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(f,p,m,r,s,c,u,r,s),t.restore()}save(){this.inSMaskMode?(id(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),id(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,s,i,o){this.ctx.transform(e,t,r,s,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const s=this.ctx,i=this.current;let o=i.x,a=i.y,c,u;const d=$e(s),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?r.slice(0):null;for(let p=0,m=0,g=e.length;p<g;p++)switch(e[p]|0){case Ar.rectangle:o=t[m++],a=t[m++];const b=t[m++],v=t[m++],w=o+b,x=a+v;s.moveTo(o,a),b===0||v===0?s.lineTo(w,x):(s.lineTo(w,a),s.lineTo(w,x),s.lineTo(o,x)),h||i.updateRectMinMax(d,[o,a,w,x]),s.closePath();break;case Ar.moveTo:o=t[m++],a=t[m++],s.moveTo(o,a),h||i.updatePathMinMax(d,o,a);break;case Ar.lineTo:o=t[m++],a=t[m++],s.lineTo(o,a),h||i.updatePathMinMax(d,o,a);break;case Ar.curveTo:c=o,u=a,o=t[m+4],a=t[m+5],s.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],o,a),i.updateCurvePathMinMax(d,c,u,t[m],t[m+1],t[m+2],t[m+3],o,a,f),m+=6;break;case Ar.curveTo2:c=o,u=a,s.bezierCurveTo(o,a,t[m],t[m+1],t[m+2],t[m+3]),i.updateCurvePathMinMax(d,c,u,o,a,t[m],t[m+1],t[m+2],t[m+3],f),o=t[m+2],a=t[m+3],m+=4;break;case Ar.curveTo3:c=o,u=a,o=t[m+2],a=t[m+3],s.bezierCurveTo(t[m],t[m+1],o,a,o,a),i.updateCurvePathMinMax(d,c,u,t[m],t[m+1],o,a,o,a,f),m+=4;break;case Ar.closePath:s.closePath();break}h&&i.updateScalingPathMinMax(d,f),i.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Yr(t),Ut.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let i=!1;s&&(t.save(),t.fillStyle=r.getPattern(t,this,Yr(t),Ut.FILL),i=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Bj}eoClip(){this.pendingClip=HS}beginText(){this.current.textMatrix=FT,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const r=new Path2D,s=t.getTransform().invertSelf();for(const{transform:i,x:o,y:a,fontSize:c,path:u}of e)r.addPath(u,new DOMMatrix(i).preMultiplySelf(s).translate(o,a).scale(c,-c));t.clip(r),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||_0,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ue("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const i=r.loadedName||"sans-serif",o=((d=r.systemFontInfo)==null?void 0:d.css)||`"${i}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const c=r.italic?"italic":"normal";let u=t;t<IS?u=IS:t>DS&&(u=DS),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,s,i,o){this.current.textMatrix=[e,t,r,s,i,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,s,i){const o=this.ctx,a=this.current,c=a.font,u=a.textRenderingMode,d=a.fontSize/a.fontSizeScale,h=u&Dt.FILL_STROKE_MASK,f=!!(u&Dt.ADD_TO_PATH_FLAG),p=a.patternFill&&!c.missingFile,m=a.patternStroke&&!c.missingFile;let g;if((c.disableFontFace||f||p||m)&&(g=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||p||m){if(o.save(),o.translate(t,r),o.scale(d,-d),h===Dt.FILL||h===Dt.FILL_STROKE)if(s){const b=o.getTransform();o.setTransform(...s),o.fill(S(this,Gr,tw).call(this,g,b,s))}else o.fill(g);if(h===Dt.STROKE||h===Dt.FILL_STROKE)if(i){const b=o.getTransform();o.setTransform(...i),o.stroke(S(this,Gr,tw).call(this,g,b,i))}else o.lineWidth/=d,o.stroke(g);o.restore()}else(h===Dt.FILL||h===Dt.FILL_STROKE)&&o.fillText(e,t,r),(h===Dt.STROKE||h===Dt.FILL_STROKE)&&o.strokeText(e,t,r);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:$e(o),x:t,y:r,fontSize:d,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){r=!0;break}return fe(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const i=this.ctx,o=t.fontSizeScale,a=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=r.vertical,p=f?1:-1,m=r.defaultVMetrics,g=s*t.fontMatrix[0],b=t.textRenderingMode===Dt.FILL&&!r.disableFontFace&&!t.patternFill;i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),u>0?i.scale(d,-1):i.scale(d,1);let v,w;if(t.patternFill){i.save();const R=t.fillColor.getPattern(i,this,Yr(i),Ut.FILL);v=$e(i),i.restore(),i.fillStyle=R}if(t.patternStroke){i.save();const R=t.strokeColor.getPattern(i,this,Yr(i),Ut.STROKE);w=$e(i),i.restore(),i.strokeStyle=R}let x=t.lineWidth;const E=t.textMatrixScale;if(E===0||x===0){const R=t.textRenderingMode&Dt.FILL_STROKE_MASK;(R===Dt.STROKE||R===Dt.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=E;if(o!==1&&(i.scale(o,o),x/=o),i.lineWidth=x,r.isInvalidPDFjsFont){const R=[];let k=0;for(const M of e)R.push(M.unicode),k+=M.width;i.fillText(R.join(""),0,0),t.x+=k*g*d,i.restore(),this.compose();return}let T=0,P;for(P=0;P<h;++P){const R=e[P];if(typeof R=="number"){T+=p*R*s/1e3;continue}let k=!1;const M=(R.isSpace?c:0)+a,L=R.fontChar,O=R.accent;let $,q,F=R.width;if(f){const I=R.vmetric||m,j=-(R.vmetric?I[1]:F*.5)*g,N=I[2]*g;F=I?-I[0]:F,$=j/o,q=(T+N)/o}else $=T/o,q=0;if(r.remeasure&&F>0){const I=i.measureText(L).width*1e3/s*o;if(F<I&&this.isFontSubpixelAAEnabled){const j=F/I;k=!0,i.save(),i.scale(j,1),$/=j}else F!==I&&($+=(F-I)/2e3*s/o)}if(this.contentVisible&&(R.isInFont||r.missingFile)){if(b&&!O)i.fillText(L,$,q);else if(this.paintChar(L,$,q,v,w),O){const I=$+s*O.offset.x/o,j=q-s*O.offset.y/o;this.paintChar(O.fontChar,I,j,v,w)}}const te=f?F*g-M*u:F*g+M*u;T+=te,k&&i.restore()}f?t.y-=T:t.x+=T*d,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,s=r.font,i=r.fontSize,o=r.fontDirection,a=s.vertical?1:-1,c=r.charSpacing,u=r.wordSpacing,d=r.textHScale*o,h=r.fontMatrix||_0,f=e.length,p=r.textRenderingMode===Dt.INVISIBLE;let m,g,b,v;if(!(p||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(d,o),m=0;m<f;++m){if(g=e[m],typeof g=="number"){v=a*g*i/1e3,this.ctx.translate(v,0),r.x+=v*d;continue}const w=(g.isSpace?u:0)+c,x=s.charProcOperatorList[g.operatorListId];if(!x){ue(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),t.scale(i,i),t.transform(...h),this.executeOperatorList(x),this.restore()),b=Q.applyTransform([g.width,0],h)[0]*i+w,t.translate(b,0),r.x+=b*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,s,i,o){this.ctx.rect(r,s,i-r,o-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],s=this.baseTransform||$e(this.ctx),i={createCanvasGraphics:o=>new yx(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Z0(e,r,this.ctx,i,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=Q.makeHexColor(e,t,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=Q.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Lj(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Yr(t),Ut.SHADING);const s=Yr(t);if(s){const{width:i,height:o}=t.canvas,[a,c,u,d]=Q.getAxialAlignedBoundingBox([0,0,i,o],s);this.ctx.fillRect(a,c,u-a,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Re("Should not call beginInlineImage")}beginImageData(){Re("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=$e(this.ctx),t)){const r=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],r,s),this.current.updateRectMinMax($e(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||mv("TODO: Support non-isolated groups."),e.knockout&&ue("Knockout groups not supported.");const r=$e(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Q.getAxialAlignedBoundingBox(e.bbox,$e(t));const i=[0,0,t.canvas.width,t.canvas.height];s=Q.intersect(s,i)||[0,0,0,0];const o=Math.floor(s[0]),a=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-a,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),id(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=$e(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const i=Q.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,r,s,i){if(S(this,Gr,J0).call(this),Pp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[c,u]=Q.singularValueDecompose2dScale($e(this.ctx)),{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,a*u),Pp(this.ctx)}else Pp(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new jS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),S(this,Gr,ew).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=jj(e)),s.compiled)){s.compiled(r);return}const i=this._createMaskCanvas(e),o=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,s=0,i,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const c=$e(a);a.transform(t,r,s,i,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let d=0,h=o.length;d<h;d+=2){const f=Q.transform(c,[t,r,s,i,o[d],o[d+1]]),[p,m]=Q.applyTransform([0,0],f);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,s=this.current.patternFill;for(const i of e){const{data:o,width:a,height:c,transform:u}=i,d=this.cachedCanvases.getCanvas("maskCanvas",a,c),h=d.context;h.save();const f=this.getObject(o,i);$S(h,f),h.globalCompositeOperation="source-in",h.fillStyle=s?r.getPattern(h,this,Yr(t),Ut.FILL):r,h.fillRect(0,0,a,c),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),Tp(t,d.canvas,0,0,a,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,s){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){ue("Dependent image isn't ready yet");return}const o=i.width,a=i.height,c=[];for(let u=0,d=s.length;u<d;u+=2)c.push({transform:[t,0,0,r,s[u],s[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(i,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",r,s),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,s=this.ctx;if(this.save(),!Gt){const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none")}s.scale(1/t,-1/r);let i;if(e.bitmap)i=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)i=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;zS(c,e),i=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(i,Yr(s));s.imageSmoothingEnabled=BS($e(s),e.interpolate),Tp(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const i=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",i,o).context;zS(c,e),s=this.applyTransferMapsToCanvas(c)}for(const i of t)r.save(),r.transform(...i.transform),r.scale(1,-1),Tp(r,s,i.x,i.y,i.w,i.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===HS?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=$e(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:s,d:i}=this.ctx.getTransform();let o,a;if(r===0&&s===0){const c=Math.abs(t),u=Math.abs(i);if(c===u)if(e===0)o=a=1/c;else{const d=c*e;o=a=d<1?1/d:1}else if(e===0)o=1/c,a=1/u;else{const d=c*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const c=Math.abs(t*i-r*s),u=Math.hypot(t,r),d=Math.hypot(s,i);if(e===0)o=d/c,a=u/c;else{const h=e*c;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[s,i]=this.getScaleForStroking();if(t.lineWidth=r||1,s===1&&i===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(s,i),o.length>0){const a=Math.max(s,i);t.setLineDash(o.map(c=>c/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Gr=new WeakSet,J0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ew=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},tw=function(e,t,r){const s=new Path2D;return s.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),s};let gc=yx;for(const n in Ar)gc.prototype[n]!==void 0&&(gc.prototype[Ar[n]]=gc.prototype[n]);var Vh,Wh;class ui{static get workerPort(){return l(this,Vh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");y(this,Vh,e)}static get workerSrc(){return l(this,Wh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");y(this,Wh,e)}}Vh=new WeakMap,Wh=new WeakMap,A(ui,Vh,null),A(ui,Wh,"");var Ia,Gh;class Hj{constructor({parsedData:e,rawData:t}){A(this,Ia);A(this,Gh);y(this,Ia,e),y(this,Gh,t)}getRaw(){return l(this,Gh)}get(e){return l(this,Ia).get(e)??null}getAll(){return ox(l(this,Ia))}has(e){return l(this,Ia).has(e)}}Ia=new WeakMap,Gh=new WeakMap;const Hl=Symbol("INTERNAL");var Xh,Yh,qh,Hc;class Uj{constructor(e,{name:t,intent:r,usage:s,rbGroups:i}){A(this,Xh,!1);A(this,Yh,!1);A(this,qh,!1);A(this,Hc,!0);y(this,Xh,!!(e&Dn.DISPLAY)),y(this,Yh,!!(e&Dn.PRINT)),this.name=t,this.intent=r,this.usage=s,this.rbGroups=i}get visible(){if(l(this,qh))return l(this,Hc);if(!l(this,Hc))return!1;const{print:e,view:t}=this.usage;return l(this,Xh)?(t==null?void 0:t.viewState)!=="OFF":l(this,Yh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Hl&&Re("Internal method `_setVisible` called."),y(this,qh,r),y(this,Hc,t)}}Xh=new WeakMap,Yh=new WeakMap,qh=new WeakMap,Hc=new WeakMap;var so,Ee,Uc,Vc,Kh,nw;class Vj{constructor(e,t=Dn.DISPLAY){A(this,Kh);A(this,so,null);A(this,Ee,new Map);A(this,Uc,null);A(this,Vc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,y(this,Vc,e.order);for(const r of e.groups)l(this,Ee).set(r.id,new Uj(t,r));if(e.baseState==="OFF")for(const r of l(this,Ee).values())r._setVisible(Hl,!1);for(const r of e.on)l(this,Ee).get(r)._setVisible(Hl,!0);for(const r of e.off)l(this,Ee).get(r)._setVisible(Hl,!1);y(this,Uc,this.getHash())}}isVisible(e){if(l(this,Ee).size===0)return!0;if(!e)return mv("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,Ee).has(e.id)?l(this,Ee).get(e.id).visible:(ue(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return S(this,Kh,nw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,Ee).has(t))return ue(`Optional content group not found: ${t}`),!0;if(l(this,Ee).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,Ee).has(t))return ue(`Optional content group not found: ${t}`),!0;if(!l(this,Ee).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,Ee).has(t))return ue(`Optional content group not found: ${t}`),!0;if(!l(this,Ee).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,Ee).has(t))return ue(`Optional content group not found: ${t}`),!0;if(l(this,Ee).get(t).visible)return!1}return!0}return ue(`Unknown optional content policy ${e.policy}.`),!0}return ue(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var i;const s=l(this,Ee).get(e);if(!s){ue(`Optional content group not found: ${e}`);return}if(r&&t&&s.rbGroups.length)for(const o of s.rbGroups)for(const a of o)a!==e&&((i=l(this,Ee).get(a))==null||i._setVisible(Hl,!1,!0));s._setVisible(Hl,!!t,!0),y(this,so,null)}setOCGState({state:e,preserveRB:t}){let r;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":r=s;continue}const i=l(this,Ee).get(s);if(i)switch(r){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!i.visible,t);break}}y(this,so,null)}get hasInitialVisibility(){return l(this,Uc)===null||this.getHash()===l(this,Uc)}getOrder(){return l(this,Ee).size?l(this,Vc)?l(this,Vc).slice():[...l(this,Ee).keys()]:null}getGroups(){return l(this,Ee).size>0?ox(l(this,Ee)):null}getGroup(e){return l(this,Ee).get(e)||null}getHash(){if(l(this,so)!==null)return l(this,so);const e=new pP;for(const[t,r]of l(this,Ee))e.update(`${t}:${r.visible}`);return y(this,so,e.hexdigest())}}so=new WeakMap,Ee=new WeakMap,Uc=new WeakMap,Vc=new WeakMap,Kh=new WeakSet,nw=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let s=1;s<t;s++){const i=e[s];let o;if(Array.isArray(i))o=S(this,Kh,nw).call(this,i);else if(l(this,Ee).has(i))o=l(this,Ee).get(i).visible;else return ue(`Optional content group not found: ${i}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class Wj{constructor(e,{disableRange:t=!1,disableStream:r=!1}){st(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(i==null?void 0:i.length)>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const s=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(r),!0)});st(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,s,i;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(i=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||i.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){st(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Gj(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Xj(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Gj{constructor(e,t,r=!1,s=null){this._stream=e,this._done=r||!1,this._filename=cx(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Xj{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Yj(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=c(d),d=u(d),i(d)}if(t=o(n),t){const d=u(t);return i(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),i(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function s(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=vv(h);h=f.decode(p),e=!1}catch{}}return h}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=s("utf-8",d),e&&(d=s("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,g,b,v]=f;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[b,v]}const m=[];for(let g=0;g<h.length&&g in h;++g){let[b,v]=h[g];v=a(v),b&&(v=unescape(v),g===0&&(v=c(v))),m.push(v)}return m.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),m=d.slice(h+1).replace(/^[^']*'/,"");return s(f,m)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,b){return String.fromCharCode(parseInt(b,16))}),s(f,m);try{m=atob(m)}catch{}return s(f,m)})}return""}function PP(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const s=e[r];s!==void 0&&t.append(r,s)}return t}function bv(n){try{return new URL(n).origin}catch{}return null}function RP({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function kP(n){const e=n.get("Content-Disposition");if(e){let t=Yj(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(cx(t))return t}return null}function xv(n,e){return n===404||n===0&&e.startsWith("file:")?new uh('Missing PDF "'+e+'".'):new om(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function MP(n){return n===200||n===206}function NP(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function LP(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ue(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class US{constructor(e){ne(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=PP(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return st(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new qj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Kj(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class qj{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),s=t.url;fetch(s,NP(r,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=bv(i.url),!MP(i.status))throw xv(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:a,suggestedLength:c}=RP({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=kP(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new zo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:LP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Kj{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${r-1}`);const o=s.url;fetch(o,NP(i,this._withCredentials,this._abortController)).then(a=>{const c=bv(a.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!MP(a.status))throw xv(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:LP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const dy=200,hy=206;function Qj(n){const e=n.response;return typeof e!="string"?e:vv(e).buffer}class Zj{constructor({url:e,httpHeaders:t,withCredentials:r}){ne(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=PP(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,s=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,o]of this.headers)t.setRequestHeader(i,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=hy):s.expectedStatus=dy,t.responseType="arraybuffer",st(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var s;const r=this.pendingRequests[e];r&&((s=r.onProgress)==null||s.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const s=r.xhr;if(s.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){r.onError(s.status);return}const i=s.status||dy;if(!(i===dy&&r.expectedStatus===hy)&&i!==r.expectedStatus){r.onError(s.status);return}const a=Qj(s);if(i===hy){const c=s.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?r.onDone({begin:parseInt(u[1],10),chunk:a}):(ue('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Jj{constructor(e){this._source=e,this._manager=new Zj(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return st(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ez(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new tz(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class ez{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=bv(t.responseURL);const r=t.getAllResponseHeaders(),s=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[c,...u]=a.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:o}=RP({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=kP(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=xv(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class tz{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=bv((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=xv(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const nz=/^[a-z][a-z0-9\-+.]+:/i;function rz(n){if(nz.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class sz{constructor(e){this.source=e,this.url=rz(e.url),st(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return st(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new iz(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new oz(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class iz{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new uh(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new zo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class oz{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const az=1e5,ln=30,lz=.8;var nE,io,hn,Qh,Zh,Da,Ys,Jh,ef,Oa,Wc,Gc,oo,Xc,tf,Yc,Fa,nf,rf,ja,za,sf,ao,qc,Si,IP,DP,rw,Un,ig,sw,OP,FP;const at=class at{constructor({textContentSource:e,container:t,viewport:r}){A(this,Si);A(this,io,Promise.withResolvers());A(this,hn,null);A(this,Qh,!1);A(this,Zh,!!((nE=globalThis.FontInspector)!=null&&nE.enabled));A(this,Da,null);A(this,Ys,null);A(this,Jh,0);A(this,ef,0);A(this,Oa,null);A(this,Wc,null);A(this,Gc,0);A(this,oo,0);A(this,Xc,Object.create(null));A(this,tf,[]);A(this,Yc,null);A(this,Fa,[]);A(this,nf,new WeakMap);A(this,rf,null);var c;if(e instanceof ReadableStream)y(this,Yc,e);else if(typeof e=="object")y(this,Yc,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');y(this,hn,y(this,Wc,t)),y(this,oo,r.scale*(globalThis.devicePixelRatio||1)),y(this,Gc,r.rotation),y(this,Ys,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:i,pageX:o,pageY:a}=r.rawDims;y(this,rf,[1,0,0,-1,-o,a+i]),y(this,ef,s),y(this,Jh,i),S(c=at,Un,OP).call(c),Sl(t,r),l(this,io).promise.finally(()=>{l(at,qc).delete(this),y(this,Ys,null),y(this,Xc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=nn.platform;return fe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,Oa).read().then(({value:t,done:r})=>{if(r){l(this,io).resolve();return}l(this,Da)??y(this,Da,t.lang),Object.assign(l(this,Xc),t.styles),S(this,Si,IP).call(this,t.items),e()},l(this,io).reject)};return y(this,Oa,l(this,Yc).getReader()),l(at,qc).add(this),e(),l(this,io).promise}update({viewport:e,onBefore:t=null}){var i;const r=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==l(this,Gc)&&(t==null||t(),y(this,Gc,s),Sl(l(this,Wc),{rotation:s})),r!==l(this,oo)){t==null||t(),y(this,oo,r);const o={div:null,properties:null,ctx:S(i=at,Un,ig).call(i,l(this,Da))};for(const a of l(this,Fa))o.properties=l(this,nf).get(a),o.div=a,S(this,Si,rw).call(this,o)}}cancel(){var t;const e=new zo("TextLayer task cancelled.");(t=l(this,Oa))==null||t.cancel(e).catch(()=>{}),y(this,Oa,null),l(this,io).reject(e)}get textDivs(){return l(this,Fa)}get textContentItemsStr(){return l(this,tf)}static cleanup(){if(!(l(this,qc).size>0)){l(this,ja).clear();for(const{canvas:e}of l(this,za).values())e.remove();l(this,za).clear()}}};io=new WeakMap,hn=new WeakMap,Qh=new WeakMap,Zh=new WeakMap,Da=new WeakMap,Ys=new WeakMap,Jh=new WeakMap,ef=new WeakMap,Oa=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,oo=new WeakMap,Xc=new WeakMap,tf=new WeakMap,Yc=new WeakMap,Fa=new WeakMap,nf=new WeakMap,rf=new WeakMap,ja=new WeakMap,za=new WeakMap,sf=new WeakMap,ao=new WeakMap,qc=new WeakMap,Si=new WeakSet,IP=function(e){var s,i;if(l(this,Qh))return;(i=l(this,Ys)).ctx??(i.ctx=S(s=at,Un,ig).call(s,l(this,Da)));const t=l(this,Fa),r=l(this,tf);for(const o of e){if(t.length>az){ue("Ignoring additional textDivs for performance reasons."),y(this,Qh,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=l(this,hn);y(this,hn,document.createElement("span")),l(this,hn).classList.add("markedContent"),o.id!==null&&l(this,hn).setAttribute("id",`${o.id}`),a.append(l(this,hn))}else o.type==="endMarkedContent"&&y(this,hn,l(this,hn).parentNode);continue}r.push(o.str),S(this,Si,DP).call(this,o)}},DP=function(e){var g;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,Fa).push(t);const s=Q.transform(l(this,rf),e.transform);let i=Math.atan2(s[1],s[0]);const o=l(this,Xc)[e.fontName];o.vertical&&(i+=Math.PI/2);let a=l(this,Zh)&&o.fontSubstitution||o.fontFamily;a=at.fontFamilyMap.get(a)||a;const c=Math.hypot(s[2],s[3]),u=c*S(g=at,Un,FP).call(g,a,l(this,Da));let d,h;i===0?(d=s[4],h=s[5]-u):(d=s[4]+u*Math.sin(i),h=s[5]-u*Math.cos(i));const f="calc(var(--scale-factor)*",p=t.style;l(this,hn)===l(this,Wc)?(p.left=`${(100*d/l(this,ef)).toFixed(2)}%`,p.top=`${(100*h/l(this,Jh)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(l(at,ao)*c).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,Zh)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),i!==0&&(r.angle=i*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);b!==v&&Math.max(b,v)/Math.min(b,v)>1.5&&(m=!0)}if(m&&(r.canvasWidth=o.vertical?e.height:e.width),l(this,nf).set(t,r),l(this,Ys).div=t,l(this,Ys).properties=r,S(this,Si,rw).call(this,l(this,Ys)),r.hasText&&l(this,hn).append(t),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),l(this,hn).append(b)}},rw=function(e){var a;const{div:t,properties:r,ctx:s}=e,{style:i}=t;let o="";if(l(at,ao)>1&&(o=`scale(${1/l(at,ao)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=i,{canvasWidth:u,fontSize:d}=r;S(a=at,Un,sw).call(a,s,d*l(this,oo),c);const{width:h}=s.measureText(t.textContent);h>0&&(o=`scaleX(${u*l(this,oo)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(i.transform=o)},Un=new WeakSet,ig=function(e=null){let t=l(this,za).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,za).set(e,t),l(this,sf).set(t,{size:0,family:""})}return t},sw=function(e,t,r){const s=l(this,sf).get(e);t===s.size&&r===s.family||(e.font=`${t}px ${r}`,s.size=t,s.family=r)},OP=function(){if(l(this,ao)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),y(this,ao,e.getBoundingClientRect().height),e.remove()},FP=function(e,t){const r=l(this,ja).get(e);if(r)return r;const s=S(this,Un,ig).call(this,t);s.canvas.width=s.canvas.height=ln,S(this,Un,sw).call(this,s,ln,e);const i=s.measureText("");let o=i.fontBoundingBoxAscent,a=Math.abs(i.fontBoundingBoxDescent);if(o){const d=o/(o+a);return l(this,ja).set(e,d),s.canvas.width=s.canvas.height=0,d}s.strokeStyle="red",s.clearRect(0,0,ln,ln),s.strokeText("g",0,0);let c=s.getImageData(0,0,ln,ln).data;a=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){a=Math.ceil(d/4/ln);break}s.clearRect(0,0,ln,ln),s.strokeText("A",0,ln),c=s.getImageData(0,0,ln,ln).data,o=0;for(let d=0,h=c.length;d<h;d+=4)if(c[d]>0){o=ln-Math.floor(d/4/ln);break}s.canvas.width=s.canvas.height=0;const u=o?o/(o+a):lz;return l(this,ja).set(e,u),u},A(at,Un),A(at,ja,new Map),A(at,za,new Map),A(at,sf,new WeakMap),A(at,ao,null),A(at,qc,new Set);let dh=at;class hh{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function s(i){var c;if(!i)return;let o=null;const a=i.name;if(a==="#text")o=i.value;else if(hh.shouldBuildText(a))(c=i==null?void 0:i.attributes)!=null&&c.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&t.push({str:o}),!!i.children)for(const u of i.children)s(u)}return s(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const cz=65536,uz=100,dz=5e3,hz=Gt?_j:Sj,fz=Gt?Tj:AP,pz=Gt?Cj:Ej,gz=Gt?Pj:_P;function mz(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new iw,{docId:t}=e,r=n.url?vz(n.url):null,s=n.data?yz(n.data):null,i=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,c=n.range instanceof jP?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:cz;let d=n.worker instanceof mc?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!wv(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,g=n.CMapReaderFactory||fz,b=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,v=n.StandardFontDataFactory||gz,w=n.stopAtErrors!==!0,x=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,E=n.isEvalSupported!==!1,T=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Gt,P=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Gt&&(nn.platform.isFirefox||!globalThis.chrome),R=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,k=typeof n.disableFontFace=="boolean"?n.disableFontFace:Gt,M=n.fontExtraProperties===!0,L=n.enableXfa===!0,O=n.ownerDocument||globalThis.document,$=n.disableRange===!0,q=n.disableStream===!0,F=n.disableAutoFetch===!0,te=n.pdfBug===!0,I=n.CanvasFactory||hz,j=n.FilterFactory||pz,N=n.enableHWA===!0,D=c?c.length:n.length??NaN,H=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Gt&&!k,J=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:g===AP&&v===_P&&p&&b&&pd(p,document.baseURI)&&pd(b,document.baseURI),V=null;tj(h);const Z={canvasFactory:new I({ownerDocument:O,enableHWA:N}),filterFactory:new j({docId:t,ownerDocument:O}),cMapReaderFactory:J?null:new g({baseUrl:p,isCompressed:m}),standardFontDataFactory:J?null:new v({baseUrl:b})};if(!d){const be={verbosity:h,port:ui.workerPort};d=be.port?mc.fromPort(be):new mc(be),e._worker=d}const ie={docId:t,apiVersion:"4.10.38",data:s,password:a,disableAutoFetch:F,rangeChunkSize:u,length:D,docBaseUrl:f,enableXfa:L,evaluatorOptions:{maxImageSize:x,disableFontFace:k,ignoreErrors:w,isEvalSupported:E,isOffscreenCanvasSupported:T,isImageDecoderSupported:P,canvasMaxAreaInBytes:R,fontExtraProperties:M,useSystemFonts:H,cMapUrl:J?p:null,standardFontDataUrl:J?b:null}},ke={disableFontFace:k,fontExtraProperties:M,ownerDocument:O,pdfBug:te,styleElement:V,loadingParams:{disableAutoFetch:F,enableXfa:L}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const be=d.messageHandler.sendWithPromise("GetDocRequest",ie,s?[s.buffer]:null);let ee;if(c)ee=new Wj(c,{disableRange:$,disableStream:q});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");let An;if(Gt)if(pd(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");An=US}else An=sz;else An=pd(r)?US:Jj;ee=new An({url:r,length:D,httpHeaders:i,withCredentials:o,rangeChunkSize:u,disableRange:$,disableStream:q})}return be.then(An=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const fr=new yd(t,An,d.port),Ps=new Az(fr,e,ee,ke,Z);e._transport=Ps,fr.send("Ready",null)})}).catch(e._capability.reject),e}function vz(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Gt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function yz(n){if(Gt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return vv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function VS(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Am;const Sm=class Sm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ft(Sm,Am)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}};Am=new WeakMap,A(Sm,Am,0);let iw=Sm;class jP{constructor(e,t,r=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Re("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class wz{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return fe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var lo,qs,ir,Ul,og;class bz{constructor(e,t,r,s=!1){A(this,ir);A(this,lo,null);A(this,qs,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=s?new kS:null,this._pdfBug=s,this.commonObjs=r.commonObjs,this.objs=new zP,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:s=0,dontFlip:i=!1}={}){return new Qf({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return fe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:s=zi.ENABLE,transform:i=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){var E,T;(E=this._stats)==null||E.time("Overall");const f=this._transport.getRenderingIntent(r,s,d,h),{renderingIntent:p,cacheKey:m}=f;y(this,qs,!1),S(this,ir,og).call(this),a||(a=this._transport.getOptionalContentConfig(p));let g=this._intentStates.get(m);g||(g=Object.create(null),this._intentStates.set(m,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const b=!!(p&Dn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(f));const v=P=>{var R;g.renderTasks.delete(w),(this._maybeCleanupAfterRender||b)&&y(this,qs,!0),S(this,ir,Ul).call(this,!b),P?(w.capability.reject(P),this._abortOperatorList({intentState:g,reason:P instanceof Error?P:new Error(P)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(R=globalThis.Stats)!=null&&R.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new aw({callback:v,params:{canvasContext:e,viewport:t,transform:i,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(w);const x=w.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([P,R])=>{var k;if(this.destroyed){v();return}if((k=this._stats)==null||k.time("Rendering"),!(R.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:P,optionalContentConfig:R}),w.operatorListChanged()}).catch(v),x}getOperatorList({intent:e="display",annotationMode:t=zi.ENABLE,printAnnotationStorage:r=null,isEditing:s=!1}={}){var u;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,r,s,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>hh.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,s){function i(){o.read().then(function({value:c,done:u}){if(u){r(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),i()},s)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),y(this,qs,!1),S(this,ir,og).call(this),Promise.all(e)}cleanup(e=!1){y(this,qs,!0);const t=S(this,ir,Ul).call(this,!1);return e&&t&&this._stats&&(this._stats=new kS),t}_startRenderPage(e,t){var s,i;const r=this._intentStates.get(t);r&&((s=this._stats)==null||s.timeEnd("Page Request"),(i=r.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let r=0,s=e.length;r<s;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&S(this,ir,Ul).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:s}){const{map:i,transfer:o}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:s},o).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();S(this,ir,Ul).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof lx){let s=uz;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new zo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}lo=new WeakMap,qs=new WeakMap,ir=new WeakSet,Ul=function(e=!1){if(S(this,ir,og).call(this),!l(this,qs)||this.destroyed)return!1;if(e)return y(this,lo,setTimeout(()=>{y(this,lo,null),S(this,ir,Ul).call(this,!1)},dz)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),y(this,qs,!1),!0},og=function(){l(this,lo)&&(clearTimeout(l(this,lo)),y(this,lo,null))};var Ks,Em;class xz{constructor(){A(this,Ks,new Map);A(this,Em,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};l(this,Em).then(()=>{for(const[s]of l(this,Ks))s.call(this,r)})}addEventListener(e,t,r=null){let s=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:i}=r;if(i.aborted){ue("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}l(this,Ks).set(t,s)}removeEventListener(e,t){const r=l(this,Ks).get(t);r==null||r(),l(this,Ks).delete(t)}terminate(){for(const[,e]of l(this,Ks))e==null||e();l(this,Ks).clear()}}Ks=new WeakMap,Em=new WeakMap;var Cm,$a,Ba,Kc,ag,Qc,lg;const ze=class ze{constructor({name:e=null,port:t=null,verbosity:r=nj()}={}){A(this,Kc);var s;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=l(ze,Ba))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(l(ze,Ba)||y(ze,Ba,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new yd("main","worker",e),this._messageHandler.on("ready",function(){}),S(this,Kc,ag).call(this)}_initialize(){if(l(ze,$a)||l(ze,Qc,lg)){this._setupFakeWorker();return}let{workerSrc:e}=ze;try{ze._isSameOrigin(window.location.href,e)||(e=ze._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new yd("main","worker",t),s=()=>{i.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:i.signal}),r.on("test",a=>{if(i.abort(),this.destroyed||!a){s();return}this._messageHandler=r,this._port=t,this._webWorker=t,S(this,Kc,ag).call(this)}),r.on("ready",a=>{if(i.abort(),this.destroyed){s();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{mv("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){l(ze,$a)||(ue("Setting up fake worker."),y(ze,$a,!0)),ze._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new xz;this._port=t;const r=`fake${ft(ze,Cm)._++}`,s=new yd(r+"_worker",r,t);e.setup(s,t),this._messageHandler=new yd(r,r+"_worker",t),S(this,Kc,ag).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,r;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=l(ze,Ba))==null||t.delete(this._port),this._port=null,(r=this._messageHandler)==null||r.destroy(),this._messageHandler=null}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=l(this,Ba))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ze(e)}static get workerSrc(){if(ui.workerSrc)return ui.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return fe(this,"_setupFakeWorkerGlobal",(async()=>l(this,Qc,lg)?l(this,Qc,lg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Cm=new WeakMap,$a=new WeakMap,Ba=new WeakMap,Kc=new WeakSet,ag=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Qc=new WeakSet,lg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},A(ze,Qc),A(ze,Cm,0),A(ze,$a,!1),A(ze,Ba),Gt&&(y(ze,$a,!0),ui.workerSrc||(ui.workerSrc="./pdf.worker.mjs")),ze._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const s=new URL(t,r);return r.origin===s.origin},ze._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let mc=ze;var Qs,us,Zc,Jc,Zs,Ha,Sd;class Az{constructor(e,t,r,s,i){A(this,Ha);A(this,Qs,new Map);A(this,us,new Map);A(this,Zc,new Map);A(this,Jc,new Map);A(this,Zs,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new zP,this.fontLoader=new xj({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return fe(this,"annotationStorage",new hx)}getRenderingIntent(e,t=zi.ENABLE,r=null,s=!1,i=!1){let o=Dn.DISPLAY,a=Y0;switch(e){case"any":o=Dn.ANY;break;case"display":break;case"print":o=Dn.PRINT;break;default:ue(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Dn.PRINT&&r instanceof mP?r:this.annotationStorage;switch(t){case zi.DISABLE:o+=Dn.ANNOTATIONS_DISABLE;break;case zi.ENABLE:break;case zi.ENABLE_FORMS:o+=Dn.ANNOTATIONS_FORMS;break;case zi.ENABLE_STORAGE:o+=Dn.ANNOTATIONS_STORAGE,a=c.serializable;break;default:ue(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(o+=Dn.IS_EDITING),i&&(o+=Dn.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[o,a.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=l(this,Zs))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of l(this,us).values())e.push(s._destroy());l(this,us).clear(),l(this,Zc).clear(),l(this,Jc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,i;this.commonObjs.clear(),this.fontLoader.clear(),l(this,Qs).clear(),this.filterFactory.destroy(),dh.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new zo("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,s)=>{st(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){s.close();return}st(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:i,contentLength:o}=this._fullReader;return(!s||!i)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:i,contentLength:o}}),e.on("GetRangeReader",(r,s)=>{st(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(r.begin,r.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:o,done:a}){if(a){s.close();return}st(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{i.cancel(o),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new wz(r,this))}),e.on("DocException",r=>{t._capability.reject(cn(r))}),e.on("PasswordRequest",r=>{y(this,Zs,Promise.withResolvers());try{if(!t.onPassword)throw cn(r);const s=i=>{i instanceof Error?l(this,Zs).reject(i):l(this,Zs).resolve({password:i})};t.onPassword(s,r.code)}catch(s){l(this,Zs).reject(s)}return l(this,Zs).promise}),e.on("DataLoaded",r=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;l(this,us).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,s,i])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(s){case"Font":const{disableFontFace:a,fontExtraProperties:c,pdfBug:u}=this._params;if("error"in i){const p=i.error;ue(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const d=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,h=new Aj(i,{disableFontFace:a,fontExtraProperties:c,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:f}=i;st(f,"The imageRef must be defined.");for(const p of l(this,us).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,i);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([r,s,i,o])=>{var c;if(this.destroyed)return;const a=l(this,us).get(s);if(!a.objs.has(r)){if(a._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(i){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>QF&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",r=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=l(this,Zc).get(t);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&l(this,Jc).set(i.refStr,e);const o=new bz(t,i,this,this._params.pdfBug);return l(this,us).set(t,o),o});return l(this,Zc).set(t,s),s}getPageIndex(e){return VS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return S(this,Ha,Sd).call(this,"GetFieldObjects")}hasJSActions(){return S(this,Ha,Sd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return S(this,Ha,Sd).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return S(this,Ha,Sd).call(this,"GetOptionalContentConfig").then(t=>new Vj(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,Qs).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(s=>{var i,o;return{info:s[0],metadata:s[1]?new Hj(s[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,Qs).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,us).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,Qs).clear(),this.filterFactory.destroy(!0),dh.cleanup()}}cachedPageNumber(e){if(!VS(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,Jc).get(t)??null}}Qs=new WeakMap,us=new WeakMap,Zc=new WeakMap,Jc=new WeakMap,Zs=new WeakMap,Ha=new WeakSet,Sd=function(e,t=null){const r=l(this,Qs).get(e);if(r)return r;const s=this.messageHandler.sendWithPromise(e,t);return l(this,Qs).set(e,s),s};const od=Symbol("INITIAL_DATA");var _n,of,ow;class zP{constructor(){A(this,of);A(this,_n,Object.create(null))}get(e,t=null){if(t){const s=S(this,of,ow).call(this,e);return s.promise.then(()=>t(s.data)),null}const r=l(this,_n)[e];if(!r||r.data===od)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=l(this,_n)[e];return!!t&&t.data!==od}delete(e){const t=l(this,_n)[e];return!t||t.data===od?!1:(delete l(this,_n)[e],!0)}resolve(e,t=null){const r=S(this,of,ow).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in l(this,_n)){const{data:r}=l(this,_n)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}y(this,_n,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,_n)){const{data:t}=l(this,_n)[e];t!==od&&(yield[e,t])}}}_n=new WeakMap,of=new WeakSet,ow=function(e){var t;return(t=l(this,_n))[e]||(t[e]={...Promise.withResolvers(),data:od})};var co;class Sz{constructor(e){A(this,co,null);y(this,co,e),this.onContinue=null}get promise(){return l(this,co).capability.promise}cancel(e=0){l(this,co).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,co).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,co);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}co=new WeakMap;var uo,Ua;const ta=class ta{constructor({callback:e,params:t,objs:r,commonObjs:s,annotationCanvasMap:i,operatorList:o,pageIndex:a,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){A(this,uo,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Sz(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,c;if(this.cancelled)return;if(this._canvas){if(l(ta,Ua).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(ta,Ua).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:s,transform:i,background:o}=this.params;this.gfx=new gc(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:s,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),l(this,uo)&&(window.cancelAnimationFrame(l(this,uo)),y(this,uo,null)),l(ta,Ua).delete(this._canvas),this.callback(e||new lx(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?y(this,uo,window.requestAnimationFrame(()=>{y(this,uo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(ta,Ua).delete(this._canvas),this.callback())))}};uo=new WeakMap,Ua=new WeakMap,A(ta,Ua,new WeakSet);let aw=ta;const Ez="4.10.38",Cz="f9bea397f";function WS(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ad(n){return Math.max(0,Math.min(255,255*n))}class GS{static CMYK_G([e,t,r,s]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ad(e),[e,e,e]}static G_HTML([e]){const t=WS(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(ad)}static RGB_HTML(e){return`#${e.map(WS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,r+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,r,s]){return[ad(1-Math.min(1,e+s)),ad(1-Math.min(1,r+s)),ad(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const s=1-e,i=1-t,o=1-r,a=Math.min(s,i,o);return["CMYK",s,i,o,a]}}class _z{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),r||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Re("Abstract method `_createSVG` called.")}}class px extends _z{_createSVG(e){return document.createElementNS(Ms,e)}}class $P{static setupStorage(e,t,r,s,i){const o=s.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),i==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",a=>{s.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),i==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const c=a.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:s,linkService:i}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}a&&i.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,s=e.xfaHtml,i=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:i,linkService:r});const a=i!=="richText",c=e.div;if(c.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}a&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);o.append(p),a&&hh.shouldBuildText(s.name)&&u.push(p)}return{textDivs:u}}const d=[[s,-1,o]];for(;d.length>0;){const[p,m,g]=d.at(-1);if(m+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:v}=b;if(v==="#text"){const x=document.createTextNode(b.value);u.push(x),g.append(x);continue}const w=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,v):document.createElement(v);if(g.append(w),b.attributes&&this.setAttributes({html:w,element:b,storage:t,intent:i,linkService:r}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,w]);else if(b.value){const x=document.createTextNode(b.value);a&&hh.shouldBuildText(v)&&u.push(x),w.append(x)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Jf=1e3,Tz=9,Cl=new WeakSet;function Io(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class Pz{static create(e){switch(e.data.annotationType){case ot.LINK:return new BP(e);case ot.TEXT:return new Rz(e);case ot.WIDGET:switch(e.data.fieldType){case"Tx":return new kz(e);case"Btn":return e.data.radioButton?new VP(e):e.data.checkBox?new Nz(e):new Lz(e);case"Ch":return new Iz(e);case"Sig":return new Mz(e)}return new Ml(e);case ot.POPUP:return new cw(e);case ot.FREETEXT:return new qP(e);case ot.LINE:return new Oz(e);case ot.SQUARE:return new Fz(e);case ot.CIRCLE:return new jz(e);case ot.POLYLINE:return new KP(e);case ot.CARET:return new $z(e);case ot.INK:return new gx(e);case ot.POLYGON:return new zz(e);case ot.HIGHLIGHT:return new QP(e);case ot.UNDERLINE:return new Bz(e);case ot.SQUIGGLY:return new Hz(e);case ot.STRIKEOUT:return new Uz(e);case ot.STAMP:return new ZP(e);case ot.FILEATTACHMENT:return new Vz(e);default:return new tt(e)}}}var Va,eu,tu,af,lw;const wx=class wx{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:s=!1}={}){A(this,af);A(this,Va,null);A(this,eu,!1);A(this,tu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return wx._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;l(this,Va)||y(this,Va,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&S(this,af,lw).call(this,t),(r=l(this,tu))==null||r.popup.updateEdited(e)}resetEdited(){var e;l(this,Va)&&(S(this,af,lw).call(this,l(this,Va).rect),(e=l(this,tu))==null||e.popup.resetEdited(),y(this,Va,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof Ml||(i.tabIndex=Jf);const{style:o}=i;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof cw){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,i),i}const{width:a,height:c}=Io(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(g>0||b>0){const w=`calc(${g}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;o.borderRadius=w}else if(this instanceof VP){const w=`calc(${a}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case sd.SOLID:o.borderStyle="solid";break;case sd.DASHED:o.borderStyle="dashed";break;case sd.BEVELED:ue("Unimplemented border style: beveled");break;case sd.INSET:ue("Unimplemented border style: inset");break;case sd.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(y(this,eu,!0),o.borderColor=Q.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const u=Q.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=s.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(o.width=`${100*a/d}%`,o.height=`${100*c/h}%`):this.setRotation(m,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:s}=this.parent.viewport.rawDims,{width:i,height:o}=Io(this.data.rect);let a,c;e%180===0?(a=100*i/r,c=100*o/s):(a=100*o/r,c=100*i/s),t.style.width=`${a}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,s)=>{const i=s.detail[t],o=i[0],a=i.slice(1);s.target.style[r]=GS[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:GS[`${o}_rgb`](a)})};return fe(this,"_commonActions",{display:t=>{const{display:r}=t.detail,s=r%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const s of Object.keys(t.detail)){const i=e[s]||r[s];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[s,i]of Object.entries(t)){const o=r[s];if(o){const a={detail:{[s]:i},target:e};o(a),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,s,i]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,b,v,w]=e.subarray(2,6);if(s===g&&i===b&&t===v&&r===w)return}const{style:o}=this.container;let a;if(l(this,eu)){const{borderColor:g,borderWidth:b}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=s-t,u=i-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,b=e.length;g<b;g+=8){const v=e[g],w=e[g+1],x=e[g+2],E=e[g+3],T=d.createElement("rect"),P=(x-t)/c,R=(i-w)/u,k=(v-x)/c,M=(w-E)/u;T.setAttribute("x",P),T.setAttribute("y",R),T.setAttribute("width",k),T.setAttribute("height",M),p.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${R}" width="${k}" height="${M}"/>`)}l(this,eu)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,t=y(this,tu,new cw({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Re("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:i,id:o,exportValues:a}of s){if(i===-1||o===t)continue;const c=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Cl.has(u)){ue(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:c,domElement:u})}return r}for(const s of document.getElementsByName(e)){const{exportValue:i}=s,o=s.getAttribute("data-element-id");o!==t&&Cl.has(s)&&r.push({id:o,exportValue:i,domElement:s})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Va=new WeakMap,eu=new WeakMap,tu=new WeakMap,af=new WeakSet,lw=function(e){const{container:{style:t},data:{rect:r,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:c}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=Io(e);t.left=`${100*(e[0]-a)/i}%`,t.top=`${100*(o-e[3]+c)/o}%`,s===0?(t.width=`${100*u/i}%`,t.height=`${100*d/o}%`):this.setRotation(s)};let tt=wx;var jn,Qo,HP,UP;class BP extends tt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});A(this,jn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let i=!1;return t.url?(r.addLinkAttributes(s,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(s,t.action),i=!0):t.attachment?(S(this,jn,HP).call(this,s,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(S(this,jn,UP).call(this,s,t.setOCGState),i=!0):t.dest?(this._bindLink(s,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),i=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(s),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&S(this,jn,Qo).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),S(this,jn,Qo).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(r.actions)){const o=s.get(i);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),S(this,jn,Qo).call(this)}_bindResetFormAction(t,r){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),S(this,jn,Qo).call(this),!this._fieldObjects){ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var h;s==null||s();const{fields:i,refs:o,include:a}=r,c=[];if(i.length!==0||o.length!==0){const f=new Set(o);for(const p of i){const m=this._fieldObjects[p]||[];for(const{id:g}of m)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&c.push(m)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;u.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Cl.has(m)){ue(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}jn=new WeakSet,Qo=function(){this.container.setAttribute("data-internal-link","")},HP=function(t,r,s=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(r.content,r.filename,s),!1},S(this,jn,Qo).call(this)},UP=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),S(this,jn,Qo).call(this)};class Rz extends tt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ml extends tt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return nn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,s,i){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}i&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o)}}))})}_setEventListeners(e,t,r,s){var i,o,a;for(const[c,u]of r)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,s),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Q.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||Tz,i=e.style;let o;const a=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(oy*s))||1,h=u/d;o=Math.min(s,c(h/oy))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(s,c(u/oy))}i.fontSize=`calc(${o}px * var(--scale-factor))`,i.color=Q.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class kz extends Ml{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,s){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),i.setValue(o.id,{[s]:r})}render(){var s,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let u=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Cl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Jf,this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var g;if(d.focused)return;const{target:m}=p;d.userValue&&(m.value=d.userValue),d.lastCommittedValue=m.value,d.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(g){d.userValue=g.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),g.target.value=d.userValue},formattedValue(g){const{formattedValue:b}=g.detail;d.formattedValue=b,b!=null&&g.target!==document.activeElement&&(g.target.value=b),e.setValue(t,{formattedValue:b})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{var x;const{charLimit:b}=g.detail,{target:v}=g;if(b===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",b);let w=d.userValue;!w||w.length<=b||(w=w.slice(0,b),v.value=d.userValue=w,e.setValue(t,{value:w}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var b;d.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(d.commitKey=3),m===-1)return;const{value:g}=p.target;d.lastCommittedValue!==g&&(d.lastCommittedValue=g,d.userValue=g,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,r.addEventListener("blur",p=>{var g,b;if(!d.focused||!p.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(d.focused=!1);const{value:m}=p.target;d.userValue=m,d.lastCommittedValue!==m&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(i=this.data.actions)!=null&&i.Keystroke&&r.addEventListener("beforeinput",p=>{var T;d.lastCommittedValue=null;const{data:m,target:g}=p,{value:b,selectionStart:v,selectionEnd:w}=g;let x=v,E=w;switch(p.inputType){case"deleteWordBackward":{const P=b.substring(0,v).match(/\w*[^\w]*$/);P&&(x-=P[0].length);break}case"deleteWordForward":{const P=b.substring(v).match(/^[^\w]*\w*/);P&&(E+=P[0].length);break}case"deleteContentBackward":v===w&&(x-=1);break;case"deleteContentForward":v===w&&(E+=1);break}p.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:m||"",willCommit:!1,selStart:x,selEnd:E}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Mz extends Ml{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Nz extends Ml{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(r,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Cl.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=Jf,i.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,r)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:c})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const a={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class VP extends Ml{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(r,{value:s})),s)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(Cl.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=Jf,i.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:c})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;i.addEventListener("updatefromsandbox",a=>{const c={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Lz extends BP{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Iz extends Ml{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Cl.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Jf;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),i=!1),s.append(h)}let o=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),s.prepend(d),o=()=>{d.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const g of s.options)g.selected=m.has(g.value);e.setValue(t,{value:a(!0)}),c=a(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,m=f.detail.remove;p[m].selected=!1,s.remove(m),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),c=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:g}=f.detail.insert,b=s.children[p],v=document.createElement("option");v.textContent=m,v.value=g,b?b.before(v):s.append(v),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const m of p){const{displayValue:g,exportValue:b}=m,v=document.createElement("option");v.textContent=g,v.value=b,s.append(v)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(t,{value:a(!0)}),c=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),s.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):s.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class cw extends tt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:tt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Dz({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${ax}${r}`).join(",")),this.container}}var nu,_m,Tm,ru,Wa,Ke,Js,su,lf,cf,iu,ei,Rr,ti,uf,ni,df,Ga,Xa,Pe,cg,uw,WP,GP,XP,YP,ug,dg,dw;class Dz{constructor({container:e,color:t,elements:r,titleObj:s,modificationDate:i,contentsObj:o,richText:a,parent:c,rect:u,parentRect:d,open:h}){A(this,Pe);A(this,nu,S(this,Pe,XP).bind(this));A(this,_m,S(this,Pe,dw).bind(this));A(this,Tm,S(this,Pe,dg).bind(this));A(this,ru,S(this,Pe,ug).bind(this));A(this,Wa,null);A(this,Ke,null);A(this,Js,null);A(this,su,null);A(this,lf,null);A(this,cf,null);A(this,iu,null);A(this,ei,!1);A(this,Rr,null);A(this,ti,null);A(this,uf,null);A(this,ni,null);A(this,df,null);A(this,Ga,null);A(this,Xa,!1);var f;y(this,Ke,e),y(this,df,s),y(this,Js,o),y(this,ni,a),y(this,cf,c),y(this,Wa,t),y(this,uf,u),y(this,iu,d),y(this,lf,r),y(this,su,ux.toDateObject(i)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",l(this,ru)),p.addEventListener("mouseenter",l(this,Tm)),p.addEventListener("mouseleave",l(this,_m)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",l(this,nu));l(this,Ke).hidden=!0,h&&S(this,Pe,ug).call(this)}render(){if(l(this,Rr))return;const e=y(this,Rr,document.createElement("div"));if(e.className="popup",l(this,Wa)){const i=e.style.outlineColor=Q.makeHexColor(...l(this,Wa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`:e.style.backgroundColor=Q.makeHexColor(...l(this,Wa).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=l(this,df),e.append(t),l(this,su)){const i=document.createElement("span");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,su).valueOf()})),t.append(i)}const s=l(this,Pe,cg);if(s)$P.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(l(this,Js));e.append(i)}l(this,Ke).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let i=0,o=s.length;i<o;++i){const a=s[i];r.append(document.createTextNode(a)),i<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;l(this,Ga)||y(this,Ga,{contentsObj:l(this,Js),richText:l(this,ni)}),e&&y(this,ti,null),t&&(y(this,ni,S(this,Pe,GP).call(this,t)),y(this,Js,null)),(r=l(this,Rr))==null||r.remove(),y(this,Rr,null)}resetEdited(){var e;l(this,Ga)&&({contentsObj:ft(this,Js)._,richText:ft(this,ni)._}=l(this,Ga),y(this,Ga,null),(e=l(this,Rr))==null||e.remove(),y(this,Rr,null),y(this,ti,null))}forceHide(){y(this,Xa,this.isVisible),l(this,Xa)&&(l(this,Ke).hidden=!0)}maybeShow(){l(this,Xa)&&(l(this,Rr)||S(this,Pe,dg).call(this),y(this,Xa,!1),l(this,Ke).hidden=!1)}get isVisible(){return l(this,Ke).hidden===!1}}nu=new WeakMap,_m=new WeakMap,Tm=new WeakMap,ru=new WeakMap,Wa=new WeakMap,Ke=new WeakMap,Js=new WeakMap,su=new WeakMap,lf=new WeakMap,cf=new WeakMap,iu=new WeakMap,ei=new WeakMap,Rr=new WeakMap,ti=new WeakMap,uf=new WeakMap,ni=new WeakMap,df=new WeakMap,Ga=new WeakMap,Xa=new WeakMap,Pe=new WeakSet,cg=function(){const e=l(this,ni),t=l(this,Js);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,ni).html||null},uw=function(){var e,t,r;return((r=(t=(e=l(this,Pe,cg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},WP=function(){var e,t,r;return((r=(t=(e=l(this,Pe,cg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},GP=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:l(this,Pe,WP),fontSize:l(this,Pe,uw)?`calc(${l(this,Pe,uw)}px * var(--scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:s});return r},XP=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,ei))&&S(this,Pe,ug).call(this)},YP=function(){if(l(this,ti)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:s,pageY:i}}}=l(this,cf);let o=!!l(this,iu),a=o?l(this,iu):l(this,uf);for(const m of l(this,lf))if(!a||Q.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const c=Q.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=c[0]+d,f=c[1];y(this,ti,[100*(h-s)/t,100*(f-i)/r]);const{style:p}=l(this,Ke);p.left=`${l(this,ti)[0]}%`,p.top=`${l(this,ti)[1]}%`},ug=function(){y(this,ei,!l(this,ei)),l(this,ei)?(S(this,Pe,dg).call(this),l(this,Ke).addEventListener("click",l(this,ru)),l(this,Ke).addEventListener("keydown",l(this,nu))):(S(this,Pe,dw).call(this),l(this,Ke).removeEventListener("click",l(this,ru)),l(this,Ke).removeEventListener("keydown",l(this,nu)))},dg=function(){l(this,Rr)||this.render(),this.isVisible?l(this,ei)&&l(this,Ke).classList.add("focused"):(S(this,Pe,YP).call(this),l(this,Ke).hidden=!1,l(this,Ke).style.zIndex=parseInt(l(this,Ke).style.zIndex)+1e3)},dw=function(){l(this,Ke).classList.remove("focused"),!(l(this,ei)||!this.isVisible)&&(l(this,Ke).hidden=!0,l(this,Ke).style.zIndex=parseInt(l(this,Ke).style.zIndex)-1e3)};class qP extends tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ce.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var hf;class Oz extends tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,hf,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:s}=Io(t.rect),i=this.svgFactory.create(r,s,!0),o=y(this,hf,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,hf)}addHighlightArea(){this.container.classList.add("highlightArea")}}hf=new WeakMap;var ff;class Fz extends tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,ff,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:s}=Io(t.rect),i=this.svgFactory.create(r,s,!0),o=t.borderStyle.width,a=y(this,ff,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",s-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}ff=new WeakMap;var pf;class jz extends tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,pf,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:s}=Io(t.rect),i=this.svgFactory.create(r,s,!0),o=t.borderStyle.width,a=y(this,pf,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",s/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",s/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,pf)}addHighlightArea(){this.container.classList.add("highlightArea")}}pf=new WeakMap;var gf;class KP extends tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,gf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:s,popupRef:i}}=this;if(!r)return this.container;const{width:o,height:a}=Io(t),c=this.svgFactory.create(o,a,!0);let u=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-t[0],m=t[3]-r[h+1];u.push(`${p},${m}`)}u=u.join(" ");const d=y(this,gf,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,gf)}addHighlightArea(){this.container.classList.add("highlightArea")}}gf=new WeakMap;class zz extends KP{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $z extends tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mf,Ya,vf,hw;class gx extends tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,vf);A(this,mf,null);A(this,Ya,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ce.HIGHLIGHT:ce.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:s,borderStyle:i,popupRef:o}}=this,{transform:a,width:c,height:u}=S(this,vf,hw).call(this,r,t),d=this.svgFactory.create(c,u,!0),h=y(this,mf,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let f=0,p=s.length;f<p;f++){const m=this.svgFactory.createElement(this.svgElementName);l(this,Ya).push(m),m.setAttribute("points",s[f].join(",")),h.append(m)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:s,rect:i}=t,o=l(this,mf);if(r>=0&&o.setAttribute("stroke-width",r||1),s)for(let a=0,c=l(this,Ya).length;a<c;a++)l(this,Ya)[a].setAttribute("points",s[a].join(","));if(i){const{transform:a,width:c,height:u}=S(this,vf,hw).call(this,this.data.rotation,i);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return l(this,Ya)}addHighlightArea(){this.container.classList.add("highlightArea")}}mf=new WeakMap,Ya=new WeakMap,vf=new WeakSet,hw=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class QP extends tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ce.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Bz extends tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Hz extends tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Uz extends tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ZP extends tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ce.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var yf,wf,fw;class Vz extends tt{constructor(t){var s;super(t,{isRenderable:!0});A(this,wf);A(this,yf,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let s;r.hasAppearance||r.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),s.addEventListener("dblclick",S(this,wf,fw).bind(this)),y(this,yf,s);const{isMac:i}=nn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&S(this,wf,fw).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return l(this,yf)}addHighlightArea(){this.container.classList.add("highlightArea")}}yf=new WeakMap,wf=new WeakSet,fw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var bf,qa,Ka,xf,_l,JP,pw;class Wz{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:s,page:i,viewport:o,structTreeLayer:a}){A(this,_l);A(this,bf,null);A(this,qa,null);A(this,Ka,new Map);A(this,xf,null);this.div=e,y(this,bf,t),y(this,qa,r),y(this,xf,a||null),this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return l(this,Ka).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;Sl(r,this.viewport);const s=new Map,i={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new px,annotationStorage:e.annotationStorage||new hx,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const c=a.annotationType===ot.POPUP;if(c){const h=s.get(a.id);if(!h)continue;i.elements=h}else{const{width:h,height:f}=Io(a.rect);if(h<=0||f<=0)continue}i.data=a;const u=Pz.create(i);if(!u.isRenderable)continue;if(!c&&a.popupRef){const h=s.get(a.popupRef);h?h.push(u):s.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),await S(this,_l,JP).call(this,d,a.id),u._isEditable&&(l(this,Ka).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}S(this,_l,pw).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Sl(t,{rotation:e.rotation}),S(this,_l,pw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Ka).values())}getEditableAnnotation(e){return l(this,Ka).get(e)}}bf=new WeakMap,qa=new WeakMap,Ka=new WeakMap,xf=new WeakMap,_l=new WeakSet,JP=async function(e,t){var o,a;const r=e.firstChild||e,s=r.id=`${ax}${t}`,i=await((o=l(this,xf))==null?void 0:o.getAriaAttributes(s));if(i)for(const[c,u]of i)r.setAttribute(c,u);this.div.append(e),(a=l(this,bf))==null||a.moveElementInDOM(this.div,e,r,!1)},pw=function(){if(!l(this,qa))return;const e=this.div;for(const[t,r]of l(this,qa)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:i}=s;i?i.nodeName==="CANVAS"?i.replaceWith(r):i.classList.contains("annotationContent")?i.after(r):i.before(r):s.append(r)}l(this,qa).clear()};const Rp=/\r\n?|\n/g;var kr,Tn,Af,Qa,Pn,it,eR,tR,nR,hg,gi,fg,pg,rR,mw,sR;const Me=class Me extends Ge{constructor(t){super({...t,name:"freeTextEditor"});A(this,it);A(this,kr);A(this,Tn,"");A(this,Af,`${this.id}-editor`);A(this,Qa,null);A(this,Pn);y(this,kr,t.color||Me._defaultColor||Ge._defaultLineColor),y(this,Pn,t.fontSize||Me._defaultFontSize)}static get _keyboardManager(){const t=Me.prototype,r=o=>o.isEmpty(),s=El.TRANSLATE_SMALL,i=El.TRANSLATE_BIG;return fe(this,"_keyboardManager",new Zf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}]]))}static initialize(t,r){Ge.initialize(t,r);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case ge.FREETEXT_SIZE:Me._defaultFontSize=r;break;case ge.FREETEXT_COLOR:Me._defaultColor=r;break}}updateParams(t,r){switch(t){case ge.FREETEXT_SIZE:S(this,it,eR).call(this,r);break;case ge.FREETEXT_COLOR:S(this,it,tR).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ge.FREETEXT_SIZE,Me._defaultFontSize],[ge.FREETEXT_COLOR,Me._defaultColor||Ge._defaultLineColor]]}get propertiesToUpdate(){return[[ge.FREETEXT_SIZE,l(this,Pn)],[ge.FREETEXT_COLOR,l(this,kr)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Me._internalPadding*t,-(Me._internalPadding+l(this,Pn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(ce.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),y(this,Qa,new AbortController);const t=this._uiManager.combinedSignal(l(this,Qa));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,Af)),this._isDraggable=!0,(t=l(this,Qa))==null||t.abort(),y(this,Qa,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,Tn),r=y(this,Tn,S(this,it,nR).call(this).trimEnd());if(t===r)return;const s=i=>{if(y(this,Tn,i),!i){this.remove();return}S(this,it,pg).call(this),this._uiManager.rebuild(this),S(this,it,hg).call(this)};this.addCommands({cmd:()=>{s(r)},undo:()=>{s(t)},mustExec:!1}),S(this,it,hg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Me._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,Af)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${l(this,Pn)}px * var(--scale-factor))`,s.color=l(this,kr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),am(this,this.div,["dblclick","keydown"]),this.width){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let m,g;switch(this.rotation){case 0:m=t+(a[0]-f)/d,g=r+this.height-(a[1]-p)/h;break;case 90:m=t+(a[0]-f)/d,g=r-(a[1]-p)/h,[c,u]=[u,-c];break;case 180:m=t-this.width+(a[0]-f)/d,g=r-(a[1]-p)/h,[c,u]=[-c,-u];break;case 270:m=t+(a[0]-f-this.height*h)/d,g=r+(a[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(m*i,g*o,c,u)}else this.setAt(t*i,r*o,this.width*i,this.height*o);S(this,it,pg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,g,b;const r=t.clipboardData||window.clipboardData,{types:s}=r;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const i=S(m=Me,gi,mw).call(m,r.getData("text")||"").replaceAll(Rp,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=a,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(Rp,"")),v!==this.editorDiv){let w=d;for(const x of this.editorDiv.childNodes){if(x===v){w=h;continue}w.push(S(g=Me,gi,fg).call(g,x))}}d.push(c.nodeValue.slice(0,u).replaceAll(Rp,""))}else if(c===this.editorDiv){let v=d,w=0;for(const x of this.editorDiv.childNodes)w++===u&&(v=h),v.push(S(b=Me,gi,fg).call(b,x))}y(this,Tn,`${d.join(`
`)}${i}${h.join(`
`)}`),S(this,it,pg).call(this);const f=new Range;let p=d.reduce((v,w)=>v+w.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(p<=w){f.setStart(v,p),f.setEnd(v,p);break}p-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,s){var a;let i=null;if(t instanceof qP){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p},textContent:m,textPosition:g,parent:{page:{pageNumber:b}}}=t;if(!m||m.length===0)return null;i=t={annotationType:ce.FREETEXT,color:Array.from(u),fontSize:c,value:m.join(`
`),position:g,pageIndex:b-1,rect:d.slice(0),rotation:h,id:f,deleted:!1,popupRef:p}}const o=await super.deserialize(t,r,s);return y(o,Pn,t.fontSize),y(o,kr,Q.makeHexColor(...t.color)),y(o,Tn,S(a=Me,gi,mw).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=i,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Me._internalPadding*this.parentScale,s=this.getRect(r,r),i=Ge._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,kr)),o={annotationType:ce.FREETEXT,color:i,fontSize:l(this,Pn),value:S(this,it,rR).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!S(this,it,sR).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:s}=r;s.fontSize=`calc(${l(this,Pn)}px * var(--scale-factor))`,s.color=l(this,kr),r.replaceChildren();for(const o of l(this,Tn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const i=Me._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:l(this,Tn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};kr=new WeakMap,Tn=new WeakMap,Af=new WeakMap,Qa=new WeakMap,Pn=new WeakMap,it=new WeakSet,eR=function(t){const r=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-l(this,Pn))*this.parentScale),y(this,Pn,i),S(this,it,hg).call(this)},s=l(this,Pn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ge.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},tR=function(t){const r=i=>{y(this,kr,this.editorDiv.style.color=i)},s=l(this,kr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ge.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},nR=function(){var s;const t=[];this.editorDiv.normalize();let r=null;for(const i of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(S(s=Me,gi,fg).call(s,i)),r=i);return t.join(`
`)},hg=function(){const[t,r]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,a=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/r):(this.width=s.height/t,this.height=s.width/r),this.fixAndSetPosition()},gi=new WeakSet,fg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Rp,"")},pg=function(){if(this.editorDiv.replaceChildren(),!!l(this,Tn))for(const t of l(this,Tn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},rR=function(){return l(this,Tn).replaceAll(""," ")},mw=function(t){return t.replaceAll(" ","")},sR=function(t){const{value:r,fontSize:s,color:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==s||t.color.some((a,c)=>a!==i[c])||t.pageIndex!==o},A(Me,gi),ne(Me,"_freeTextDefaultContent",""),ne(Me,"_internalPadding",0),ne(Me,"_defaultColor",null),ne(Me,"_defaultFontSize",10),ne(Me,"_type","freetext"),ne(Me,"_editorType",ce.FREETEXT);let gw=Me;class G{toSVGPath(){Re("Abstract method `toSVGPath` must be implemented.")}get box(){Re("Abstract getter `box` must be implemented.")}serialize(e,t){Re("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,s,i,o){o||(o=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)o[a]=t+e[a]*s,o[a+1]=r+e[a+1]*i;return o}static _rescaleAndSwap(e,t,r,s,i,o){o||(o=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)o[a]=t+e[a+1]*s,o[a+1]=r+e[a]*i;return o}static _translate(e,t,r,s){s||(s=new Float32Array(e.length));for(let i=0,o=e.length;i<o;i+=2)s[i]=t+e[i],s[i+1]=r+e[i+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,s,i){switch(i){case 90:return[1-t/r,e/s];case 180:return[1-e/r,1-t/s];case 270:return[t/r,1-e/s];default:return[e/r,t/s]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,s,i,o){return[(e+5*r)/6,(t+5*s)/6,(5*r+i)/6,(5*s+o)/6,(r+i)/2,(s+o)/2]}}ne(G,"PRECISION",1e-4);var Rn,Mr,ou,au,ds,he,Za,Ja,Sf,Ef,lu,cu,ho,Cf,Pm,Rm,ht,Ed,iR,oR,aR,lR,cR,uR;const Os=class Os{constructor({x:e,y:t},r,s,i,o,a=0){A(this,ht);A(this,Rn);A(this,Mr,[]);A(this,ou);A(this,au);A(this,ds,[]);A(this,he,new Float32Array(18));A(this,Za);A(this,Ja);A(this,Sf);A(this,Ef);A(this,lu);A(this,cu);A(this,ho,[]);y(this,Rn,r),y(this,cu,i*s),y(this,au,o),l(this,he).set([NaN,NaN,NaN,NaN,e,t],6),y(this,ou,a),y(this,Ef,l(Os,Cf)*s),y(this,Sf,l(Os,Rm)*s),y(this,lu,s),l(this,ho).push(e,t)}isEmpty(){return isNaN(l(this,he)[8])}add({x:e,y:t}){var M;y(this,Za,e),y(this,Ja,t);const[r,s,i,o]=l(this,Rn);let[a,c,u,d]=l(this,he).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<l(this,Sf))return!1;const m=p-l(this,Ef),g=m/p,b=g*h,v=g*f;let w=a,x=c;a=u,c=d,u+=b,d+=v,(M=l(this,ho))==null||M.push(e,t);const E=-v/m,T=b/m,P=E*l(this,cu),R=T*l(this,cu);return l(this,he).set(l(this,he).subarray(2,8),0),l(this,he).set([u+P,d+R],4),l(this,he).set(l(this,he).subarray(14,18),12),l(this,he).set([u-P,d-R],16),isNaN(l(this,he)[6])?(l(this,ds).length===0&&(l(this,he).set([a+P,c+R],2),l(this,ds).push(NaN,NaN,NaN,NaN,(a+P-r)/i,(c+R-s)/o),l(this,he).set([a-P,c-R],14),l(this,Mr).push(NaN,NaN,NaN,NaN,(a-P-r)/i,(c-R-s)/o)),l(this,he).set([w,x,a,c,u,d],6),!this.isEmpty()):(l(this,he).set([w,x,a,c,u,d],6),Math.abs(Math.atan2(x-c,w-a)-Math.atan2(v,b))<Math.PI/2?([a,c,u,d]=l(this,he).subarray(2,6),l(this,ds).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/i,((c+d)/2-s)/o),[a,c,w,x]=l(this,he).subarray(14,18),l(this,Mr).push(NaN,NaN,NaN,NaN,((w+a)/2-r)/i,((x+c)/2-s)/o),!0):([w,x,a,c,u,d]=l(this,he).subarray(0,6),l(this,ds).push(((w+5*a)/6-r)/i,((x+5*c)/6-s)/o,((5*a+u)/6-r)/i,((5*c+d)/6-s)/o,((a+u)/2-r)/i,((c+d)/2-s)/o),[u,d,a,c,w,x]=l(this,he).subarray(12,18),l(this,Mr).push(((w+5*a)/6-r)/i,((x+5*c)/6-s)/o,((5*a+u)/6-r)/i,((5*c+d)/6-s)/o,((a+u)/2-r)/i,((c+d)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,ds),t=l(this,Mr);if(isNaN(l(this,he)[6])&&!this.isEmpty())return S(this,ht,iR).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?r.push(`L${e[s+4]} ${e[s+5]}`):r.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);S(this,ht,aR).call(this,r);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?r.push(`L${t[s+4]} ${t[s+5]}`):r.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return S(this,ht,oR).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,s,i,o){return new dR(e,t,r,s,i,o)}getOutlines(){var h;const e=l(this,ds),t=l(this,Mr),r=l(this,he),[s,i,o,a]=l(this,Rn),c=new Float32Array((((h=l(this,ho))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(l(this,ho)[f]-s)/o,c[f+1]=(l(this,ho)[f+1]-i)/a;if(c[c.length-2]=(l(this,Za)-s)/o,c[c.length-1]=(l(this,Ja)-i)/a,isNaN(r[6])&&!this.isEmpty())return S(this,ht,lR).call(this,c);const u=new Float32Array(l(this,ds).length+24+l(this,Mr).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=S(this,ht,uR).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return S(this,ht,cR).call(this,u,d),this.newFreeDrawOutline(u,c,l(this,Rn),l(this,lu),l(this,ou),l(this,au))}};Rn=new WeakMap,Mr=new WeakMap,ou=new WeakMap,au=new WeakMap,ds=new WeakMap,he=new WeakMap,Za=new WeakMap,Ja=new WeakMap,Sf=new WeakMap,Ef=new WeakMap,lu=new WeakMap,cu=new WeakMap,ho=new WeakMap,Cf=new WeakMap,Pm=new WeakMap,Rm=new WeakMap,ht=new WeakSet,Ed=function(){const e=l(this,he).subarray(4,6),t=l(this,he).subarray(16,18),[r,s,i,o]=l(this,Rn);return[(l(this,Za)+(e[0]-t[0])/2-r)/i,(l(this,Ja)+(e[1]-t[1])/2-s)/o,(l(this,Za)+(t[0]-e[0])/2-r)/i,(l(this,Ja)+(t[1]-e[1])/2-s)/o]},iR=function(){const[e,t,r,s]=l(this,Rn),[i,o,a,c]=S(this,ht,Ed).call(this);return`M${(l(this,he)[2]-e)/r} ${(l(this,he)[3]-t)/s} L${(l(this,he)[4]-e)/r} ${(l(this,he)[5]-t)/s} L${i} ${o} L${a} ${c} L${(l(this,he)[16]-e)/r} ${(l(this,he)[17]-t)/s} L${(l(this,he)[14]-e)/r} ${(l(this,he)[15]-t)/s} Z`},oR=function(e){const t=l(this,Mr);e.push(`L${t[4]} ${t[5]} Z`)},aR=function(e){const[t,r,s,i]=l(this,Rn),o=l(this,he).subarray(4,6),a=l(this,he).subarray(16,18),[c,u,d,h]=S(this,ht,Ed).call(this);e.push(`L${(o[0]-t)/s} ${(o[1]-r)/i} L${c} ${u} L${d} ${h} L${(a[0]-t)/s} ${(a[1]-r)/i}`)},lR=function(e){const t=l(this,he),[r,s,i,o]=l(this,Rn),[a,c,u,d]=S(this,ht,Ed).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/i,(t[3]-s)/o,NaN,NaN,NaN,NaN,(t[4]-r)/i,(t[5]-s)/o,NaN,NaN,NaN,NaN,a,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-r)/i,(t[17]-s)/o,NaN,NaN,NaN,NaN,(t[14]-r)/i,(t[15]-s)/o],0),this.newFreeDrawOutline(h,e,l(this,Rn),l(this,lu),l(this,ou),l(this,au))},cR=function(e,t){const r=l(this,Mr);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},uR=function(e,t){const r=l(this,he).subarray(4,6),s=l(this,he).subarray(16,18),[i,o,a,c]=l(this,Rn),[u,d,h,f]=S(this,ht,Ed).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-o)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(s[0]-i)/a,(s[1]-o)/c],t),t+=24},A(Os,Cf,8),A(Os,Pm,2),A(Os,Rm,l(Os,Cf)+l(Os,Pm));let um=Os;var uu,el,ri,_f,kn,Tf,Je,km,hR;class dR extends G{constructor(t,r,s,i,o,a){super();A(this,km);A(this,uu);A(this,el,new Float32Array(4));A(this,ri);A(this,_f);A(this,kn);A(this,Tf);A(this,Je);y(this,Je,t),y(this,kn,r),y(this,uu,s),y(this,Tf,i),y(this,ri,o),y(this,_f,a),this.lastPoint=[NaN,NaN],S(this,km,hR).call(this,a);const[c,u,d,h]=l(this,el);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-c)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${l(this,Je)[4]} ${l(this,Je)[5]}`];for(let r=6,s=l(this,Je).length;r<s;r+=6){if(isNaN(l(this,Je)[r])){t.push(`L${l(this,Je)[r+4]} ${l(this,Je)[r+5]}`);continue}t.push(`C${l(this,Je)[r]} ${l(this,Je)[r+1]} ${l(this,Je)[r+2]} ${l(this,Je)[r+3]} ${l(this,Je)[r+4]} ${l(this,Je)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,s,i],o){const a=s-t,c=i-r;let u,d;switch(o){case 0:u=G._rescale(l(this,Je),t,i,a,-c),d=G._rescale(l(this,kn),t,i,a,-c);break;case 90:u=G._rescaleAndSwap(l(this,Je),t,r,a,c),d=G._rescaleAndSwap(l(this,kn),t,r,a,c);break;case 180:u=G._rescale(l(this,Je),s,r,-a,c),d=G._rescale(l(this,kn),s,r,-a,c);break;case 270:u=G._rescaleAndSwap(l(this,Je),s,i,-a,-c),d=G._rescaleAndSwap(l(this,kn),s,i,-a,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return l(this,el)}newOutliner(t,r,s,i,o,a=0){return new um(t,r,s,i,o,a)}getNewOutline(t,r){const[s,i,o,a]=l(this,el),[c,u,d,h]=l(this,uu),f=o*d,p=a*h,m=s*d+c,g=i*h+u,b=this.newOutliner({x:l(this,kn)[0]*f+m,y:l(this,kn)[1]*p+g},l(this,uu),l(this,Tf),t,l(this,_f),r??l(this,ri));for(let v=2;v<l(this,kn).length;v+=2)b.add({x:l(this,kn)[v]*f+m,y:l(this,kn)[v+1]*p+g});return b.getOutlines()}}uu=new WeakMap,el=new WeakMap,ri=new WeakMap,_f=new WeakMap,kn=new WeakMap,Tf=new WeakMap,Je=new WeakMap,km=new WeakSet,hR=function(t){const r=l(this,Je);let s=r[4],i=r[5],o=s,a=i,c=s,u=i,d=s,h=i;const f=t?Math.max:Math.min;for(let m=6,g=r.length;m<g;m+=6){if(isNaN(r[m]))o=Math.min(o,r[m+4]),a=Math.min(a,r[m+5]),c=Math.max(c,r[m+4]),u=Math.max(u,r[m+5]),h<r[m+5]?(d=r[m+4],h=r[m+5]):h===r[m+5]&&(d=f(d,r[m+4]));else{const b=Q.bezierBoundingBox(s,i,...r.slice(m,m+6));o=Math.min(o,b[0]),a=Math.min(a,b[1]),c=Math.max(c,b[2]),u=Math.max(u,b[3]),h<b[3]?(d=b[2],h=b[3]):h===b[3]&&(d=f(d,b[2]))}s=r[m+4],i=r[m+5]}const p=l(this,el);p[0]=o-l(this,ri),p[1]=a-l(this,ri),p[2]=c-o+2*l(this,ri),p[3]=u-a+2*l(this,ri),this.lastPoint=[d,h]};var Pf,Rf,fo,Nr,sn,fR,gg,pR,gR,yw;class vw{constructor(e,t=0,r=0,s=!0){A(this,sn);A(this,Pf);A(this,Rf);A(this,fo,[]);A(this,Nr,[]);let i=1/0,o=-1/0,a=1/0,c=-1/0;const u=10**-4;for(const{x:b,y:v,width:w,height:x}of e){const E=Math.floor((b-t)/u)*u,T=Math.ceil((b+w+t)/u)*u,P=Math.floor((v-t)/u)*u,R=Math.ceil((v+x+t)/u)*u,k=[E,P,R,!0],M=[T,P,R,!1];l(this,fo).push(k,M),i=Math.min(i,E),o=Math.max(o,T),a=Math.min(a,P),c=Math.max(c,R)}const d=o-i+2*r,h=c-a+2*r,f=i-r,p=a-r,m=l(this,fo).at(s?-1:-2),g=[m[0],m[2]];for(const b of l(this,fo)){const[v,w,x]=b;b[0]=(v-f)/d,b[1]=(w-p)/h,b[2]=(x-p)/h}y(this,Pf,new Float32Array([f,p,d,h])),y(this,Rf,g)}getOutlines(){l(this,fo).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of l(this,fo))t[3]?(e.push(...S(this,sn,yw).call(this,t)),S(this,sn,pR).call(this,t)):(S(this,sn,gR).call(this,t),e.push(...S(this,sn,yw).call(this,t)));return S(this,sn,fR).call(this,e)}}Pf=new WeakMap,Rf=new WeakMap,fo=new WeakMap,Nr=new WeakMap,sn=new WeakSet,fR=function(e){const t=[],r=new Set;for(const o of e){const[a,c,u]=o;t.push([a,c,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const c=t[o][2],u=t[o+1][2];c.push(u),u.push(c),r.add(c),r.add(u)}const s=[];let i;for(;r.size>0;){const o=r.values().next().value;let[a,c,u,d,h]=o;r.delete(o);let f=a,p=c;for(i=[a,u],s.push(i);;){let m;if(r.has(d))m=d;else if(r.has(h))m=h;else break;r.delete(m),[a,c,u,d,h]=m,f!==a&&(i.push(f,p,a,p===c?c:u),f=a),p=p===c?u:c}i.push(f,p)}return new Gz(s,l(this,Pf),l(this,Rf))},gg=function(e){const t=l(this,Nr);let r=0,s=t.length-1;for(;r<=s;){const i=r+s>>1,o=t[i][0];if(o===e)return i;o<e?r=i+1:s=i-1}return s+1},pR=function([,e,t]){const r=S(this,sn,gg).call(this,e);l(this,Nr).splice(r,0,[e,t])},gR=function([,e,t]){const r=S(this,sn,gg).call(this,e);for(let s=r;s<l(this,Nr).length;s++){const[i,o]=l(this,Nr)[s];if(i!==e)break;if(i===e&&o===t){l(this,Nr).splice(s,1);return}}for(let s=r-1;s>=0;s--){const[i,o]=l(this,Nr)[s];if(i!==e)break;if(i===e&&o===t){l(this,Nr).splice(s,1);return}}},yw=function(e){const[t,r,s]=e,i=[[t,r,s]],o=S(this,sn,gg).call(this,s);for(let a=0;a<o;a++){const[c,u]=l(this,Nr)[a];for(let d=0,h=i.length;d<h;d++){const[,f,p]=i[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)i[d][1]=u;else{if(h===1)return[];i.splice(d,1),d--,h--}continue}i[d][2]=c,p>u&&i.push([t,u,p])}}}return i};var kf,du;class Gz extends G{constructor(t,r,s){super();A(this,kf);A(this,du);y(this,du,t),y(this,kf,r),this.lastPoint=s}toSVGPath(){const t=[];for(const r of l(this,du)){let[s,i]=r;t.push(`M${s} ${i}`);for(let o=2;o<r.length;o+=2){const a=r[o],c=r[o+1];a===s?(t.push(`V${c}`),i=c):c===i&&(t.push(`H${a}`),s=a)}t.push("Z")}return t.join(" ")}serialize([t,r,s,i],o){const a=[],c=s-t,u=i-r;for(const d of l(this,du)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*c,h[f+1]=i-d[f+1]*u;a.push(h)}return a}get box(){return l(this,kf)}get classNamesForOutlining(){return["highlightOutline"]}}kf=new WeakMap,du=new WeakMap;class ww extends um{newFreeDrawOutline(e,t,r,s,i,o){return new Xz(e,t,r,s,i,o)}}class Xz extends dR{newOutliner(e,t,r,s,i,o=0){return new ww(e,t,r,s,i,o)}}var Lr,tl,hu,ct,Mf,fu,Nf,Lf,po,Ir,pu,If,Te,bw,xw,Aw,Zo,mR,Ii;const un=class un{constructor({editor:e=null,uiManager:t=null}){A(this,Te);A(this,Lr,null);A(this,tl,null);A(this,hu);A(this,ct,null);A(this,Mf,!1);A(this,fu,!1);A(this,Nf,null);A(this,Lf);A(this,po,null);A(this,Ir,null);A(this,pu);var r;e?(y(this,fu,!1),y(this,pu,ge.HIGHLIGHT_COLOR),y(this,Nf,e)):(y(this,fu,!0),y(this,pu,ge.HIGHLIGHT_DEFAULT_COLOR)),y(this,Ir,(e==null?void 0:e._uiManager)||t),y(this,Lf,l(this,Ir)._eventBus),y(this,hu,(e==null?void 0:e.color)||((r=l(this,Ir))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),l(un,If)||y(un,If,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return fe(this,"_keyboardManager",new Zf([[["Escape","mac+Escape"],un.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],un.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],un.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],un.prototype._moveToPrevious],[["Home","mac+Home"],un.prototype._moveToBeginning],[["End","mac+End"],un.prototype._moveToEnd]]))}renderButton(){const e=y(this,Lr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=l(this,Ir)._signal;e.addEventListener("click",S(this,Te,Zo).bind(this),{signal:t}),e.addEventListener("keydown",S(this,Te,Aw).bind(this),{signal:t});const r=y(this,tl,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=l(this,hu),e.append(r),e}renderMainDropdown(){const e=y(this,ct,S(this,Te,bw).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===l(this,Lr)){S(this,Te,Zo).call(this,e);return}const t=e.target.getAttribute("data-color");t&&S(this,Te,xw).call(this,t,e)}_moveToNext(e){var t,r;if(!l(this,Te,Ii)){S(this,Te,Zo).call(this,e);return}if(e.target===l(this,Lr)){(t=l(this,ct).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=l(this,ct))==null?void 0:t.firstChild)||e.target===l(this,Lr)){l(this,Te,Ii)&&this._hideDropdownFromKeyboard();return}l(this,Te,Ii)||S(this,Te,Zo).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!l(this,Te,Ii)){S(this,Te,Zo).call(this,e);return}(t=l(this,ct).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,Te,Ii)){S(this,Te,Zo).call(this,e);return}(t=l(this,ct).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,ct))==null||e.classList.add("hidden"),(t=l(this,po))==null||t.abort(),y(this,po,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,fu)){if(!l(this,Te,Ii)){(e=l(this,Nf))==null||e.unselect();return}this.hideDropdown(),l(this,Lr).focus({preventScroll:!0,focusVisible:l(this,Mf)})}}updateColor(e){if(l(this,tl)&&(l(this,tl).style.backgroundColor=e),!l(this,ct))return;const t=l(this,Ir).highlightColors.values();for(const r of l(this,ct).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=l(this,Lr))==null||e.remove(),y(this,Lr,null),y(this,tl,null),(t=l(this,ct))==null||t.remove(),y(this,ct,null)}};Lr=new WeakMap,tl=new WeakMap,hu=new WeakMap,ct=new WeakMap,Mf=new WeakMap,fu=new WeakMap,Nf=new WeakMap,Lf=new WeakMap,po=new WeakMap,Ir=new WeakMap,pu=new WeakMap,If=new WeakMap,Te=new WeakSet,bw=function(){const e=document.createElement("div"),t=l(this,Ir)._signal;e.addEventListener("contextmenu",Wr,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,s]of l(this,Ir).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=r,i.setAttribute("data-l10n-id",l(un,If)[r]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=s,i.setAttribute("aria-selected",s===l(this,hu)),i.addEventListener("click",S(this,Te,xw).bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",S(this,Te,Aw).bind(this),{signal:t}),e},xw=function(e,t){t.stopPropagation(),l(this,Lf).dispatch("switchannotationeditorparams",{source:this,type:l(this,pu),value:e})},Aw=function(e){un._keyboardManager.exec(this,e)},Zo=function(e){if(l(this,Te,Ii)){this.hideDropdown();return}if(y(this,Mf,e.detail===0),l(this,po)||(y(this,po,new AbortController),window.addEventListener("pointerdown",S(this,Te,mR).bind(this),{signal:l(this,Ir).combinedSignal(l(this,po))})),l(this,ct)){l(this,ct).classList.remove("hidden");return}const t=y(this,ct,S(this,Te,bw).call(this));l(this,Lr).append(t)},mR=function(e){var t;(t=l(this,ct))!=null&&t.contains(e.target)||this.hideDropdown()},Ii=function(){return l(this,ct)&&!l(this,ct).classList.contains("hidden")},A(un,If,null);let dm=un;var gu,Df,si,nl,mu,fn,Of,Ff,rl,Jn,Mn,_t,vu,ii,Bt,yu,er,jf,ae,Sw,mg,vR,yR,wR,Ew,Jo,or,Vl,bR,vg,Cd,xR,AR,SR,ER,CR;const xe=class xe extends Ge{constructor(t){super({...t,name:"highlightEditor"});A(this,ae);A(this,gu,null);A(this,Df,0);A(this,si);A(this,nl,null);A(this,mu,null);A(this,fn,null);A(this,Of,null);A(this,Ff,0);A(this,rl,null);A(this,Jn,null);A(this,Mn,null);A(this,_t,!1);A(this,vu,null);A(this,ii);A(this,Bt,null);A(this,yu,"");A(this,er);A(this,jf,"");this.color=t.color||xe._defaultColor,y(this,er,t.thickness||xe._defaultThickness),y(this,ii,t.opacity||xe._defaultOpacity),y(this,si,t.boxes||null),y(this,jf,t.methodOfCreation||""),y(this,yu,t.text||""),this._isDraggable=!1,t.highlightId>-1?(y(this,_t,!0),S(this,ae,mg).call(this,t),S(this,ae,Jo).call(this)):l(this,si)&&(y(this,gu,t.anchorNode),y(this,Df,t.anchorOffset),y(this,Of,t.focusNode),y(this,Ff,t.focusOffset),S(this,ae,Sw).call(this),S(this,ae,Jo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=xe.prototype;return fe(this,"_keyboardManager",new Zf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,_t)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:l(this,er),methodOfCreation:l(this,jf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var s;Ge.initialize(t,r),xe._defaultColor||(xe._defaultColor=((s=r.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case ge.HIGHLIGHT_DEFAULT_COLOR:xe._defaultColor=r;break;case ge.HIGHLIGHT_THICKNESS:xe._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return l(this,vu)}updateParams(t,r){switch(t){case ge.HIGHLIGHT_COLOR:S(this,ae,vR).call(this,r);break;case ge.HIGHLIGHT_THICKNESS:S(this,ae,yR).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ge.HIGHLIGHT_DEFAULT_COLOR,xe._defaultColor],[ge.HIGHLIGHT_THICKNESS,xe._defaultThickness]]}get propertiesToUpdate(){return[[ge.HIGHLIGHT_COLOR,this.color||xe._defaultColor],[ge.HIGHLIGHT_THICKNESS,l(this,er)||xe._defaultThickness],[ge.HIGHLIGHT_FREE,l(this,_t)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(y(this,mu,new dm({editor:this})),t.addColorPicker(l(this,mu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(S(this,ae,Cd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,S(this,ae,Cd).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){S(this,ae,Ew).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,ae,Jo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?S(this,ae,Ew).call(this):t&&(S(this,ae,Jo).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var i,o,a;const{drawLayer:r}=this.parent;let s;l(this,_t)?(t=(t-this.rotation+360)%360,s=S(i=xe,or,Vl).call(i,l(this,Jn).box,t)):s=S(o=xe,or,Vl).call(o,[this.x,this.y,this.width,this.height],t),r.updateProperties(l(this,Mn),{bbox:s,root:{"data-main-rotation":t}}),r.updateProperties(l(this,Bt),{bbox:S(a=xe,or,Vl).call(a,l(this,fn).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();l(this,yu)&&(t.setAttribute("aria-label",l(this,yu)),t.setAttribute("role","mark")),l(this,_t)?t.classList.add("free"):this.div.addEventListener("keydown",S(this,ae,bR).bind(this),{signal:this._uiManager._signal});const r=y(this,rl,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=l(this,nl);const[s,i]=this.parentDimensions;return this.setDims(this.width*s,this.height*i),am(this,l(this,rl),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Bt),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Bt),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:S(this,ae,vg).call(this,!0);break;case 1:case 3:S(this,ae,vg).call(this,!1);break}}select(){var t;super.select(),l(this,Bt)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Bt),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),l(this,Bt)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Bt),{rootClass:{selected:!1}}),l(this,_t)||S(this,ae,vg).call(this,!1))}get _mustFixPosition(){return!l(this,_t)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(l(this,Mn),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(l(this,Bt),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:s,x:i,y:o}){const{x:a,y:c,width:u,height:d}=s.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=m=>{h.abort(),S(this,or,ER).call(this,t,m)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",zn,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Wr,{signal:f}),s.addEventListener("pointermove",S(this,or,SR).bind(this,t),{signal:f}),this._freeHighlight=new ww({x:i,y:o},[a,c,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,s){var g,b,v,w;let i=null;if(t instanceof QP){const{data:{quadPoints:x,rect:E,rotation:T,id:P,color:R,opacity:k,popupRef:M},parent:{page:{pageNumber:L}}}=t;i=t={annotationType:ce.HIGHLIGHT,color:Array.from(R),opacity:k,quadPoints:x,boxes:null,pageIndex:L-1,rect:E.slice(0),rotation:T,id:P,deleted:!1,popupRef:M}}else if(t instanceof gx){const{data:{inkLists:x,rect:E,rotation:T,id:P,color:R,borderStyle:{rawWidth:k},popupRef:M},parent:{page:{pageNumber:L}}}=t;i=t={annotationType:ce.HIGHLIGHT,color:Array.from(R),thickness:k,inkLists:x,boxes:null,pageIndex:L-1,rect:E.slice(0),rotation:T,id:P,deleted:!1,popupRef:M}}const{color:o,quadPoints:a,inkLists:c,opacity:u}=t,d=await super.deserialize(t,r,s);d.color=Q.makeHexColor(...o),y(d,ii,u||1),c&&y(d,er,t.thickness),d.annotationElementId=t.id||null,d._initialData=i;const[h,f]=d.pageDimensions,[p,m]=d.pageTranslation;if(a){const x=y(d,si,[]);for(let E=0;E<a.length;E+=8)x.push({x:(a[E]-p)/h,y:1-(a[E+1]-m)/f,width:(a[E+2]-a[E])/h,height:(a[E+1]-a[E+5])/f});S(g=d,ae,Sw).call(g),S(b=d,ae,Jo).call(b),d.rotate(d.rotation)}else if(c){y(d,_t,!0);const x=c[0],E={x:x[0]-p,y:f-(x[1]-m)},T=new ww(E,[0,0,h,f],1,l(d,er)/2,!0,.001);for(let k=0,M=x.length;k<M;k+=2)E.x=x[k]-p,E.y=f-(x[k+1]-m),T.add(E);const{id:P,clipPathId:R}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);S(v=d,ae,mg).call(v,{highlightOutlines:T.getOutlines(),highlightId:P,clipPathId:R}),S(w=d,ae,Jo).call(w)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),s=Ge._colorManager.convert(this.color),i={annotationType:ce.HIGHLIGHT,color:s,opacity:l(this,ii),thickness:l(this,er),quadPoints:S(this,ae,xR).call(this),outlines:S(this,ae,AR).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:S(this,ae,Cd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!S(this,ae,CR).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};gu=new WeakMap,Df=new WeakMap,si=new WeakMap,nl=new WeakMap,mu=new WeakMap,fn=new WeakMap,Of=new WeakMap,Ff=new WeakMap,rl=new WeakMap,Jn=new WeakMap,Mn=new WeakMap,_t=new WeakMap,vu=new WeakMap,ii=new WeakMap,Bt=new WeakMap,yu=new WeakMap,er=new WeakMap,jf=new WeakMap,ae=new WeakSet,Sw=function(){const t=new vw(l(this,si),.001);y(this,Jn,t.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,Jn).box;const r=new vw(l(this,si),.0025,.001,this._uiManager.direction==="ltr");y(this,fn,r.getOutlines());const{lastPoint:s}=l(this,fn);y(this,vu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},mg=function({highlightOutlines:t,highlightId:r,clipPathId:s}){var h,f;if(y(this,Jn,t),y(this,fn,t.getNewOutline(l(this,er)/2+1.5,.0025)),r>=0)y(this,Mn,r),y(this,nl,s),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),y(this,Bt,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,fn).box,path:{d:l(this,fn).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,Mn),{bbox:S(h=xe,or,Vl).call(h,l(this,Jn).box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,Bt),{bbox:S(f=xe,or,Vl).call(f,l(this,fn).box,p),path:{d:l(this,fn).toSVGPath()}})}const[o,a,c,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=c,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=c*m/p,this.height=u*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=c,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=c*m/p,this.height=u*p/m;break}}const{lastPoint:d}=l(this,fn);y(this,vu,[(d[0]-o)/c,(d[1]-a)/u])},vR=function(t){const r=(o,a)=>{var c,u;this.color=o,y(this,ii,a),(c=this.parent)==null||c.drawLayer.updateProperties(l(this,Mn),{root:{fill:o,"fill-opacity":a}}),(u=l(this,mu))==null||u.updateColor(o)},s=this.color,i=l(this,ii);this.addCommands({cmd:r.bind(this,t,xe._defaultOpacity),undo:r.bind(this,s,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ge.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},yR=function(t){const r=l(this,er),s=i=>{y(this,er,i),S(this,ae,wR).call(this,i)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ge.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},wR=function(t){if(!l(this,_t))return;S(this,ae,mg).call(this,{highlightOutlines:l(this,Jn).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,s]=this.parentDimensions;this.setDims(this.width*r,this.height*s)},Ew=function(){l(this,Mn)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Mn)),y(this,Mn,null),this.parent.drawLayer.remove(l(this,Bt)),y(this,Bt,null))},Jo=function(t=this.parent){l(this,Mn)===null&&({id:ft(this,Mn)._,clipPathId:ft(this,nl)._}=t.drawLayer.draw({bbox:l(this,Jn).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":l(this,ii)},rootClass:{highlight:!0,free:l(this,_t)},path:{d:l(this,Jn).toSVGPath()}},!1,!0),y(this,Bt,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,_t)},bbox:l(this,fn).box,path:{d:l(this,fn).toSVGPath()}},l(this,_t))),l(this,rl)&&(l(this,rl).style.clipPath=l(this,nl)))},or=new WeakSet,Vl=function([t,r,s,i],o){switch(o){case 90:return[1-r-i,t,i,s];case 180:return[1-t-s,1-r-i,s,i];case 270:return[r,1-t-s,i,s]}return[t,r,s,i]},bR=function(t){xe._keyboardManager.exec(this,t)},vg=function(t){if(!l(this,gu))return;const r=window.getSelection();t?r.setPosition(l(this,gu),l(this,Df)):r.setPosition(l(this,Of),l(this,Ff))},Cd=function(){return l(this,_t)?this.rotation:0},xR=function(){if(l(this,_t))return null;const[t,r]=this.pageDimensions,[s,i]=this.pageTranslation,o=l(this,si),a=new Float32Array(o.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of o){const p=u*t+s,m=(1-d)*r+i;a[c]=a[c+4]=p,a[c+1]=a[c+3]=m,a[c+2]=a[c+6]=p+h*t,a[c+5]=a[c+7]=m-f*r,c+=8}return a},AR=function(t){return l(this,Jn).serialize(t,S(this,ae,Cd).call(this))},SR=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},ER=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},CR=function(t){const{color:r}=this._initialData;return t.color.some((s,i)=>s!==r[i])},A(xe,or),ne(xe,"_defaultColor",null),ne(xe,"_defaultOpacity",1),ne(xe,"_defaultThickness",12),ne(xe,"_type","highlight"),ne(xe,"_editorType",ce.HIGHLIGHT),ne(xe,"_freeHighlightId",-1),ne(xe,"_freeHighlight",null),ne(xe,"_freeHighlightClipId","");let hm=xe;var sl;class Yz{constructor(){A(this,sl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))this.updateProperty(t,r)}updateSVGProperty(e,t){l(this,sl)[e]=t}toSVGProperties(){const e=l(this,sl);return y(this,sl,Object.create(null)),{root:e}}reset(){y(this,sl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Re("Not implemented")}}sl=new WeakMap;var Nn,wu,yt,il,ol,go,mo,vo,al,ye,_w,Tw,Pw,_d,_R,yg,Td,Wl;const Y=class Y extends Ge{constructor(t){super(t);A(this,ye);A(this,Nn,null);A(this,wu);ne(this,"_drawId",null);y(this,wu,t.mustBeCommitted||!1),t.drawOutlines&&(S(this,ye,_w).call(this,t),S(this,ye,_d).call(this))}static _mergeSVGProperties(t,r){const s=new Set(Object.keys(t));for(const[i,o]of Object.entries(r))s.has(i)?Object.assign(t[i],o):t[i]=o;return t}static getDefaultDrawingOptions(t){Re("Not implemented")}static get typesMap(){Re("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,r),this._currentParent&&(l(Y,yt).updateProperty(s,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[s,i]of this.typesMap)t.push([s,r[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[s,i]of this.constructor.typesMap)t.push([s,r[i]]);return t}_updateProperty(t,r,s){const i=this._drawingOptions,o=i[r],a=c=>{var d;i.updateProperty(r,c);const u=l(this,Nn).updateProperty(r,c);u&&S(this,ye,Td).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:a.bind(this,s),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(l(this,Nn).getPathResizingSVGProperties(S(this,ye,yg).call(this)),{bbox:S(this,ye,Wl).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(l(this,Nn).getPathResizedSVGProperties(S(this,ye,yg).call(this)),{bbox:S(this,ye,Wl).call(this)}))}_onTranslating(t,r){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:S(this,ye,Wl).call(this,t,r)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(l(this,Nn).getPathTranslatedSVGProperties(S(this,ye,yg).call(this),this.parentDimensions),{bbox:S(this,ye,Wl).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,wu)&&(y(this,wu,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){S(this,ye,Pw).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,ye,_d).call(this),S(this,ye,Td).call(this,l(this,Nn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),S(this,ye,Pw).call(this)):t&&(this._uiManager.addShouldRescale(this),S(this,ye,_d).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties({bbox:S(this,ye,Wl).call(this)},l(this,Nn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&S(this,ye,Td).call(this,l(this,Nn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const r=document.createElement("div");t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[s,i]=this.parentDimensions;return this.setDims(this.width*s,this.height*i),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,r,s,i,o){Re("Not implemented")}static startDrawing(t,r,s,i){var b;const{target:o,offsetX:a,offsetY:c,pointerId:u,pointerType:d}=i;if(l(Y,mo)&&l(Y,mo)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:p}=o.getBoundingClientRect(),m=y(Y,il,new AbortController),g=t.combinedSignal(m);if(l(Y,go)||y(Y,go,u),l(Y,mo)??y(Y,mo,d),window.addEventListener("pointerup",v=>{var w;l(Y,go)===v.pointerId?this._endDraw(v):(w=l(Y,vo))==null||w.delete(v.pointerId)},{signal:g}),window.addEventListener("pointercancel",v=>{var w;l(Y,go)===v.pointerId?this._currentParent.endDrawingSession():(w=l(Y,vo))==null||w.delete(v.pointerId)},{signal:g}),window.addEventListener("pointerdown",v=>{l(Y,mo)===v.pointerType&&((l(Y,vo)||y(Y,vo,new Set)).add(v.pointerId),l(Y,yt).isCancellable()&&(l(Y,yt).removeLastElement(),l(Y,yt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Wr,{signal:g}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),o.addEventListener("touchmove",v=>{v.timeStamp===l(Y,al)&&zn(v)},{signal:g}),t.toggleDrawing(),(b=r._editorUndoBar)==null||b.hide(),l(Y,yt)){t.drawLayer.updateProperties(this._currentDrawId,l(Y,yt).startNew(a,c,f,p,h));return}r.updateUIForDefaultProperties(this),y(Y,yt,this.createDrawerInstance(a,c,f,p,h)),y(Y,ol,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(l(Y,ol).toSVGProperties(),l(Y,yt).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(y(Y,al,-1),!l(Y,yt))return;const{offsetX:r,offsetY:s,pointerId:i}=t;if(l(Y,go)===i){if(((o=l(Y,vo))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(Y,yt).add(r,s)),y(Y,al,t.timeStamp),zn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,y(Y,yt,null),y(Y,ol,null),y(Y,mo,null),y(Y,al,NaN)),l(Y,il)&&(l(Y,il).abort(),y(Y,il,null),y(Y,go,NaN),y(Y,vo,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),t&&r.drawLayer.updateProperties(this._currentDrawId,l(Y,yt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=l(Y,yt),i=this._currentDrawId,o=s.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(i,s.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(i,s.removeLastElement())},mustExec:!1,type:ge.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(ge.DRAW_STEP),!l(Y,yt).isEmpty()){const{pageDimensions:[s,i],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(Y,yt).getOutlines(s*o,i*o,o,this._INNER_MARGIN),drawingOptions:l(Y,ol),mustBeCommitted:!t});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,s,i,o,a){Re("Not implemented")}static async deserialize(t,r,s){var h,f;const{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:c}}=r.viewport,u=this.deserializeDraw(a,c,i,o,this._INNER_MARGIN,t),d=await super.deserialize(t,r,s);return d.createDrawingOptions(t),S(h=d,ye,_w).call(h,{drawOutlines:u}),S(f=d,ye,_d).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[r,s]=this.pageTranslation,[i,o]=this.pageDimensions;return l(this,Nn).serialize([r,s,i,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Nn=new WeakMap,wu=new WeakMap,yt=new WeakMap,il=new WeakMap,ol=new WeakMap,go=new WeakMap,mo=new WeakMap,vo=new WeakMap,al=new WeakMap,ye=new WeakSet,_w=function({drawOutlines:t,drawId:r,drawingOptions:s}){y(this,Nn,t),this._drawingOptions||(this._drawingOptions=s),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=S(this,ye,Tw).call(this,t,this.parent),S(this,ye,Td).call(this,t.box)},Tw=function(t,r){const{id:s}=r.drawLayer.draw(Y._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},Pw=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},_d=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=S(this,ye,Tw).call(this,l(this,Nn),t)}},_R=function([t,r,s,i]){const{parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[r,1-t,s*(a/o),i*(o/a)];case 180:return[1-t,1-r,s,i];case 270:return[1-r,t,s*(a/o),i*(o/a)];default:return[t,r,s,i]}},yg=function(){const{x:t,y:r,width:s,height:i,parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[1-r,t,s*(o/a),i*(a/o)];case 180:return[1-t,1-r,s,i];case 270:return[r,1-t,s*(o/a),i*(a/o)];default:return[t,r,s,i]}},Td=function(t){if([this.x,this.y,this.width,this.height]=S(this,ye,_R).call(this,t),this.div){this.fixAndSetPosition();const[r,s]=this.parentDimensions;this.setDims(this.width*r,this.height*s)}this._onResized()},Wl=function(){const{x:t,y:r,width:s,height:i,rotation:o,parentRotation:a,parentDimensions:[c,u]}=this;switch((o*4+a)/90){case 1:return[1-r-i,t,i,s];case 2:return[1-t-s,1-r-i,s,i];case 3:return[r,1-t-s,i,s];case 4:return[t,r-s*(c/u),i*(u/c),s*(c/u)];case 5:return[1-r,t,s*(c/u),i*(u/c)];case 6:return[1-t-i*(u/c),1-r,i*(u/c),s*(c/u)];case 7:return[r-s*(c/u),1-t-i*(u/c),s*(c/u),i*(u/c)];case 8:return[t-s,r-i,s,i];case 9:return[1-r,t-s,i,s];case 10:return[1-t,1-r,s,i];case 11:return[r-i,1-t,i,s];case 12:return[t-i*(u/c),r,i*(u/c),s*(c/u)];case 13:return[1-r-s*(c/u),t-i*(u/c),s*(c/u),i*(u/c)];case 14:return[1-t,1-r-s*(c/u),i*(u/c),s*(c/u)];case 15:return[r,1-t,s*(c/u),i*(u/c)];default:return[t,r,s,i]}},ne(Y,"_currentDrawId",-1),ne(Y,"_currentParent",null),A(Y,yt,null),A(Y,il,null),A(Y,ol,null),A(Y,go,NaN),A(Y,mo,null),A(Y,vo,null),A(Y,al,NaN),ne(Y,"_INNER_MARGIN",3);let Cw=Y;var hs,wt,bt,ll,bu,Kt,Tt,tr,cl,ul,dl,xu,wg;class qz{constructor(e,t,r,s,i,o){A(this,xu);A(this,hs,new Float64Array(6));A(this,wt);A(this,bt);A(this,ll);A(this,bu);A(this,Kt);A(this,Tt,"");A(this,tr,0);A(this,cl,new fm);A(this,ul);A(this,dl);y(this,ul,r),y(this,dl,s),y(this,ll,i),y(this,bu,o),[e,t]=S(this,xu,wg).call(this,e,t);const a=y(this,wt,[NaN,NaN,NaN,NaN,e,t]);y(this,Kt,[e,t]),y(this,bt,[{line:a,points:l(this,Kt)}]),l(this,hs).set(a,0)}updateProperty(e,t){e==="stroke-width"&&y(this,bu,t)}isEmpty(){return!l(this,bt)||l(this,bt).length===0}isCancellable(){return l(this,Kt).length<=10}add(e,t){[e,t]=S(this,xu,wg).call(this,e,t);const[r,s,i,o]=l(this,hs).subarray(2,6),a=e-i,c=t-o;return Math.hypot(l(this,ul)*a,l(this,dl)*c)<=2?null:(l(this,Kt).push(e,t),isNaN(r)?(l(this,hs).set([i,o,e,t],2),l(this,wt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(l(this,hs)[0])&&l(this,wt).splice(6,6),l(this,hs).set([r,s,i,o,e,t],0),l(this,wt).push(...G.createBezierPoints(r,s,i,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(l(this,Kt).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,s,i){y(this,ul,r),y(this,dl,s),y(this,ll,i),[e,t]=S(this,xu,wg).call(this,e,t);const o=y(this,wt,[NaN,NaN,NaN,NaN,e,t]);y(this,Kt,[e,t]);const a=l(this,bt).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),l(this,bt).push({line:o,points:l(this,Kt)}),l(this,hs).set(o,0),y(this,tr,0),this.toSVGPath(),null}getLastElement(){return l(this,bt).at(-1)}setLastElement(e){return l(this,bt)?(l(this,bt).push(e),y(this,wt,e.line),y(this,Kt,e.points),y(this,tr,0),{path:{d:this.toSVGPath()}}):l(this,cl).setLastElement(e)}removeLastElement(){if(!l(this,bt))return l(this,cl).removeLastElement();l(this,bt).pop(),y(this,Tt,"");for(let e=0,t=l(this,bt).length;e<t;e++){const{line:r,points:s}=l(this,bt)[e];y(this,wt,r),y(this,Kt,s),y(this,tr,0),this.toSVGPath()}return{path:{d:l(this,Tt)}}}toSVGPath(){const e=G.svgRound(l(this,wt)[4]),t=G.svgRound(l(this,wt)[5]);if(l(this,Kt).length===2)return y(this,Tt,`${l(this,Tt)} M ${e} ${t} Z`),l(this,Tt);if(l(this,Kt).length<=6){const s=l(this,Tt).lastIndexOf("M");y(this,Tt,`${l(this,Tt).slice(0,s)} M ${e} ${t}`),y(this,tr,6)}if(l(this,Kt).length===4){const s=G.svgRound(l(this,wt)[10]),i=G.svgRound(l(this,wt)[11]);return y(this,Tt,`${l(this,Tt)} L ${s} ${i}`),y(this,tr,12),l(this,Tt)}const r=[];l(this,tr)===0&&(r.push(`M ${e} ${t}`),y(this,tr,6));for(let s=l(this,tr),i=l(this,wt).length;s<i;s+=6){const[o,a,c,u,d,h]=l(this,wt).slice(s,s+6).map(G.svgRound);r.push(`C${o} ${a} ${c} ${u} ${d} ${h}`)}return y(this,Tt,l(this,Tt)+r.join(" ")),y(this,tr,l(this,wt).length),l(this,Tt)}getOutlines(e,t,r,s){const i=l(this,bt).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),l(this,cl).build(l(this,bt),e,t,r,l(this,ll),l(this,bu),s),y(this,hs,null),y(this,wt,null),y(this,bt,null),y(this,Tt,null),l(this,cl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}hs=new WeakMap,wt=new WeakMap,bt=new WeakMap,ll=new WeakMap,bu=new WeakMap,Kt=new WeakMap,Tt=new WeakMap,tr=new WeakMap,cl=new WeakMap,ul=new WeakMap,dl=new WeakMap,xu=new WeakSet,wg=function(e,t){return G._normalizePoint(e,t,l(this,ul),l(this,dl),l(this,ll))};var Qt,zf,$f,Ln,fs,ps,Au,Su,Eu,kt,Ls,TR,PR,RR;const bx=class bx extends G{constructor(){super(...arguments);A(this,kt);A(this,Qt);A(this,zf,0);A(this,$f);A(this,Ln);A(this,fs);A(this,ps);A(this,Au);A(this,Su);A(this,Eu)}build(t,r,s,i,o,a,c){y(this,fs,r),y(this,ps,s),y(this,Au,i),y(this,Su,o),y(this,Eu,a),y(this,$f,c??0),y(this,Ln,t),S(this,kt,PR).call(this)}setLastElement(t){return l(this,Ln).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,Ln).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of l(this,Ln)){if(t.push(`M${G.svgRound(r[4])} ${G.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12){t.push(`L${G.svgRound(r[10])} ${G.svgRound(r[11])}`);continue}for(let s=6,i=r.length;s<i;s+=6){const[o,a,c,u,d,h]=r.subarray(s,s+6).map(G.svgRound);t.push(`C${o} ${a} ${c} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,r,s,i],o){const a=[],c=[],[u,d,h,f]=S(this,kt,TR).call(this);let p,m,g,b,v,w,x,E,T;switch(l(this,Su)){case 0:T=G._rescale,p=t,m=r+i,g=s,b=-i,v=t+u*s,w=r+(1-d-f)*i,x=t+(u+h)*s,E=r+(1-d)*i;break;case 90:T=G._rescaleAndSwap,p=t,m=r,g=s,b=i,v=t+d*s,w=r+u*i,x=t+(d+f)*s,E=r+(u+h)*i;break;case 180:T=G._rescale,p=t+s,m=r,g=-s,b=i,v=t+(1-u-h)*s,w=r+d*i,x=t+(1-u)*s,E=r+(d+f)*i;break;case 270:T=G._rescaleAndSwap,p=t+s,m=r+i,g=-s,b=-i,v=t+(1-d-f)*s,w=r+(1-u-h)*i,x=t+(1-d)*s,E=r+(1-u)*i;break}for(const{line:P,points:R}of l(this,Ln))a.push(T(P,p,m,g,b,o?new Array(P.length):null)),c.push(T(R,p,m,g,b,o?new Array(R.length):null));return{lines:a,points:c,rect:[v,w,x,E]}}static deserialize(t,r,s,i,o,{paths:{lines:a,points:c},rotation:u,thickness:d}){const h=[];let f,p,m,g,b;switch(u){case 0:b=G._rescale,f=-t/s,p=r/i+1,m=1/s,g=-1/i;break;case 90:b=G._rescaleAndSwap,f=-r/i,p=-t/s,m=1/i,g=1/s;break;case 180:b=G._rescale,f=t/s+1,p=-r/i,m=-1/s,g=1/i;break;case 270:b=G._rescaleAndSwap,f=r/i+1,p=t/s+1,m=-1/i,g=-1/s;break}if(!a){a=[];for(const w of c){const x=w.length;if(x===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const E=new Float32Array(3*(x-2));a.push(E);let[T,P,R,k]=w.subarray(0,4);E.set([NaN,NaN,NaN,NaN,T,P],0);for(let M=4;M<x;M+=2){const L=w[M],O=w[M+1];E.set(G.createBezierPoints(T,P,R,k,L,O),(M-2)*3),[T,P,R,k]=[R,k,L,O]}}}for(let w=0,x=a.length;w<x;w++)h.push({line:b(a[w].map(E=>E??NaN),f,p,m,g),points:b(c[w].map(E=>E??NaN),f,p,m,g)});const v=new bx;return v.build(h,s,i,1,u,d,o),v}get box(){return l(this,Qt)}updateProperty(t,r){return t==="stroke-width"?S(this,kt,RR).call(this,r):null}updateParentDimensions([t,r],s){const[i,o]=S(this,kt,Ls).call(this);y(this,fs,t),y(this,ps,r),y(this,Au,s);const[a,c]=S(this,kt,Ls).call(this),u=a-i,d=c-o,h=l(this,Qt);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return y(this,zf,t),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,Qt).map(G.svgRound).join(" ")}get defaultProperties(){const[t,r]=l(this,Qt);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${G.svgRound(t)} ${G.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=l(this,Qt);let s=0,i=0,o=0,a=0,c=0,u=0;switch(l(this,zf)){case 90:i=r/t,o=-t/r,c=t;break;case 180:s=-1,a=-1,c=t,u=r;break;case 270:i=-r/t,o=t/r,u=r;break;default:return""}return`matrix(${s} ${i} ${o} ${a} ${G.svgRound(c)} ${G.svgRound(u)})`}getPathResizingSVGProperties([t,r,s,i]){const[o,a]=S(this,kt,Ls).call(this),[c,u,d,h]=l(this,Qt);if(Math.abs(d-o)<=G.PRECISION||Math.abs(h-a)<=G.PRECISION){const b=t+s/2-(c+d/2),v=r+i/2-(u+h/2);return{path:{"transform-origin":`${G.svgRound(t)} ${G.svgRound(r)}`,transform:`${this.rotationTransform} translate(${b} ${v})`}}}const f=(s-2*o)/(d-2*o),p=(i-2*a)/(h-2*a),m=d/s,g=h/i;return{path:{"transform-origin":`${G.svgRound(c)} ${G.svgRound(u)}`,transform:`${this.rotationTransform} scale(${m} ${g}) translate(${G.svgRound(o)} ${G.svgRound(a)}) scale(${f} ${p}) translate(${G.svgRound(-o)} ${G.svgRound(-a)})`}}}getPathResizedSVGProperties([t,r,s,i]){const[o,a]=S(this,kt,Ls).call(this),c=l(this,Qt),[u,d,h,f]=c;if(c[0]=t,c[1]=r,c[2]=s,c[3]=i,Math.abs(h-o)<=G.PRECISION||Math.abs(f-a)<=G.PRECISION){const v=t+s/2-(u+h/2),w=r+i/2-(d+f/2);for(const{line:x,points:E}of l(this,Ln))G._translate(x,v,w,x),G._translate(E,v,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${G.svgRound(t)} ${G.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(s-2*o)/(h-2*o),m=(i-2*a)/(f-2*a),g=-p*(u+o)+t+o,b=-m*(d+a)+r+a;if(p!==1||m!==1||g!==0||b!==0)for(const{line:v,points:w}of l(this,Ln))G._rescale(v,g,b,p,m,v),G._rescale(w,g,b,p,m,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${G.svgRound(t)} ${G.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],s){const[i,o]=s,a=l(this,Qt),c=t-a[0],u=r-a[1];if(l(this,fs)===i&&l(this,ps)===o)for(const{line:d,points:h}of l(this,Ln))G._translate(d,c,u,d),G._translate(h,c,u,h);else{const d=l(this,fs)/i,h=l(this,ps)/o;y(this,fs,i),y(this,ps,o);for(const{line:f,points:p}of l(this,Ln))G._rescale(f,c,u,d,h,f),G._rescale(p,c,u,d,h,p);a[2]*=d,a[3]*=h}return a[0]=t,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${G.svgRound(t)} ${G.svgRound(r)}`}}}get defaultSVGProperties(){const t=l(this,Qt);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${G.svgRound(t[0])} ${G.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};Qt=new WeakMap,zf=new WeakMap,$f=new WeakMap,Ln=new WeakMap,fs=new WeakMap,ps=new WeakMap,Au=new WeakMap,Su=new WeakMap,Eu=new WeakMap,kt=new WeakSet,Ls=function(t=l(this,Eu)){const r=l(this,$f)+t/2*l(this,Au);return l(this,Su)%180===0?[r/l(this,fs),r/l(this,ps)]:[r/l(this,ps),r/l(this,fs)]},TR=function(){const[t,r,s,i]=l(this,Qt),[o,a]=S(this,kt,Ls).call(this,0);return[t+o,r+a,s-2*o,i-2*a]},PR=function(){const t=y(this,Qt,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of l(this,Ln)){if(i.length<=12){for(let c=4,u=i.length;c<u;c+=6){const[d,h]=i.subarray(c,c+2);t[0]=Math.min(t[0],d),t[1]=Math.min(t[1],h),t[2]=Math.max(t[2],d),t[3]=Math.max(t[3],h)}continue}let o=i[4],a=i[5];for(let c=6,u=i.length;c<u;c+=6){const[d,h,f,p,m,g]=i.subarray(c,c+6);Q.bezierBoundingBox(o,a,d,h,f,p,m,g,t),o=m,a=g}}const[r,s]=S(this,kt,Ls).call(this);t[0]=Math.min(1,Math.max(0,t[0]-r)),t[1]=Math.min(1,Math.max(0,t[1]-s)),t[2]=Math.min(1,Math.max(0,t[2]+r)),t[3]=Math.min(1,Math.max(0,t[3]+s)),t[2]-=t[0],t[3]-=t[1]},RR=function(t){const[r,s]=S(this,kt,Ls).call(this);y(this,Eu,t);const[i,o]=S(this,kt,Ls).call(this),[a,c]=[i-r,o-s],u=l(this,Qt);return u[0]-=a,u[1]-=c,u[2]+=2*a,u[3]+=2*c,u};let fm=bx;var Cu;const xx=class xx extends Yz{constructor(t){super();A(this,Cu);y(this,Cu,t),super.updateProperties({fill:"none",stroke:Ge._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,r){t==="stroke-width"&&(r??(r=this["stroke-width"]),r*=l(this,Cu).realScale),super.updateSVGProperty(t,r)}clone(){const t=new xx(l(this,Cu));return t.updateAll(this),t}};Cu=new WeakMap;let Rw=xx;var Mm,kR;const ic=class ic extends Cw{constructor(t){super({...t,name:"inkEditor"});A(this,Mm);this._willKeepAspectRatio=!0}static initialize(t,r){Ge.initialize(t,r),this._defaultDrawingOptions=new Rw(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return fe(this,"typesMap",new Map([[ge.INK_THICKNESS,"stroke-width"],[ge.INK_COLOR,"stroke"],[ge.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,s,i,o){return new qz(t,r,s,i,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,s,i,o,a){return fm.deserialize(t,r,s,i,o,a)}static async deserialize(t,r,s){let i=null;if(t instanceof gx){const{data:{inkLists:a,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:m},parent:{page:{pageNumber:g}}}=t;i=t={annotationType:ce.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:g-1,rect:c.slice(0),rotation:u,id:d,deleted:!1,popupRef:m}}const o=await super.deserialize(t,r,s);return o.annotationElementId=t.id||null,o._initialData=i,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:s}=this;r.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:s}){this._drawingOptions=ic.getDefaultDrawingOptions({stroke:Q.makeHexColor(...t),"stroke-width":r,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:s,rect:i}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":c}}=this,u={annotationType:ce.INK,color:Ge._colorManager.convert(o),opacity:a,thickness:c,paths:{lines:r,points:s},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?u:this.annotationElementId&&!S(this,Mm,kR).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:r,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:r}),null}};Mm=new WeakSet,kR=function(t){const{color:r,thickness:s,opacity:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((a,c)=>a!==r[c])||t.thickness!==s||t.opacity!==i||t.pageIndex!==o},ne(ic,"_type","ink"),ne(ic,"_editorType",ce.INK),ne(ic,"_defaultDrawingOptions",null);let kw=ic;var Ve,Pt,yo,oi,wo,_u,gs,ms,In,Tu,we,Pd,Rd,bg,Nw,xg,Lw,Ag,MR;const Bd=class Bd extends Ge{constructor(t){super({...t,name:"stampEditor"});A(this,we);A(this,Ve,null);A(this,Pt,null);A(this,yo,null);A(this,oi,null);A(this,wo,null);A(this,_u,"");A(this,gs,null);A(this,ms,null);A(this,In,!1);A(this,Tu,!1);y(this,oi,t.bitmapUrl),y(this,wo,t.bitmapFile)}static initialize(t,r){Ge.initialize(t,r)}static get supportedTypes(){return fe(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return fe(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(ce.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:i,width:o,height:a,channels:i.length/(o*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;l(this,Pt)&&(y(this,Ve,null),this._uiManager.imageManager.deleteId(l(this,Pt)),(t=l(this,gs))==null||t.remove(),y(this,gs,null),l(this,ms)&&(clearTimeout(l(this,ms)),y(this,ms,null))),super.remove()}rebuild(){if(!this.parent){l(this,Pt)&&S(this,we,bg).call(this);return}super.rebuild(),this.div!==null&&(l(this,Pt)&&l(this,gs)===null&&S(this,we,bg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(l(this,yo)||l(this,Ve)||l(this,oi)||l(this,wo)||l(this,Pt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),l(this,Ve)?S(this,we,Nw).call(this):S(this,we,bg).call(this),this.width&&!this.annotationElementId){const[s,i]=this.parentDimensions;this.setAt(t*s,r*i,this.width*s,this.height*i)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,ms)!==null&&clearTimeout(l(this,ms)),y(this,ms,setTimeout(()=>{y(this,ms,null),S(this,we,Lw).call(this)},200))}copyCanvas(t,r,s=!1){var p;t||(t=224);const{width:i,height:o}=l(this,Ve),a=new R0;let c=l(this,Ve),u=i,d=o,h=null;if(r){if(i>r||o>r){const k=Math.min(r/i,r/o);u=Math.floor(i*k),d=Math.floor(o*k)}h=document.createElement("canvas");const m=h.width=Math.ceil(u*a.sx),g=h.height=Math.ceil(d*a.sy);l(this,In)||(c=S(this,we,xg).call(this,m,g));const b=h.getContext("2d");b.filter=this._uiManager.hcmFilter;let v="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(v="#8f8f9d",w="#42414d");const x=15,E=x*a.sx,T=x*a.sy,P=new OffscreenCanvas(E*2,T*2),R=P.getContext("2d");R.fillStyle=v,R.fillRect(0,0,E*2,T*2),R.fillStyle=w,R.fillRect(0,0,E,T),R.fillRect(E,T,E,T),b.fillStyle=b.createPattern(P,"repeat"),b.fillRect(0,0,m,g),b.drawImage(c,0,0,c.width,c.height,0,0,m,g)}let f=null;if(s){let m,g;if(a.symmetric&&c.width<t&&c.height<t)m=c.width,g=c.height;else if(c=l(this,Ve),i>t||o>t){const w=Math.min(t/i,t/o);m=Math.floor(i*w),g=Math.floor(o*w),l(this,In)||(c=S(this,we,xg).call(this,m,g))}const v=new OffscreenCanvas(m,g).getContext("2d",{willReadFrequently:!0});v.drawImage(c,0,0,c.width,c.height,0,0,m,g),f={width:m,height:g,data:v.getImageData(0,0,m,g).data}}return{canvas:h,width:u,height:d,imageData:f}}getImageForAltText(){return l(this,gs)}static async deserialize(t,r,s){var g;let i=null;if(t instanceof ZP){const{data:{rect:b,rotation:v,id:w,structParent:x,popupRef:E},container:T,parent:{page:{pageNumber:P}}}=t,R=T.querySelector("canvas"),k=s.imageManager.getFromCanvas(T.id,R);R.remove();const M=((g=await r._structTree.getAriaAttributes(`${ax}${w}`))==null?void 0:g.get("aria-label"))||"";i=t={annotationType:ce.STAMP,bitmapId:k.id,bitmap:k.bitmap,pageIndex:P-1,rect:b.slice(0),rotation:v,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:M},isSvg:!1,structParent:x,popupRef:E}}const o=await super.deserialize(t,r,s),{rect:a,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:h,accessibilityData:f}=t;d&&s.imageManager.isValidId(d)?(y(o,Pt,d),c&&y(o,Ve,c)):y(o,oi,u),y(o,In,h);const[p,m]=o.pageDimensions;return o.width=(a[2]-a[0])/p,o.height=(a[3]-a[1])/m,o.annotationElementId=t.id||null,f&&(o.altTextData=f),o._initialData=i,y(o,Tu,!!i),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:ce.STAMP,bitmapId:l(this,Pt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,In),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=S(this,we,Ag).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=S(this,we,MR).call(this,s);if(c.isSame)return null;c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,r===null)return s;r.stamps||(r.stamps=new Map);const a=l(this,In)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!r.stamps.has(l(this,Pt)))r.stamps.set(l(this,Pt),{area:a,serialized:s}),s.bitmap=S(this,we,Ag).call(this,!1);else if(l(this,In)){const c=r.stamps.get(l(this,Pt));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=S(this,we,Ag).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ve=new WeakMap,Pt=new WeakMap,yo=new WeakMap,oi=new WeakMap,wo=new WeakMap,_u=new WeakMap,gs=new WeakMap,ms=new WeakMap,In=new WeakMap,Tu=new WeakMap,we=new WeakSet,Pd=function(t,r=!1){if(!t){this.remove();return}y(this,Ve,t.bitmap),r||(y(this,Pt,t.id),y(this,In,t.isSvg)),t.file&&y(this,_u,t.file.name),S(this,we,Nw).call(this)},Rd=function(){if(y(this,yo,null),this._uiManager.enableWaiting(!1),!!l(this,gs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Ve)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Ve)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},bg=function(){if(l(this,Pt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Pt)).then(s=>S(this,we,Pd).call(this,s,!0)).finally(()=>S(this,we,Rd).call(this));return}if(l(this,oi)){const s=l(this,oi);y(this,oi,null),this._uiManager.enableWaiting(!0),y(this,yo,this._uiManager.imageManager.getFromUrl(s).then(i=>S(this,we,Pd).call(this,i)).finally(()=>S(this,we,Rd).call(this)));return}if(l(this,wo)){const s=l(this,wo);y(this,wo,null),this._uiManager.enableWaiting(!0),y(this,yo,this._uiManager.imageManager.getFromFile(s).then(i=>S(this,we,Pd).call(this,i)).finally(()=>S(this,we,Rd).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Bd.supportedTypesStr;const r=this._uiManager._signal;y(this,yo,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),S(this,we,Pd).call(this,i)}s()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:r})}).finally(()=>S(this,we,Rd).call(this))),t.click()},Nw=function(){var h;const{div:t}=this;let{width:r,height:s}=l(this,Ve);const[i,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*i,s=this.height*o;else if(r>a*i||s>a*o){const f=Math.min(a*i/r,a*o/s);r*=f,s*=f}const[c,u]=this.parentDimensions;this.setDims(r*c/i,s*u/o),this._uiManager.enableWaiting(!1);const d=y(this,gs,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=r/i,this.height=s/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),S(this,we,Lw).call(this),l(this,Tu)||(this.parent.addUndoableEditor(this),y(this,Tu,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,_u)&&d.setAttribute("aria-label",l(this,_u))},xg=function(t,r){const{width:s,height:i}=l(this,Ve);let o=s,a=i,c=l(this,Ve);for(;o>2*t||a>2*r;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(c,0,0,u,d,0,0,o,a),c=h.transferToImageBitmap()}return c},Lw=function(){const[t,r]=this.parentDimensions,{width:s,height:i}=this,o=new R0,a=Math.ceil(s*t*o.sx),c=Math.ceil(i*r*o.sy),u=l(this,gs);if(!u||u.width===a&&u.height===c)return;u.width=a,u.height=c;const d=l(this,In)?l(this,Ve):S(this,we,xg).call(this,a,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,a,c)},Ag=function(t){if(t){if(l(this,In)){const i=this._uiManager.imageManager.getSvgUrl(l(this,Pt));if(i)return i}const r=document.createElement("canvas");return{width:r.width,height:r.height}=l(this,Ve),r.getContext("2d").drawImage(l(this,Ve),0,0),r.toDataURL()}if(l(this,In)){const[r,s]=this.pageDimensions,i=Math.round(this.width*r*$o.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*$o.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,o);return a.getContext("2d").drawImage(l(this,Ve),0,0,l(this,Ve).width,l(this,Ve).height,0,0,i,o),a.transferToImageBitmap()}return structuredClone(l(this,Ve))},MR=function(t){var a;const{pageIndex:r,accessibilityData:{altText:s}}=this._initialData,i=t.pageIndex===r,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&o,isSameAltText:o}},ne(Bd,"_type","stamp"),ne(Bd,"_editorType",ce.STAMP);let Mw=Bd;var hl,Pu,vs,bo,ai,nr,xo,Ru,fl,Dr,li,Ht,ci,K,Ao,Be,NR,Kr,Dw,Ow,Sg;const wr=class wr{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:s,accessibilityManager:i,annotationLayer:o,drawLayer:a,textLayer:c,viewport:u,l10n:d}){A(this,Be);A(this,hl);A(this,Pu,!1);A(this,vs,null);A(this,bo,null);A(this,ai,null);A(this,nr,new Map);A(this,xo,!1);A(this,Ru,!1);A(this,fl,!1);A(this,Dr,null);A(this,li,null);A(this,Ht,null);A(this,ci,null);A(this,K);const h=[...l(wr,Ao).values()];if(!wr._initialized){wr._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),y(this,K,e),this.pageIndex=t,this.div=r,y(this,hl,i),y(this,vs,o),this.viewport=u,y(this,Ht,c),this.drawLayer=a,this._structTree=s,l(this,K).addLayer(this)}get isEmpty(){return l(this,nr).size===0}get isInvisible(){return this.isEmpty&&l(this,K).getMode()===ce.NONE}updateToolbar(e){l(this,K).updateToolbar(e)}updateMode(e=l(this,K).getMode()){switch(S(this,Be,Sg).call(this),e){case ce.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ce.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ce.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of l(wr,Ao).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,Ht))==null?void 0:t.div)}setEditingState(e){l(this,K).setEditingState(e)}addCommands(e){l(this,K).addCommands(e)}cleanUndoStack(e){l(this,K).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,vs))==null||t.div.classList.toggle("disabled",!e)}async enable(){y(this,fl,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of l(this,nr).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(l(this,K).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!l(this,vs)){y(this,fl,!1);return}const t=l(this,vs).getEditableAnnotations();for(const r of t){if(r.hide(),l(this,K).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}y(this,fl,!1)}disable(){var s;y(this,Ru,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of l(this,nr).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(s=this.getEditableAnnotation(i.annotationElementId))==null||s.show(),i.remove()}if(l(this,vs)){const i=l(this,vs).getEditableAnnotations();for(const o of i){const{id:a}=o.data;if(l(this,K).isDeletedAnnotationElement(a))continue;let c=t.get(a);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(a),c&&(l(this,K).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}S(this,Be,Sg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of l(wr,Ao).values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),y(this,Ru,!1)}getEditableAnnotation(e){var t;return((t=l(this,vs))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,K).getActive()!==e&&l(this,K).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,Ht))!=null&&e.div&&!l(this,ci)){y(this,ci,new AbortController);const t=l(this,K).combinedSignal(l(this,ci));l(this,Ht).div.addEventListener("pointerdown",S(this,Be,NR).bind(this),{signal:t}),l(this,Ht).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,Ht))!=null&&e.div&&l(this,ci)&&(l(this,ci).abort(),y(this,ci,null),l(this,Ht).div.classList.remove("highlighting"))}enableClick(){if(l(this,bo))return;y(this,bo,new AbortController);const e=l(this,K).combinedSignal(l(this,bo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=l(this,bo))==null||e.abort(),y(this,bo,null)}attach(e){l(this,nr).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,K).isDeletedAnnotationElement(t)&&l(this,K).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,nr).delete(e.id),(t=l(this,hl))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,Ru)&&e.annotationElementId&&l(this,K).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,K).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,K).addDeletedAnnotationElement(e.annotationElementId),Ge.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,K).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!l(this,fl)),l(this,K).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,ai)&&(e._focusEventsAllowed=!1,y(this,ai,setTimeout(()=>{y(this,ai,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,K)._signal}),t.focus())},0))),e._structTreeParentId=(r=l(this,hl))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return l(this,K).getId()}combinedSignal(e){return l(this,K).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,Be,Kr))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){l(this,K).updateToolbar(e),l(this,K).updateMode(e);const{offsetX:r,offsetY:s}=S(this,Be,Ow).call(this),i=this.getNextId(),o=S(this,Be,Dw).call(this,{parent:this,id:i,x:r,y:s,uiManager:l(this,K),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=l(wr,Ao).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,K)))||null}createAndAddNewEditor(e,t,r={}){const s=this.getNextId(),i=S(this,Be,Dw).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:l(this,K),isCentered:t,...r});return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor(S(this,Be,Ow).call(this),!0)}setSelected(e){l(this,K).setSelected(e)}toggleSelected(e){l(this,K).toggleSelected(e)}unselect(e){l(this,K).unselect(e)}pointerup(e){var r;const{isMac:t}=nn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&l(this,xo)&&(y(this,xo,!1),!((r=l(this,Be,Kr))!=null&&r.isDrawer&&l(this,Be,Kr).supportMultipleDrawings))){if(!l(this,Pu)){y(this,Pu,!0);return}if(l(this,K).getMode()===ce.STAMP){l(this,K).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var s;if(l(this,K).getMode()===ce.HIGHLIGHT&&this.enableTextSelection(),l(this,xo)){y(this,xo,!1);return}const{isMac:t}=nn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(y(this,xo,!0),(s=l(this,Be,Kr))!=null&&s.isDrawer){this.startDrawingSession(e);return}const r=l(this,K).getActive();y(this,Pu,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus(),l(this,Dr)){l(this,Be,Kr).startDrawing(this,l(this,K),!1,e);return}l(this,K).setCurrentDrawingSession(this),y(this,Dr,new AbortController);const t=l(this,K).combinedSignal(l(this,Dr));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(y(this,li,null),this.commitOrRemove())},{signal:t}),l(this,Be,Kr).startDrawing(this,l(this,K),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&y(this,li,t);return}l(this,li)&&setTimeout(()=>{var t;(t=l(this,li))==null||t.focus(),y(this,li,null)},0)}endDrawingSession(e=!1){return l(this,Dr)?(l(this,K).setCurrentDrawingSession(null),l(this,Dr).abort(),y(this,Dr,null),y(this,li,null),l(this,Be,Kr).endDrawing(e)):null}findNewParent(e,t,r){const s=l(this,K).findParent(t,r);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return l(this,Dr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,Dr)&&l(this,Be,Kr).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=l(this,K).getActive())==null?void 0:e.parent)===this&&(l(this,K).commitOrRemove(),l(this,K).setActiveEditor(null)),l(this,ai)&&(clearTimeout(l(this,ai)),y(this,ai,null));for(const r of l(this,nr).values())(t=l(this,hl))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,l(this,nr).clear(),l(this,K).removeLayer(this)}render({viewport:e}){this.viewport=e,Sl(this.div,e);for(const t of l(this,K).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,K).commitOrRemove(),S(this,Be,Sg).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Sl(this.div,{rotation:r}),t!==r)for(const s of l(this,nr).values())s.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,K).viewParameters.realScale}};hl=new WeakMap,Pu=new WeakMap,vs=new WeakMap,bo=new WeakMap,ai=new WeakMap,nr=new WeakMap,xo=new WeakMap,Ru=new WeakMap,fl=new WeakMap,Dr=new WeakMap,li=new WeakMap,Ht=new WeakMap,ci=new WeakMap,K=new WeakMap,Ao=new WeakMap,Be=new WeakSet,NR=function(e){l(this,K).unselectAll();const{target:t}=e;if(t===l(this,Ht).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,Ht).div.contains(t)){const{isMac:r}=nn.platform;if(e.button!==0||e.ctrlKey&&r)return;l(this,K).showAllEditors("highlight",!0,!0),l(this,Ht).div.classList.add("free"),this.toggleDrawing(),hm.startHighlighting(this,l(this,K).direction==="ltr",{target:l(this,Ht).div,x:e.x,y:e.y}),l(this,Ht).div.addEventListener("pointerup",()=>{l(this,Ht).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,K)._signal}),e.preventDefault()}},Kr=function(){return l(wr,Ao).get(l(this,K).getMode())},Dw=function(e){const t=l(this,Be,Kr);return t?new t.prototype.constructor(e):null},Ow=function(){const{x:e,y:t,width:r,height:s}=this.div.getBoundingClientRect(),i=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,t+s),u=(i+a)/2-e,d=(o+c)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},Sg=function(){for(const e of l(this,nr).values())e.isEmpty()&&e.remove()},ne(wr,"_initialized",!1),A(wr,Ao,new Map([gw,kw,Mw,hm].map(e=>[e._editorType,e])));let Iw=wr;var Or,Bf,Zt,pl,Nm,LR,Cs,jw,IR,zw;const Ft=class Ft{constructor({pageIndex:e}){A(this,Cs);A(this,Or,null);A(this,Bf,0);A(this,Zt,new Map);A(this,pl,new Map);this.pageIndex=e}setParent(e){if(!l(this,Or)){y(this,Or,e);return}if(l(this,Or)!==e){if(l(this,Zt).size>0)for(const t of l(this,Zt).values())t.remove(),e.append(t);y(this,Or,e)}}static get _svgFactory(){return fe(this,"_svgFactory",new px)}draw(e,t=!1,r=!1){const s=ft(this,Bf)._++,i=S(this,Cs,jw).call(this),o=Ft._svgFactory.createElement("defs");i.append(o);const a=Ft._svgFactory.createElement("path");o.append(a);const c=`path_p${this.pageIndex}_${s}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke"),t&&l(this,pl).set(s,a);const u=r?S(this,Cs,IR).call(this,o,c):null,d=Ft._svgFactory.createElement("use");return i.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(i,e),l(this,Zt).set(s,i),{id:s,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=ft(this,Bf)._++,s=S(this,Cs,jw).call(this),i=Ft._svgFactory.createElement("defs");s.append(i);const o=Ft._svgFactory.createElement("path");i.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=Ft._svgFactory.createElement("mask");i.append(h),c=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=Ft._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Ft._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Ft._svgFactory.createElement("use");s.append(u),u.setAttribute("href",`#${a}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return s.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(s,e),l(this,Zt).set(r,s),r}finalizeDraw(e,t){l(this,pl).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:r,bbox:s,rootClass:i,path:o}=t,a=typeof e=="number"?l(this,Zt).get(e):e;if(a){if(r&&S(this,Cs,zw).call(this,a,r),s&&S(c=Ft,Nm,LR).call(c,a,s),i){const{classList:u}=a;for(const[d,h]of Object.entries(i))u.toggle(d,h)}if(o){const d=a.firstChild.firstChild;S(this,Cs,zw).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const r=l(this,Zt).get(e);r&&(l(t,Or).append(r),l(this,Zt).delete(e),l(t,Zt).set(e,r))}remove(e){l(this,pl).delete(e),l(this,Or)!==null&&(l(this,Zt).get(e).remove(),l(this,Zt).delete(e))}destroy(){y(this,Or,null);for(const e of l(this,Zt).values())e.remove();l(this,Zt).clear(),l(this,pl).clear()}};Or=new WeakMap,Bf=new WeakMap,Zt=new WeakMap,pl=new WeakMap,Nm=new WeakSet,LR=function(e,[t,r,s,i]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*s}%`,o.height=`${100*i}%`},Cs=new WeakSet,jw=function(){const e=Ft._svgFactory.create(1,1,!0);return l(this,Or).append(e),e.setAttribute("aria-hidden",!0),e},IR=function(e,t){const r=Ft._svgFactory.createElement("clipPath");e.append(r);const s=`clip_${t}`;r.setAttribute("id",s),r.setAttribute("clipPathUnits","objectBoundingBox");const i=Ft._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),s},zw=function(e,t){for(const[r,s]of Object.entries(t))s===null?e.removeAttribute(r):e.setAttribute(r,s)},A(Ft,Nm);let Fw=Ft;globalThis.pdfjsTestingUtils={HighlightOutliner:vw};se.AbortException;se.AnnotationEditorLayer;se.AnnotationEditorParamsType;se.AnnotationEditorType;se.AnnotationEditorUIManager;se.AnnotationLayer;se.AnnotationMode;se.ColorPicker;se.DOMSVGFactory;se.DrawLayer;se.FeatureTest;var Kz=se.GlobalWorkerOptions;se.ImageKind;se.InvalidPDFException;se.MissingPDFException;se.OPS;se.OutputScale;se.PDFDataRangeTransport;se.PDFDateString;se.PDFWorker;se.PasswordResponses;se.PermissionFlag;se.PixelsPerInch;se.RenderingCancelledException;se.TextLayer;se.TouchManager;se.UnexpectedResponseException;se.Util;se.VerbosityLevel;se.XfaLayer;se.build;se.createValidAbsoluteUrl;se.fetchData;var Qz=se.getDocument;se.getFilenameFromUrl;se.getPdfFilenameFromUrl;se.getXfaPageViewport;se.isDataScheme;se.isPdfFile;se.noContextMenu;se.normalizeUnicode;se.setLayerDimensions;se.shadow;se.stopEvent;se.version;Kz.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf.worker.min.mjs";async function Zz(n){const e=await n.arrayBuffer(),t=await Qz({data:e}).promise,r=[];for(let s=1;s<=t.numPages;s++){const a=(await(await t.getPage(s)).getTextContent()).items.map(c=>c.str).join(" ");r.push(a)}return r.join(`

`)}const Jz=()=>{const[n,e]=C.useState(null),[t,r]=C.useState("idle"),[s,i]=C.useState(),o=async(c,u,d)=>{e(null),i(d);try{r("parsing");const h=await Zz(u);if(!h.trim()){jl({title:"Error",description:"Could not extract text from the PDF.",variant:"destructive"}),r("error");return}r("extracting"),await e3(600),r("matching"),r("generating");const f=await fetch("https://clinical-alignment-backend.onrender.com/api/optimize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctorNotes:c,pdfText:h,referenceNotes:d})}),p=await f.json();if(!f.ok){jl({title:"Processing Error",description:p.error||"Failed to process notes.",variant:"destructive"}),r("error");return}if(p!=null&&p.error){jl({title:"AI Error",description:p.error,variant:"destructive"}),r("error");return}e(p),r("complete"),jl({title:"Success",description:"Documentation optimized successfully."})}catch(h){console.error(h),jl({title:"Error",description:h.message||"An unexpected error occurred.",variant:"destructive"}),r("error")}},a=!["idle","complete","error"].includes(t);return _.jsxs("div",{className:"min-h-screen flex flex-col",children:[_.jsx("header",{className:"border-b bg-card px-6 py-4",children:_.jsx("div",{className:"max-w-screen-2xl mx-auto flex items-center justify-between",children:_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Clinical Documentation Optimization"}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"AHMC AI Test  Chenyi Weng"})]})})}),a&&_.jsx("div",{className:"border-b bg-card",children:_.jsx("div",{className:"max-w-screen-2xl mx-auto",children:_.jsx(KF,{currentStep:t})})}),_.jsx("main",{className:"flex-1 flex",children:_.jsxs("div",{className:"max-w-screen-2xl mx-auto flex-1 flex w-full",children:[_.jsx("div",{className:"w-1/2 border-r p-6 overflow-auto",children:_.jsx(lF,{onOptimize:o,isProcessing:a})}),_.jsx("div",{className:"w-1/2 p-6 overflow-auto",children:_.jsx(qF,{result:n,referenceNotes:s})})]})}),_.jsx("footer",{className:"border-t bg-card px-6 py-3",children:_.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"This tool assists clinical documentation and does not replace physician judgment."})})]})},e3=n=>new Promise(e=>setTimeout(e,n)),t3=()=>{const n=Y_();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),_.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),_.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),_.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},n3=new iO,r3=()=>_.jsx(aO,{client:n3,children:_.jsxs(M2,{children:[_.jsx(cI,{}),_.jsx(BI,{}),_.jsx(YO,{children:_.jsxs(WO,{children:[_.jsx(b0,{path:"/",element:_.jsx(Jz,{})}),_.jsx(b0,{path:"*",element:_.jsx(t3,{})})]})})]})});vC(document.getElementById("root")).render(_.jsx(r3,{}));
